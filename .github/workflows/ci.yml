name: CI Pipeline

on:
  push:
    branches:
      - runner  # You can change this to the branch you want

jobs:
  build:
    runs-on: self-hosted  # This will use your self-hosted runner

    steps:
      - name: Write commit hash to file
        run: |
          # Get the latest commit hash
          COMMIT_HASH=$(git rev-parse HEAD)
          # Create a file and write the commit hash to it
          echo "Latest Commit Hash: $COMMIT_HASH" > commit-hash.txt
          
      # Optional: Verify the content of the file (output to the console)
      - name: Display the commit hash
        run: cat commit-hash.txt
