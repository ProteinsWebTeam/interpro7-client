name: CI Pipeline

on:
  push:
    branches:
      - main  # You can change this to the branch you want

jobs:
  build:
    runs-on: self-hosted  # This will use your self-hosted runner

    steps:
      # Checkout the repository
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          # Pull the repository using the access token
          token: ${{ secrets.GITHUB_TOKEN }}

      # Get the latest commit hash and write it to a file
      - name: Write commit hash to file
        run: |
          # Get the latest commit hash
          COMMIT_HASH=$(git rev-parse HEAD)
          # Create a file and write the commit hash to it
          echo "Latest Commit Hash: $COMMIT_HASH" > commit-hash.txt

