"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[3607],{54049:(e,t,a)=>{a.d(t,{Z:()=>l});var s,r=a(47750);try{s=new r.Z("search","local",1e3)}catch(e){console.error("Unable to create a persistent storage for the search terms"),console.error(e)}const l=s},22759:(e,t,a)=>{a.d(t,{ZP:()=>f,lq:()=>m,yj:()=>y}),a(28436),a(76801),a(43843),a(752),a(76265),a(60429),a(86544),a(64043),a(61514);var s=a(67294),r=a(45007),l=a(19119),n=a(85724),c=a(87616),o=a(6822),i=a(54049),h=a(98291),_=a(76371),u=a(82806),d=a(4861),p=(0,_.Z)(u.Z,d.Z),m=1e3,y=2e3;class v extends s.PureComponent{constructor(e){super(e),this.routerPush=e=>{var{pageSize:t,shouldRedirect:a}=this.props,s={page:1};t&&(s.page_size=Number(t));var r=this.state.localValue?this.state.localValue.trim():this.state.localValue;if(a){var l=(0,o.Z)(r);if(l)return void this.props.goToCustomLocation({description:l})}var n=this.state.searchHistory;r&&!this.state.searchHistory.includes(r)&&(n=[r,...this.state.searchHistory],this.setState({searchHistory:n})),i.Z.setValue(n),this.props.goToCustomLocation({description:{main:{key:"search"},search:{type:"text",value:r}},search:s},e)},this.debouncedPush=(0,n.Z)(this.routerPush,this.props.delay||m),this.handleKeyPress=e=>{"Enter"===e.code&&this.routerPush()},this.handleChange=(e,t)=>{var{action:a}=t;"input-change"===a&&this.setState({localValue:e,loading:!0},(()=>this.debouncedPush(!0)))},this.setSelection=e=>{this.setState({localValue:null==e?void 0:e.value,loading:!0},(()=>this.debouncedPush(!0)))},this.state={localValue:null,loading:!1,searchHistory:[]},this.select=s.createRef()}componentDidMount(){this._updateStateFromProps(),i.Z&&this.setState({searchHistory:i.Z.getValue()||[]})}componentDidUpdate(){this._updateStateFromProps()}_updateStateFromProps(){this.state.loading||this.props.value===this.state.localValue||this.setState({localValue:this.props.value,loading:!0}),this.props.value===this.state.localValue&&this.setState({loading:!1})}focus(){var e,t;this.select&&(null===(t=null===(e=this.select)||void 0===e?void 0:e.current)||void 0===t||t.focus())}render(){return s.createElement("div",{className:p("input-group","margin-bottom-small")},s.createElement("div",{className:p("search-input-box")},s.createElement(h.ZP,{options:(this.state.searchHistory||[]).map((e=>({value:e,label:e}))),ref:this.select,className:p(this.props.className,"select-search",{header:this.props.forHeader}),placeholder:"Enter your search",onKeyDown:this.handleKeyPress,onInputChange:this.handleChange,onChange:e=>this.setSelection(e),value:{value:this.state.localValue||"",label:this.state.localValue||""},inputValue:this.state.localValue||"",inputId:"search-terms-autocomplete",isClearable:!0,styles:{indicatorsContainer:e=>Object.assign(Object.assign({},e),{display:this.props.forHeader?"none":"flex"}),menu:e=>Object.assign(Object.assign({},e),{display:this.props.forHeader?"none":"flex"}),menuList:e=>Object.assign(Object.assign({},e),{width:"100%"}),input:e=>Object.assign(Object.assign({},e),{flex:"1 1 auto","> div":{width:"100%"},input:{minWidth:"7rem !important",textAlign:"left"}})}})))}}var b=(0,l.P1)((e=>e.customLocation.description.main.key),(e=>e.customLocation.description.search.value),(e=>e.customLocation.search.page_size),((e,t,a)=>({main:e,value:t,pageSize:a})));const f=(0,r.$j)(b,{goToCustomLocation:c.xb},null,{forwardRef:!0})(v)},48375:(e,t,a)=>{a.r(t),a.d(t,{SearchByText:()=>b,default:()=>g}),a(752),a(73964),a(76265),a(86544);var s=a(67294),r=a(45007),l=a(19119),n=a(21105),c=a(22759),o=a(29643);const i=e=>{var{children:t}=e;return s.createElement("i",null," ",s.createElement(o.Z,{to:{description:{main:{key:"search"},search:{type:"text",value:t}}}},t))};var h=a(3817),_=a(63294),u=a(76371),d=a(98622),p=a(4861),m=a(36237),y=(0,u.Z)(p.Z,d.Z,m.Z),v=(0,n.Z)({loader:()=>a.e(1169).then(a.bind(a,25392)),loading:()=>null}),b=e=>{var{main:t}=e,a=(0,s.useRef)(null);return(0,s.useEffect)((()=>{var e;"search"===t&&(null===(e=a.current)||void 0===e||e.focus())}),[t]),s.createElement("section",{className:y("vf-stack","vf-stack--400")},s.createElement(v,{data:{name:"Search By Text",description:"Search families, domains, proteins, keywords or GO terms"},processData:_.o7}),s.createElement("form",{onSubmit:e=>e.preventDefault(),"data-category":"navigation"},s.createElement("div",{className:y("simple-box")},s.createElement("header",null,"Search by protein families, domains, proteins, keywords, or GO terms"),s.createElement("div",{className:y("vf-stack","vf-stack--200")},s.createElement(c.ZP,{ref:a,delay:"search"===t?c.lq:c.yj}),s.createElement("div",{className:y("examples")},s.createElement("span",null," ","Examples:",s.createElement(i,null,"IPR020422"),",",s.createElement(i,null,"kinase"),",",s.createElement(i,null,"O00167"),",",s.createElement(i,null,"PF02932"),",",s.createElement(i,null,"GO:0007165"),",",s.createElement(i,null,"1t2v"),",",s.createElement(i,null,"UP000005640")))),s.createElement("footer",null,s.createElement("div",null,s.createElement(h.Z,{submit:!0,style:{marginRight:"0.2rem"}},"Search"),s.createElement(o.Z,{buttonType:"secondary",to:{description:{main:{key:"search"},search:{type:"text"}}}},"Clear")),s.createElement("div",{className:y("search-adv")},s.createElement("span",null,"Powered by"," ",s.createElement(o.Z,{className:y("neutral","ext"),target:"_blank",href:"https://www.ebi.ac.uk/ebisearch/"},"EBI search")))))))},f=(0,l.P1)((e=>e.customLocation.description.main.key),(e=>({main:e})));const g=(0,r.$j)(f)(b)},6822:(e,t,a)=>{a.d(t,{Z:()=>c}),a(752),a(76265);var s=a(18457),r=a(30673),l={protein:"uniprot",structure:"pdb",proteome:"uniprot",taxonomy:"uniprot",set:"all"},n=e=>{try{return(0,s.Z)(e),!0}catch(e){return!1}};const c=e=>{var t={main:{key:"entry"},entry:{accession:e,db:"InterPro"}};if(n(t))return t;for(var a of r.j$)if(t.entry||(t.entry={}),t.entry.db=a,n(t))return t;for(var[s,c]of Object.entries(l)){var o={main:{key:s},[s]:{accession:e,db:c}};if(n(o))return o}return null}},4861:(e,t,a)=>{a.d(t,{Z:()=>s});const s={"input-group":"SearchByText_style__input-group___f7","search-adv":"SearchByText_style__search-adv___d5",neutral:"SearchByText_style__neutral___b4","search-input":"SearchByText_style__search-input___b2","search-input-box":"SearchByText_style__search-input-box___a8","close-icon":"SearchByText_style__close-icon___ae","action-row":"SearchByText_style__action-row___fe","visible-label":"SearchByText_style__visible-label___a7",switch:"SearchByText_style__switch___a2","switch-paddle":"SearchByText_style__switch-paddle___d9","link-in-tooltip":"SearchByText_style__link-in-tooltip___b4","select-search":"SearchByText_style__select-search___ce",header:"SearchByText_style__header___e8",examples:"SearchByText_style__examples___cb"}},36237:(e,t,a)=>{a.d(t,{Z:()=>s});const s={"tabs-panel-content":"Search_style__tabs-panel-content___ee","search-form":"Search_style__search-form___dd","help-col":"Search_style__help-col___e9",removed:"Search_style__removed___d3",hollow:"Search_style__hollow___f0","simple-box":"Search_style__simple-box___a1"}},98622:(e,t,a)=>{a.d(t,{Z:()=>s});const s={card:"styles_blocks__card___ad",grid:"styles_blocks__grid___b2","simple-box":"styles_blocks__simple-box___c3"}}}]);
//# sourceMappingURL=3607.module.search-by-text.a9a.js.map