"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[7591],{77911:(e,a,t)=>{t.d(a,{W:()=>n,x:()=>i}),t(86544),t(64043),t(57267);var o=t(19119),r=t(8575),i=(0,o.P1)((e=>e.settings.alphafold),(e=>e.customLocation.description.protein.accession),((e,a)=>{var{protocol:t,hostname:o,port:i,root:n,query:s}=e;return(0,r.format)({protocol:t,hostname:o,port:i,pathname:n+"api/prediction/"+a,query:s})})),n=e=>(0,o.P1)(((a,t)=>t["data"+e]),(e=>{var a,t,o=null===(t=null===(a=null==e?void 0:e.payload)||void 0===a?void 0:a[0])||void 0===t?void 0:t.cifUrl;return(null==o?void 0:o.length)?o.replace("-model","-confidence").replace(".cif",".json"):null}))},14760:(e,a,t)=>{t.d(a,{S:()=>s,o:()=>l}),t(752),t(76265),t(65137),t(60429);var o=t(67294),r=t(63139),i=t(66830),n=t(16772),s=(e,a,t)=>{var o=[];for(var r of e){var{accession:i,short_name:s,name:l,source_database:c,integrated:d,chain:u}=r;if(null!==r[a]&&(r.type===t||"domain"===t&&"repeat"===r.type))for(var p of r[a])for(var v of p.fragments){var{start:m,end:f}=v,h=p.representative;p.representative&&o.push({accession:i,chain:u,short_name:s,name:l,source_database:c,integrated:d,representative:h,start:m,end:f,color:(0,n.mt)({source_database:c},n.tK.MEMBER_DB),length:f-m+1})}}return o},l=(e,a)=>(0,o.useMemo)((()=>c(e||[],a)),[e,a]),c=(e,a)=>{var t=[],o=function(e){t.splice(0,0,...e[(0,r.iZ)(a)].map((a=>Object.assign(Object.assign(Object.assign({},a),e.metadata),e.extra_fields||{}))))};for(var n of e)o(n);var l=t.filter((e=>"interpro"===e.source_database.toLowerCase())),c="structure"===a?"entry_structure_locations":"entry_protein_locations",d={domains:s(t,c,"domain"),families:s(t,c,"family")},u=d.domains,p=d.families,v=new Map(l.map((e=>[e.accession+"-"+e.chain+"-"+e.protein,e]))),m=t.filter((e=>e.integrated)),f=t.filter((e=>-1===l.concat(m).indexOf(e)&&!i.NQ.has(e.source_database.toLowerCase())));return m.forEach((e=>{var a=v.get(e.integrated+"-"+e.chain+"-"+e.protein)||{};a.children||(a.children=[]),-1===a.children.indexOf(e)&&a.children.push(e)})),m.sort(((e,a)=>e.chain?e.chain.localeCompare(a.chain):-1)),{interpro:l,unintegrated:f,representativeDomains:u,representativeFamilies:p,other:[]}}},57591:(e,a,t)=>{t.d(a,{ZP:()=>h,az:()=>f,m$:()=>m,r2:()=>u}),t(752),t(73964),t(76265),t(62795),t(13383),t(65137),t(64043),t(57267),t(86544),t(12826),t(76801),t(268),t(60429);var o=t(67294),r=t(32246),i=t(21105),n=t(39272),s=(0,i.Z)({loader:()=>Promise.all([t.e(8457),t.e(824),t.e(5562),t.e(8678),t.e(1950)]).then(t.bind(t,52552)),loading:null}),l=/_/g,c=["alphafold_confidence","secondary_structure","families","family","domains","domain","intrinsically_disordered_regions","conserved_site","conserved_residues","spurious_proteins","pathogenic_and_likely_pathogenic_variants","repeat","active_site","binding_site","ptm"],d=["coiled-coils,_signal_peptides,_transmembrane_regions","short_linear_motifs","pfam-n","funfam","match_conservation"],u=(e,a)=>{var[t,o]=e,[r,i]=a;for(var n of c){if(t.toLowerCase()===n)return-1;if(r.toLowerCase()===n)return 1}for(var s of d){if(t.toLowerCase()===s)return-1;if(r.toLowerCase()===s)return 1}return t>r?1:0};function p(e){var a,t,o,r,i,n,s,l,c=void 0,d=void 0;return Array.isArray(e)?(c=e[0].entry_protein_locations?null===(t=null===(a=e[0].entry_protein_locations)||void 0===a?void 0:a[0].fragments)||void 0===t?void 0:t[0]:null===(r=null===(o=e[0].locations)||void 0===o?void 0:o[0].fragments)||void 0===r?void 0:r[0],d=e[0].accession):(c=e.entry_protein_locations?null===(n=null===(i=e.entry_protein_locations)||void 0===i?void 0:i[0].fragments)||void 0===n?void 0:n[0]:null===(l=null===(s=e.locations)||void 0===s?void 0:s[0].fragments)||void 0===l?void 0:l[0],d=e.accession),c&&d?[d,c.start,c.end]:[0,0]}function v(e,a){var[t,o,r]=p(e),[i,n,s]=p(a);if(o>n)return 1;if(o<n)return-1;if(o===n){if(r<s)return 1;if(r>s)return-1;if(r===s)return t>i?1:-1}return 0}var m=e=>{var{interpro:a,unintegrated:t,other:o,representativeDomains:r,representativeFamilies:i,disorderedRegions:s}=e,l=(0,n.Hi)(a.concat(t));return l.domain||(l.domain=[]),l.family||(l.family=[]),l.homologous_superfamily&&(l.domain=l.domain.concat(l.homologous_superfamily),l.homologous_superfamily=[]),l.repeat&&(l.domain=l.domain.concat(l.repeat),l.repeat=[]),(null==i?void 0:i.length)&&(l.family=l.family.concat(i)),(null==r?void 0:r.length)&&(l.domain=l.domain.concat(r)),(null==s?void 0:s.length)&&(l.disorderedRegions=s),o&&(l.other_features=o),Object.values(l).map((e=>e.sort(v).flat())),l},f=e=>Object.entries(e).sort(u).map((e=>{var[a,t]=e;return[a.replace(l," "),t]}));const h=e=>{var a,t,i,n,l,c,d,u,p,m,{mainData:h,dataMerged:g,dataConfidence:y,dataVariation:_,dataProteomics:b,conservationError:P,showConservationButton:O,handleConservationLoad:j,loading:R,children:E,title:S="Entry matches to this protein"}=e,C=h.metadata||h.payload.metadata;if(y&&(0,r.J)(y,C.accession,g),(null==_?void 0:_.ok)&&_.payload){var D=(u=_.payload,p=["pathogenic","likely pathogenic"],m=u.features.filter((e=>((null==e?void 0:e.clinicalSignificances)||[]).filter((e=>p.includes(((null==e?void 0:e.type)||"").toLowerCase()))).length>0)),Object.assign(Object.assign({},u),{features:m}));D.features.length>0&&((e,a,t)=>{var o;(null===(o=null==e?void 0:e.features)||void 0===o?void 0:o.length)&&(t.pathogenic_and_likely_pathogenic_variants=[],t.pathogenic_and_likely_pathogenic_variants[0]={accession:"variation_"+a,data:e,type:"variation",protein:a,source_database:"proteinsAPI"})})(D,C.accession,g)}(null==b?void 0:b.ok)&&b.payload&&b.payload.features.length>0&&((e,a,t)=>{var o;(null===(o=null==e?void 0:e.features)||void 0===o?void 0:o.length)&&(t.ptm||(t.ptm=[]),t.ptm.push({accession:"ptm_"+a,data:e,type:"ptm",protein:a,source_database:"proteinsAPI"}))})(b.payload,C.accession,g);for(var Z={},k=!1,w=0;w<(null===(a=g.residues)||void 0===a?void 0:a.length);w++){var x=g.residues[w];if("pirsr"===x.source_database){k||(k=!0);var L=(null===(i=null===(t=x.locations)||void 0===t?void 0:t[0].fragments)||void 0===i?void 0:i[0].start)||0,F=(null===(l=null===(n=x.locations)||void 0===n?void 0:n[0].fragments)||void 0===l?void 0:l[0].end)||0,I=null===(d=null===(c=x.locations)||void 0===c?void 0:c[0].description)||void 0===d?void 0:d.replace(".",""),N=L.toString()+F.toString()+I;Z[N]||(Z[N]=x)}else Z[x.accession]=x}k&&(Z.PIRSR={accession:"PIRSR_GROUP",source_database:"pirsr",type:"residue",locations:[{description:"PIRSR",fragments:[{residues:"",start:-10,end:0}]}]}),g.conserved_residues=Object.values(Z).sort(((e,a)=>"pirsr"!==e.source_database&&"pirsr"===a.source_database||e.source_database===a.source_database&&"PIRSR_GROUP"===e.accession?-1:"pirsr"===e.source_database&&"pirsr"!==a.source_database||e.source_database===a.source_database&&"PIRSR_GROUP"===a.accession?1:e.accession.localeCompare(a.accession))),g.domain&&(g.domains=g.domain.slice()),g.family&&(g.families=g.family.slice());var U=["domain","family","residues"],A=f(g).filter((e=>!U.includes(e[0]))),B=[],q={};if(C.accession.startsWith("iprscan")){var M=A.filter((e=>"homologous superfamily"==e[0]))[0],T=A.filter((e=>"representative domains"==e[0]))[0],W=A.filter((e=>"representative families"==e[0]))[0];T&&T[1].map((e=>{"object"==typeof e&&null!==e&&(e.representative=!0)})),console.log(W),W&&W[1].map((e=>{"object"==typeof e&&null!==e&&(e.representative=!0)})),A.map((e=>{"domains"===e[0]&&(M&&(e[1]=e[1].concat(M[1])),T&&(e[1]=e[1].concat(T[1]))),"homologous superfamily"===e[0]&&(e[1]=[])})),B=["alphafold confidence","families","domains","pathogenic and likely pathogenic variants","intrinsically disordered regions","spurious proteins","conserved residues","unintegrated","other features","other residues"],q={"secondary structure":!1,families:!1,domains:!1,repeat:!1,"conserved site":!1,"active site":!1,"binding site":!1,ptm:!1,"match conservation":!1,"coiled-coils, signal peptides, transmembrane regions":!1,"short linear motifs":!1,"pfam-n":!1,funfam:!1},A.map((e=>{e[1].sort(v).flat()})),console.log(A)}else B=["alphafold confidence","families","domains","pathogenic and likely pathogenic variants","intrinsically disordered regions","spurious proteins","conserved residues"],q={"secondary structure":!1,families:!0,domains:!0,repeat:!1,"conserved site":!1,"active site":!1,"binding site":!1,ptm:!1,"match conservation":!1,"coiled-coils, signal peptides, transmembrane regions":!1,"short linear motifs":!1,"pfam-n":!1,funfam:!1};return o.createElement(s,{protein:C,data:A,title:S,show:!0,ervationButton:O,handleConservationLoad:j,conservationError:P,loading:R,mainTracks:B,hideCategories:q},E)}},39272:(e,a,t)=>{t.d(a,{ZP:()=>Z,Hi:()=>j,RF:()=>O}),t(752),t(76265),t(65137),t(76801),t(43843),t(278),t(86544);var o=t(67294),r=t(19119),i=t(8575),n=t(34287),s=t(10838),l=t(40730),c=t(77911),d=t(14760),u=t(85869),p=t(65455),v=t(5064),m=(t(60429),"Consensus Disorder Prediction");t(268);const f=(e,a)=>{var t=[],o=(e=>{var a={};return Object.keys(e).forEach((t=>{var o,r;if(t.startsWith("PIRSR")){var i=t.substring(0,11);a[i]||(a[i]=Object.assign(Object.assign({},e[t]),{accession:i,locations:[]})),null===(o=e[t].locations)||void 0===o||o.forEach((e=>e.accession=t)),null===(r=a[i].locations)||void 0===r||r.push(...e[t].locations||[])}else a[t]=Object.assign({},e[t])})),a})(a),{representative_domains:r}=e,i=function(e,a){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&a.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)a.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}(e,["representative_domains"]);Object.values(i).forEach((e=>e.forEach((e=>{var a=e.accession.startsWith("PIRSF")?"PIRSR"+e.accession.substring(5,11):e.accession;if(o[a]){var r=Object.assign({},e);r.accession="residue:"+e.accession,r.residues=[o[a]],t.push(r),o[a].linked=!0}e.children&&e.children.length&&e.children.forEach((e=>{var a=e.accession.startsWith("PIRSF")?"PIRSR"+e.accession.substring(5,11):e.accession;if(o[a]){var r=Object.assign({},e);r.accession="residue:"+e.accession,r.residues=[o[a]],t.push(r),o[a].linked=!0}}))}))));var n=[];Object.values(o).filter((e=>{var{linked:a}=e;return!a})).forEach((e=>{e.locations.forEach(((a,t)=>{var o=Object.assign({},e);o.accession=(a.accession||e.accession)+"."+t,o.type="residue",o.locations=[a],n.push(o)}))})),e.residues=t.concat(n)};var h=t(57591);const g=e=>{var{loading:a,status:t,payload:o}=e,r=[];if(!a&&200===t&&o){var i=Object.values(o.items);for(var n of i){var s=n.content.chain.structure;for(var l of n.content.loci)"region"===l.type&&r.push({accession:"REPEAT:"+s+":"+l.start+"-"+l.end,protein:s,source_database:"RepeatsDB",type:"Consensus",locations:[{fragments:[{start:l.start,end:l.end}]}]})}}return r};var y={F:"Function region",S:"Order state",D:"Disorder state",T:"Transition",I:"Transition with interaction"};const _=e=>{var{loading:a,status:t,payload:o}=e,r=[];if(!a&&200===t&&o){var i=1;for(var n of o.disprot_consensus.full)r.push({accession:"DISPROT:"+i++,protein:o.acc,source_database:"DisProt",type:y[n.type]||"",locations:[{fragments:[{start:n.start,end:n.end}]}]})}return r};var b=(0,r.P1)((e=>e.settings.repeatsDB),(e=>e.customLocation.description.protein.accession),((e,a)=>{var{protocol:t,hostname:o,port:r,root:n}=e;return a?(0,i.format)({protocol:t,hostname:o,port:r,pathname:""+n,query:{"chain.structure":""+a,"chain.id":"A",skip:"0",limit:"1"}}):null})),P=(0,r.P1)((e=>e.settings.disprot),(e=>e.customLocation.description.protein.accession),((e,a)=>{var{protocol:t,hostname:o,port:r,root:n}=e;return a?(0,i.format)({protocol:t,hostname:o,port:r,pathname:n+"/"+a,query:{format:"json"}}):null}));var O=(e,a)=>e.accession>a.accession?1:-1,j=e=>{var a={};for(var t of e)a[t.type]||(a[t.type]=[]),a[t.type].push(t);return Object.values(a).forEach((e=>e.sort(O))),a},R=(e,a)=>a.other_features?a.other_features.filter((a=>{var t=a.source_database;if(t)return Array.isArray(e)?e.some((e=>t.includes(e))):e.includes(t)})):[],E=(0,r.P1)((e=>e.settings.api),(e=>e.customLocation.description.protein.accession),((e,a)=>{var{protocol:t,hostname:o,port:r,root:n}=e,l={main:{key:"entry"},protein:{isFilter:!0,db:"uniprot",accession:a},entry:{db:"all"}};return(0,i.format)({protocol:t,hostname:o,port:r,pathname:n+(0,s.Z)(l),query:{page_size:200,extra_fields:"hierarchy,short_name"}})})),S=e=>(0,r.P1)((e=>e.settings.api),(e=>e.customLocation.description),((a,t)=>{var{protocol:o,hostname:r,port:n,root:l}=a;return(0,i.format)({protocol:o,hostname:r,port:n,pathname:l+(0,s.Z)(t),query:{[e]:null}})})),C=(0,r.P1)((e=>e.settings.proteinsAPI),(e=>{var a;return(null===(a=e.customLocation.description.protein)||void 0===a?void 0:a.accession)||""}),((e,a)=>{var{protocol:t,hostname:o,port:r,root:n}=e;return(0,i.format)({protocol:t,hostname:o,port:r,pathname:n+"variation/"+a})})),D=(0,r.P1)((e=>e.settings.proteinsAPI),(e=>{var a;return(null===(a=e.customLocation.description.protein)||void 0===a?void 0:a.accession)||""}),((e,a)=>{var{protocol:t,hostname:o,port:r,root:n}=e;return(0,i.format)({protocol:t,hostname:o,port:r,pathname:n+"proteomics/ptm/"+a})}));const Z=(k=(0,n.Z)({getUrl:c.x,propNamespace:"Prediction"})((0,n.Z)({getUrl:(0,c.W)("Prediction"),propNamespace:"Confidence"})((0,n.Z)({getUrl:S("extra_features"),propNamespace:"Features"})((0,n.Z)({getUrl:S("residues"),propNamespace:"Residues"})((0,n.Z)({getUrl:D,propNamespace:"Proteomics"})((0,n.Z)({getUrl:C,propNamespace:"Variation"})((0,n.Z)(E)((e=>{var a,t,{data:r,mainData:i,dataResidues:n,dataFeatures:s,dataConfidence:c,dataVariation:g,dataProteomics:y,onMatchesLoaded:_,onFamiliesFound:b,children:P,externalSourcesData:O,title:j}=e,[E,S]=(0,o.useState)(null),C=(0,d.o)(null===(a=null==r?void 0:r.payload)||void 0===a?void 0:a.results,"protein");if((0,o.useEffect)((()=>{var e=null==r?void 0:r.payload;if(r&&!r.loading&&C){null==_||_((null==e?void 0:e.results)||[]);var{interpro:a,unintegrated:t,representativeDomains:o,representativeFamilies:i,other:n}=C;S({interpro:a,unintegrated:t,representativeDomains:o,representativeFamilies:i,other:n}),null==b||b(a.filter((e=>"family"===e.type)))}}),[r,C]),(null==r?void 0:r.loading)&&(null==s?void 0:s.loading))return o.createElement(u.Z,null);var D=null==r?void 0:r.payload;if(!(null==D?void 0:D.results)){var Z=l.dG.get(l.l8);if("Query timed out"===(null===(t=null==r?void 0:r.payload)||void 0===t?void 0:t.detail))return o.createElement(v.ZP,{text:Z||"",status:l.l8})}if(!E)return null;var{interpro:k,unintegrated:w,other:x,representativeDomains:L,representativeFamilies:F}=E,I=(0,h.m$)({interpro:k,unintegrated:w,other:x,representativeDomains:L,representativeFamilies:F});if(O.length&&(I.external_sources=O),n&&!n.loading&&n.payload&&f(I,n.payload),s&&!s.loading&&s.payload){((e,a)=>{"mobidb-lite"in a&&(e.other_features=e.other_features.concat((e=>{var a,t,o={};for(var r of e.locations||[]){var i=(null===(a=r.fragments[0])||void 0===a?void 0:a.seq_feature)||r.seq_feature||m;o[i]?null===(t=o[i].locations)||void 0===t||t.push(r):o[i]=Object.assign(Object.assign({},e),{accession:"Mobidblt-"+i,locations:[r]})}return Object.values(o)})(a["mobidb-lite"]))),e.other_features=e.other_features.concat(Object.values(a).filter((e=>{var{source_database:a}=e;return"mobidblt"!==a}))).sort(((e,a)=>{var{accession:t,source_database:o}=e,{accession:r,source_database:i}=a;return o===i?t.includes(m)?-1:r.includes(m)?1:0:o.localeCompare(i)}))})(I,null==s?void 0:s.payload),I.intrinsically_disordered_regions=(e=>{var a=e.other_features.filter((e=>e.accession.toLowerCase().includes("mobidblt"))),t=a.filter((e=>e.accession.toLowerCase().includes("consensus"))),o=a.filter((e=>!e.accession.toLowerCase().includes("consensus")));return t.length>0&&(o.map((e=>{e.protein=e.accession})),t[0].children=o),t})(I);var N=["coils","phobius","signalp","tmhmm"];I["coiled-coils,_signal_peptides,_transmembrane_regions"]=R(N,I),I["pfam-n"]=R("pfam-n",I),I.short_linear_motifs=R("elm",I),I.funfam=R("funfam",I),Object.keys(I).includes("region")&&(I.spurious_proteins=I.region,delete I.region);var U=N.concat(["pfam-n","short_linear_motifs","mobidblt","funfam","elm"]);I.other_features=I.other_features.filter((e=>!U.some((a=>{var t;return null===(t=e.source_database)||void 0===t?void 0:t.includes(a)}))))}return Object.keys(I).length&&Object.values(I).map((e=>e.length)).reduce(((e,a)=>e+a),0)||(null==r?void 0:r.loading)||(null==s?void 0:s.loading)||(null==n?void 0:n.loading)?o.createElement(o.Fragment,null,o.createElement(h.ZP,{title:j,mainData:i,dataMerged:I,dataConfidence:c,dataVariation:g,dataProteomics:y,loading:(null==r?void 0:r.loading)||(null==s?void 0:s.loading)||(null==n?void 0:n.loading)||!1},P)):o.createElement(p.Z,{type:"info"},"No entries match this protein.")})))))))),w=k.displayName||k.name||"Component",(x=e=>{var{dataRepeatsDB:a,isStaleRepeatsDB:t,dataDisProt:r,isStaleDisProt:i}=e,n=function(e,a){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&a.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)a.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}(e,["dataRepeatsDB","isStaleRepeatsDB","dataDisProt","isStaleDisProt"]),s={externalSourcesData:[...a?g(a):[],...r?_(r):[]]};return o.createElement(k,Object.assign({},s,n))}).displayName="loadExternalSources("+w+")",(0,n.Z)({getUrl:b,propNamespace:"RepeatsDB"})((0,n.Z)({getUrl:P,propNamespace:"DisProt"})(x)));var k,w,x},32246:(e,a,t)=>{t.d(a,{J:()=>m,Z:()=>g}),t(752),t(73964),t(76265),t(32320);var o=t(67294),r=t(34287),i=t(21105),n=t(19119),s=t(8575),l=t(10838),c=t(14760),d=t(77911),u=t(85869),p=t(57591),v=(0,i.Z)({loader:()=>Promise.all([t.e(8457),t.e(824),t.e(5562),t.e(8678),t.e(1950)]).then(t.bind(t,52552)),loading:null}),m=(e,a,t)=>{var o,r;(null===(r=null===(o=null==e?void 0:e.payload)||void 0===o?void 0:o.confidenceCategory)||void 0===r?void 0:r.length)&&(t.alphafold_confidence=[],t.alphafold_confidence[0]={accession:"confidence_af_"+a,data:e.payload.confidenceCategory.join(""),type:"confidence",protein:a,source_database:"alphafold"})},f=(0,n.P1)((e=>e.settings.api),((e,a)=>a.protein),((e,a)=>{var{protocol:t,hostname:o,port:r,root:i}=e,n={main:{key:"protein"},protein:{db:"uniprot",accession:a}};return(0,s.format)({protocol:t,hostname:o,port:r,pathname:i+(0,l.Z)(n)})})),h=(0,n.P1)((e=>e.settings.api),((e,a)=>a.protein),((e,a)=>{var{protocol:t,hostname:o,port:r,root:i}=e,n={main:{key:"entry"},entry:{db:"all"},protein:{isFilter:!0,db:"uniprot",accession:a}};return(0,s.format)({protocol:t,hostname:o,port:r,pathname:i+(0,l.Z)(n),query:{page_size:200,extra_fields:"short_name"}})}));const g=(0,r.Z)({getUrl:d.x,propNamespace:"Prediction"})((0,r.Z)({getUrl:(0,d.W)("Prediction"),propNamespace:"Confidence"})((0,r.Z)({getUrl:f,propNamespace:"Protein"})((0,r.Z)(h)((e=>{var a,t,{data:r,protein:i,dataProtein:n,dataConfidence:s,onChangeSelection:l,isSplitScreen:d=!1}=e,f=(0,o.useRef)(null),[h,g]=(0,o.useState)([]),[y,_]=(0,o.useState)([]),b=(0,o.useRef)(y),P=(0,o.useRef)(h),O=(0,c.o)(null===(a=null==r?void 0:r.payload)||void 0===a?void 0:a.results,"protein"),j=e=>{P.current=e,g(e)},R=e=>{b.current=e,_(e)};if((0,o.useEffect)((()=>{var e=[...y,...h];l(e.length?e:null)}),[h,y]),(0,o.useEffect)((()=>{var e;null===(e=f.current)||void 0===e||e.addEventListener("change",(e=>{var a,t,o,r=e;if(r.detail){var{eventType:i,highlight:n}=r.detail;switch(i){case"click":P.current.length?j([]):j(b.current);break;case"mouseover":var s=parseInt(null===(o=null===(t=null===(a=null==r?void 0:r.detail)||void 0===a?void 0:a.feature)||void 0===t?void 0:t.color)||void 0===o?void 0:o.substring(1),16)||0,l=(null==n?void 0:n.split(",").map((e=>{var a=e.split(":");return{chain:"A",start:Number(null==a?void 0:a[0])||1,end:Number(null==a?void 0:a[1])||1,colour:s}})))||[];R(l);break;case"mouseout":R([])}}}))}),[f.current]),!r||r.loading||!n||n.loading||!O)return o.createElement(u.Z,null);var{interpro:E,unintegrated:S,representativeDomains:C,representativeFamilies:D}=O,Z=(0,p.m$)({interpro:E,unintegrated:S,representativeDomains:C,representativeFamilies:D});Z.domain&&(Z.domains=Z.domain.slice(),Z.domain=[]),Z.family&&(Z.families=Z.family.slice(),Z.family=[]),s&&m(s,i,Z);var k=(0,p.az)(Z);return(null===(t=n.payload)||void 0===t?void 0:t.metadata)?o.createElement("div",{ref:f},o.createElement(v,{protein:n.payload.metadata,data:k,mainTracks:["alphafold confidence","domains","families","active site","conserved site"],hideCategories:{"alphafold confidence":!1,domains:!1,families:!1,"active site":!1,"conserved site":!1},title:"Protein domains",showOptions:!d})):null})))))},55565:e=>{var a=TypeError;e.exports=function(e){if(e>9007199254740991)throw a("Maximum allowed index exceeded");return e}},37809:(e,a,t)=>{var o=t(92297),r=t(6310),i=t(55565),n=t(54071),s=function(e,a,t,l,c,d,u,p){for(var v,m,f=c,h=0,g=!!u&&n(u,p);h<l;)h in t&&(v=g?g(t[h],h,a):t[h],d>0&&o(v)?(m=r(v),f=s(e,a,v,m,f,d-1)-1):(i(f+1),e[f]=v),f++),h++;return f};e.exports=s},62795:(e,a,t)=>{var o=t(79989),r=t(37809),i=t(90690),n=t(6310),s=t(68700),l=t(27120);o({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,a=i(this),t=n(a),o=l(a,0);return o.length=r(o,a,a,t,0,void 0===e?1:s(e)),o}})},13383:(e,a,t)=>{t(87370)("flat")}}]);
//# sourceMappingURL=7591.module.7591.245.js.map