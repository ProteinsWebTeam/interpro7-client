"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[744],{81667:(t,e,n)=>{n.d(e,{Z:()=>i});var a=n(67294),r=(0,n(76371).Z)({"tag-sqc":"Accession_style__tag-sqc___bf"});const i=t=>{var{withTitle:e,accession:n,title:i}=t;return a.createElement("div",null,""!==i&&e?a.createElement("span",null," ",i||"Accession",":"):null,"Job ID"===i?a.createElement("span",{className:r("tag-sqc")}," ",n):n)}},32492:(t,e,n)=>{n.d(e,{Z:()=>d}),n(76801),n(60429),n(752),n(76265);var a=n(67294),r=n(45007),i=n(19119),s=n(87616),l=n(76371),o=n(28757),c=(0,l.Z)(o.Z),u=[["accession","Accession"],["name","Name"],["short","Short Name"]],h=(0,i.P1)((t=>t.settings.ui),(t=>({labelContent:t.labelContent})));const d=(0,r.$j)(h,{changeSettingsRaw:s.Ft})((t=>{var{labelContent:e,changeSettingsRaw:n}=t,r=(0,a.useId)(),i=t=>{var a=t.target.value;if(["accession","name","short"].includes(a)){var r=Object.assign(Object.assign({},e),{[a]:!(null==e?void 0:e[a])});r.accession||r.name||r.short||(r.short=!0),n("ui","labelContent",r)}};return a.createElement("section",null,a.createElement("ul",{className:c("nested-list","no-bullet")},a.createElement("header",null,"Label by"),u.map((t=>{var[n,s]=t;return a.createElement("li",{key:n},a.createElement("div",{className:c("vf-form__item","vf-form__item--checkbox"),style:{whiteSpace:"nowrap"}},a.createElement("input",{className:"vf-form__checkbox",type:"checkbox",onChange:i,value:n,checked:e[n],id:r+"-"+n}),a.createElement("label",{className:c("vf-form__label"),htmlFor:r+"-"+n},s)))}))))}))},12092:(t,e,n)=>{n.r(e),n.d(e,{default:()=>mt,schemaProcessData:()=>dt}),n(752),n(73964),n(76265),n(64043),n(60429),n(86544),n(57267),n(38320);var a=n(67294),r=n(81667),i=n(38043),s=n(12898),l=n(34017),o=n(32011),c=n(92701),u=n(21105),h=n(52727),d=n(10838),f=n(45007),v=n(19119),_=n(87616),m=n(26940),p=n(53477),g=n(3817),y=n(96597),b=n(32492),x=(n(32320),n(52362),n(23838)),w=n(47840),k=n(58457),E=n(96057),N=n(93466),C=n(22718),Z=n(79611);const L=t=>()=>t;function A(t,{sourceEvent:e,subject:n,target:a,identifier:r,active:i,x:s,y:l,dx:o,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:o,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function M(t){return!t.ctrlKey&&!t.button}function S(){return this.parentNode}function D(t,e){return null==e?{x:t.x,y:t.y}:e}function T(){return navigator.maxTouchPoints||"ontouchstart"in this}A.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var j=n(91739);const z=4294967296;function P(t){return t.x}function q(t){return t.y}var H=Math.PI*(3-Math.sqrt(5));function F(t,e,n,a){if(isNaN(e)||isNaN(n))return t;var r,i,s,l,o,c,u,h,d,f=t._root,v={data:a},_=t._x0,m=t._y0,p=t._x1,g=t._y1;if(!f)return t._root=v,t;for(;f.length;)if((c=e>=(i=(_+p)/2))?_=i:p=i,(u=n>=(s=(m+g)/2))?m=s:g=s,r=f,!(f=f[h=u<<1|c]))return r[h]=v,t;if(l=+t._x.call(null,f.data),o=+t._y.call(null,f.data),e===l&&n===o)return v.next=f,r?r[h]=v:t._root=v,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(c=e>=(i=(_+p)/2))?_=i:p=i,(u=n>=(s=(m+g)/2))?m=s:g=s}while((h=u<<1|c)==(d=(o>=s)<<1|l>=i));return r[d]=f,r[h]=v,t}function I(t,e,n,a,r){this.node=t,this.x0=e,this.y0=n,this.x1=a,this.y1=r}function O(t){return t[0]}function V(t){return t[1]}function W(t,e,n){var a=new B(null==e?O:e,null==n?V:n,NaN,NaN,NaN,NaN);return null==t?a:a.addAll(t)}function B(t,e,n,a,r,i){this._x=t,this._y=e,this._x0=n,this._y0=a,this._x1=r,this._y1=i,this._root=void 0}function G(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var R=W.prototype=B.prototype;function U(t){return function(){return t}}function K(t){return 1e-6*(t()-.5)}function X(t){return t.index}function Y(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function J(t,e){var n,a=1;function r(){var r,i,s=n.length,l=0,o=0;for(r=0;r<s;++r)l+=(i=n[r]).x,o+=i.y;for(l=(l/s-t)*a,o=(o/s-e)*a,r=0;r<s;++r)(i=n[r]).x-=l,i.y-=o}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r.strength=function(t){return arguments.length?(a=+t,r):a},r}R.copy=function(){var t,e,n=new B(this._x,this._y,this._x0,this._y0,this._x1,this._y1),a=this._root;if(!a)return n;if(!a.length)return n._root=G(a),n;for(t=[{source:a,target:n._root=new Array(4)}];a=t.pop();)for(var r=0;r<4;++r)(e=a.source[r])&&(e.length?t.push({source:e,target:a.target[r]=new Array(4)}):a.target[r]=G(e));return n},R.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return F(this.cover(e,n),e,n,t)},R.addAll=function(t){var e,n,a,r,i=t.length,s=new Array(i),l=new Array(i),o=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<i;++n)isNaN(a=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=a,l[n]=r,a<o&&(o=a),a>u&&(u=a),r<c&&(c=r),r>h&&(h=r));if(o>u||c>h)return this;for(this.cover(o,c).cover(u,h),n=0;n<i;++n)F(this,s[n],l[n],t[n]);return this},R.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,a=this._y0,r=this._x1,i=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,i=(a=Math.floor(e))+1;else{for(var s,l,o=r-n||1,c=this._root;n>t||t>=r||a>e||e>=i;)switch(l=(e<a)<<1|t<n,(s=new Array(4))[l]=c,c=s,o*=2,l){case 0:r=n+o,i=a+o;break;case 1:n=r-o,i=a+o;break;case 2:r=n+o,a=i-o;break;case 3:n=r-o,a=i-o}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=a,this._x1=r,this._y1=i,this},R.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},R.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},R.find=function(t,e,n){var a,r,i,s,l,o,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,v=[],_=this._root;for(_&&v.push(new I(_,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);o=v.pop();)if(!(!(_=o.node)||(r=o.x0)>d||(i=o.y0)>f||(s=o.x1)<u||(l=o.y1)<h))if(_.length){var m=(r+s)/2,p=(i+l)/2;v.push(new I(_[3],m,p,s,l),new I(_[2],r,p,m,l),new I(_[1],m,i,s,p),new I(_[0],r,i,m,p)),(c=(e>=p)<<1|t>=m)&&(o=v[v.length-1],v[v.length-1]=v[v.length-1-c],v[v.length-1-c]=o)}else{var g=t-+this._x.call(null,_.data),y=e-+this._y.call(null,_.data),b=g*g+y*y;if(b<n){var x=Math.sqrt(n=b);u=t-x,h=e-x,d=t+x,f=e+x,a=_.data}}return a},R.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,a,r,i,s,l,o,c,u,h,d,f=this._root,v=this._x0,_=this._y0,m=this._x1,p=this._y1;if(!f)return this;if(f.length)for(;;){if((c=i>=(l=(v+m)/2))?v=l:m=l,(u=s>=(o=(_+p)/2))?_=o:p=o,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(a=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,a?(r?a.next=r:delete a.next,this):e?(r?e[h]=r:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},R.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},R.root=function(){return this._root},R.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},R.visit=function(t){var e,n,a,r,i,s,l=[],o=this._root;for(o&&l.push(new I(o,this._x0,this._y0,this._x1,this._y1));e=l.pop();)if(!t(o=e.node,a=e.x0,r=e.y0,i=e.x1,s=e.y1)&&o.length){var c=(a+i)/2,u=(r+s)/2;(n=o[3])&&l.push(new I(n,c,u,i,s)),(n=o[2])&&l.push(new I(n,a,u,c,s)),(n=o[1])&&l.push(new I(n,c,r,i,u)),(n=o[0])&&l.push(new I(n,a,r,c,u))}return this},R.visitAfter=function(t){var e,n=[],a=[];for(this._root&&n.push(new I(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var i,s=e.x0,l=e.y0,o=e.x1,c=e.y1,u=(s+o)/2,h=(l+c)/2;(i=r[0])&&n.push(new I(i,s,l,u,h)),(i=r[1])&&n.push(new I(i,u,l,o,h)),(i=r[2])&&n.push(new I(i,s,h,u,c)),(i=r[3])&&n.push(new I(i,u,h,o,c))}a.push(e)}for(;e=a.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},R.x=function(t){return arguments.length?(this._x=t,this):this._x},R.y=function(t){return arguments.length?(this._y=t,this):this._y};class ${constructor(t){var{element:e="body",directional:n=!1,width:a,height:r,r:i=5,multiple_relationships:s=!1,useCtrlToZoom:l=!1,nodeLabel:o}=t;this.r=i,this._autoWidth=!a,this._autoHeight=!r,this.width=a,this.height=r,this.element=e,this.multiple_relationships=s,this.directional=n,this.useCtrlToZoom=l,this.nodeLabel=o,this.updatingLabels=!1,this.size=(0,w.Z)().range([1,5*this.r]),this.tickness=(0,w.Z)().range([.5,1,5]).domain([1,1e-4,0]),this.svg=(0,x.Z)(this.element).append("svg").attr("width",this.width||0).attr("height",this.height||0).attr("class","clanviewer").attr("pointer-events","all"),this.maingroup=this.svg.append("g"),this.linksgroup=this.maingroup.append("g").attr("class","links"),this.nodeGroup=this.maingroup.append("g").attr("class","nodes"),this.force=function(t){var e,n=1,a=.001,r=1-Math.pow(a,1/300),i=0,s=.6,l=new Map,o=(0,j.HT)(h),c=(0,E.Z)("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%z)/z}();function h(){d(),c.call("tick",e),n<a&&(o.stop(),c.call("end",e))}function d(a){var o,c,u=t.length;void 0===a&&(a=1);for(var h=0;h<a;++h)for(n+=(i-n)*r,l.forEach((function(t){t(n)})),o=0;o<u;++o)null==(c=t[o]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function f(){for(var e,n=0,a=t.length;n<a;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(.5+n),i=n*H;e.x=r*Math.cos(i),e.y=r*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function v(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),f(),e={tick:d,restart:function(){return o.restart(h),e},stop:function(){return o.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),l.forEach(v),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(a=+t,e):a},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(i=+t,e):i},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(u=t,l.forEach(v),e):u},force:function(t,n){return arguments.length>1?(null==n?l.delete(t):l.set(t,v(n)),e):l.get(t)},find:function(e,n,a){var r,i,s,l,o,c=0,u=t.length;for(null==a?a=1/0:a*=a,c=0;c<u;++c)(s=(r=e-(l=t[c]).x)*r+(i=n-l.y)*i)<a&&(o=l,a=s);return o},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}().force("charge",function(){var t,e,n,a,r,i=U(-30),s=1,l=1/0,o=.81;function c(n){var r,i=t.length,s=W(t,P,q).visitAfter(h);for(a=n,r=0;r<i;++r)e=t[r],s.visit(d)}function u(){if(t){var e,n,a=t.length;for(r=new Array(a),e=0;e<a;++e)n=t[e],r[n.index]=+i(n,e,t)}}function h(t){var e,n,a,i,s,l=0,o=0;if(t.length){for(a=i=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(l+=e.value,o+=n,a+=n*e.x,i+=n*e.y);t.x=a/o,t.y=i/o}else{(e=t).x=e.data.x,e.y=e.data.y;do{l+=r[e.data.index]}while(e=e.next)}t.value=l}function d(t,i,c,u){if(!t.value)return!0;var h=t.x-e.x,d=t.y-e.y,f=u-i,v=h*h+d*d;if(f*f/o<v)return v<l&&(0===h&&(v+=(h=K(n))*h),0===d&&(v+=(d=K(n))*d),v<s&&(v=Math.sqrt(s*v)),e.vx+=h*t.value*a/v,e.vy+=d*t.value*a/v),!0;if(!(t.length||v>=l)){(t.data!==e||t.next)&&(0===h&&(v+=(h=K(n))*h),0===d&&(v+=(d=K(n))*d),v<s&&(v=Math.sqrt(s*v)));do{t.data!==e&&(f=r[t.data.index]*a/v,e.vx+=h*f,e.vy+=d*f)}while(t=t.next)}}return c.initialize=function(e,a){t=e,n=a,u()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:U(+t),u(),c):i},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c.theta=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c}().strength(-100)).force("link",function(t){var e,n,a,r,i,s,l=X,o=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},c=U(30),u=1;function h(a){for(var r=0,l=t.length;r<u;++r)for(var o,c,h,d,f,v,_,m=0;m<l;++m)c=(o=t[m]).source,d=(h=o.target).x+h.vx-c.x-c.vx||K(s),f=h.y+h.vy-c.y-c.vy||K(s),d*=v=((v=Math.sqrt(d*d+f*f))-n[m])/v*a*e[m],f*=v,h.vx-=d*(_=i[m]),h.vy-=f*_,c.vx+=d*(_=1-_),c.vy+=f*_}function d(){if(a){var s,o,c=a.length,u=t.length,h=new Map(a.map(((t,e)=>[l(t,e,a),t])));for(s=0,r=new Array(c);s<u;++s)(o=t[s]).index=s,"object"!=typeof o.source&&(o.source=Y(h,o.source)),"object"!=typeof o.target&&(o.target=Y(h,o.target)),r[o.source.index]=(r[o.source.index]||0)+1,r[o.target.index]=(r[o.target.index]||0)+1;for(s=0,i=new Array(u);s<u;++s)o=t[s],i[s]=r[o.source.index]/(r[o.source.index]+r[o.target.index]);e=new Array(u),f(),n=new Array(u),v()}}function f(){if(a)for(var n=0,r=t.length;n<r;++n)e[n]=+o(t[n],n,t)}function v(){if(a)for(var e=0,r=t.length;e<r;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){a=t,s=e,d()},h.links=function(e){return arguments.length?(t=e,d(),h):t},h.id=function(t){return arguments.length?(l=t,h):l},h.iterations=function(t){return arguments.length?(u=+t,h):u},h.strength=function(t){return arguments.length?(o="function"==typeof t?t:U(+t),f(),h):o},h.distance=function(t){return arguments.length?(c="function"==typeof t?t:U(+t),v(),h):c},h}().id((t=>t.accession)).distance(200)).force("center",J(a||0,r||0)),this.zoom=(0,k.sP)().filter((t=>!(t instanceof WheelEvent)||!this.useCtrlToZoom||t.ctrlKey)).scaleExtent([.5,10]).on("zoom",(t=>{this.maingroup.attr("transform",t.transform)})),this.drag=function(){var t,e,n,a,r=M,i=S,s=D,l=T,o={},c=(0,E.Z)("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(l).on("touchstart.drag",m).on("touchmove.drag",p,Z.Q7).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(s,l){if(!a&&r.call(this,s,l)){var o=y(this,i.call(this,s,l),s,l,"mouse");o&&((0,x.Z)(s.view).on("mousemove.drag",v,Z.Dd).on("mouseup.drag",_,Z.Dd),(0,C.Z)(s.view),(0,Z.rG)(s),n=!1,t=s.clientX,e=s.clientY,o("start",s))}}function v(a){if((0,Z.ZP)(a),!n){var r=a.clientX-t,i=a.clientY-e;n=r*r+i*i>h}o.mouse("drag",a)}function _(t){(0,x.Z)(t.view).on("mousemove.drag mouseup.drag",null),(0,C.D)(t.view,n),(0,Z.ZP)(t),o.mouse("end",t)}function m(t,e){if(r.call(this,t,e)){var n,a,s=t.changedTouches,l=i.call(this,t,e),o=s.length;for(n=0;n<o;++n)(a=y(this,l,t,e,s[n].identifier,s[n]))&&((0,Z.rG)(t),a("start",t,s[n]))}}function p(t){var e,n,a=t.changedTouches,r=a.length;for(e=0;e<r;++e)(n=o[a[e].identifier])&&((0,Z.ZP)(t),n("drag",t,a[e]))}function g(t){var e,n,r=t.changedTouches,i=r.length;for(a&&clearTimeout(a),a=setTimeout((function(){a=null}),500),e=0;e<i;++e)(n=o[r[e].identifier])&&((0,Z.rG)(t),n("end",t,r[e]))}function y(t,e,n,a,r,i){var l,h,f,v=c.copy(),_=(0,N.Z)(i||n,e);if(null!=(f=s.call(t,new A("beforestart",{sourceEvent:n,target:d,identifier:r,active:u,x:_[0],y:_[1],dx:0,dy:0,dispatch:v}),a)))return l=f.x-_[0]||0,h=f.y-_[1]||0,function n(i,s,c){var m,p=_;switch(i){case"start":o[r]=n,m=u++;break;case"end":delete o[r],--u;case"drag":_=(0,N.Z)(c||s,e),m=u}v.call(i,t,new A(i,{sourceEvent:s,subject:f,target:d,identifier:r,active:m,x:_[0]+l,y:_[1]+h,dx:_[0]-p[0],dy:_[1]-p[1],dispatch:v}),a)}}return d.filter=function(t){return arguments.length?(r="function"==typeof t?t:L(!!t),d):r},d.container=function(t){return arguments.length?(i="function"==typeof t?t:L(t),d):i},d.subject=function(t){return arguments.length?(s="function"==typeof t?t:L(t),d):s},d.touchable=function(t){return arguments.length?(l="function"==typeof t?t:L(!!t),d):l},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}().on("start",((t,e)=>{var n=e;t.sourceEvent.stopPropagation(),this.force.alphaTarget(.1).restart(),n.fx=n.x,n.fy=n.y})).on("drag",((t,e)=>{var n=e;n.fx=t.x,n.fy=t.y})).on("end",(t=>{t.sourceEvent.stopPropagation(),t.active||this.force.alphaTarget(0)})),this.svg.call(this.zoom).on("dblclick.zoom",null),this.directional&&this.maingroup.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","0 -5 10 10").attr("refX",11).attr("refY",0).attr("markerWidth",2).attr("markerHeight",2).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5"),this._autoWidth&&(this.svg.style("display","block"),this.svg.attr("width","100%")),this._autoHeight&&(this.svg.style("display","block"),this.svg.attr("height","100%")),(this._autoHeight||this._autoWidth)&&(this._autoUpdateSize(),this._ro=new ResizeObserver(this._autoUpdateSize.bind(this)),this.svg.node()&&this._ro.observe(this.svg.node())),this.paint.bind(this),this.tick=void 0}_autoUpdateSize(){var t=(0,x.Z)(this.element);this.width=parseInt(t.style("width"),10)||0,this.height=parseInt(t.style("height"),10)||0,this.force.force("center",J(this.width/2,this.height/2)),this.svg.attr("viewBox","0 0 "+this.width+" "+this.height),this.tick&&this.force.restart()}getLabel(t){if(this.nodeLabel){if("string"==typeof this.nodeLabel)return t[this.nodeLabel]||t.accession;if("function"==typeof this.nodeLabel)return this.nodeLabel(t)}return t.accession}paint(t){var e,n=this.processData(t);null===(e=this.force)||void 0===e||e.nodes(n.nodes||[]),this.force.force("link").links(n.links);var a=this.linksgroup.selectAll(".link").data(n.links),r=a.enter().append("g").attr("class",(t=>"link "+t.source.accession+" "+t.target.accession));a.exit().remove();var i=r.append("path").style("stroke-width",(t=>this.tickness(t.score))).attr("marker-end",this.directional?"url(#arrowhead)":null),s=r.filter((t=>!!t.link)).append("a").attr("xlink:href",(t=>t.link?t.link:null)).attr("target","_blank").attr("class",(t=>t.link?"href":null)).append("text").text((t=>t.score.toExponential())),l=r.filter((t=>!t.link)).append("text").text((t=>t.score.toExponential())),o=this.nodeGroup.selectAll(".node").data(n.nodes),c=o.enter().append("g").attr("id",(t=>"node_"+t.accession)).attr("data-accession",(t=>t.accession)).attr("class","node");o.exit().remove();var u=c.append("circle").attr("r",(t=>this.size(t.score))).call(this.drag).on("dblclick",(function(t){t.fx=null,t.fy=null})),h=c.filter((t=>!!t.link)).append("a").attr("xlink:href",(t=>t.link?t.link:null)).attr("target","_blank").attr("class",(t=>t.link?"href":null)).append("text").text((t=>this.getLabel(t))),d=c.filter((t=>!t.link)).append("text").text((t=>this.getLabel(t)));this.tick=()=>{i.attr("d",$.linkArc),s.attr("transform",$.labelArc),l.attr("transform",$.labelArc),u.attr("cx",(t=>t.x||0)).attr("cy",(t=>t.y||0)),h.attr("x",(t=>(t.x||0)+this.size(t.score)+2)).attr("y",(t=>(t.y||0)+this.r)),d.attr("x",(t=>(t.x||0)+this.size(t.score)+2)).attr("y",(t=>(t.y||0)+this.r)),this.updatingLabels&&(h.text((t=>this.getLabel(t))),d.text((t=>this.getLabel(t))))},this.force.on("tick",this.tick),this.force.alpha(1)}clear(){this.paint({nodes:[],links:[]})}static linkArc(t){var e,n,a,r,i=(null===(e=t.target)||void 0===e?void 0:e.x)||0,s=(null===(n=t.target)||void 0===n?void 0:n.y)||0,l=(null===(a=t.source)||void 0===a?void 0:a.x)||0,o=(null===(r=t.source)||void 0===r?void 0:r.y)||0,c=i-l,u=s-o,h=Math.sqrt(c*c+u*u);return t.radius=h,"M"+l+","+o+"A"+h+","+h+" 0 0,1 "+i+","+s}static labelArc(t){var e,n,a,r,i=(null===(e=t.target)||void 0===e?void 0:e.x)||0,s=(null===(n=t.target)||void 0===n?void 0:n.y)||0,l=(null===(a=t.source)||void 0===a?void 0:a.x)||0,o=(null===(r=t.source)||void 0===r?void 0:r.y)||0,c=(i+l)/2,u=(s+o)/2,h=t.radius||0,d=h/2,f=h-Math.sqrt(h*h-d*d),v=(l-c)/(u-o),_=Math.sqrt(1+v*v);return"translate("+(s>o?c+f*(1/_):c-f*(1/_))+","+(s>o?u+f*(v/_):u-f*(v/_))+")"}updateNodeLabel(t){this.nodeLabel!==t&&(this.updatingLabels=!0,this.nodeLabel=t,this.tick&&this.tick(),this.updatingLabels=!1)}processData(t){var e={nodes:[],links:[]},n=t.members||t.nodes||[],a=t.relationships||t.links||[];e.nodes=n.map((t=>{var e;return Object.assign(Object.assign({},t),{id:t.accession||t.pfama_acc,accession:t.accession||t.pfama_acc,name:t.name||t.pfama_id,score:Number.parseFloat(String(null!==(e=t.score)&&void 0!==e?e:t.num_full))})||[]}));var r=0;if(e.nodes.forEach((t=>{r=Math.max(r,t.score)})),this.multiple_relationships)e.links=a.map((t=>({source:t.source||t.pfama_acc_1,target:t.target||t.pfama_acc_2,score:Number.parseFloat(String(t.score||t.evalue))})));else{var i={};a.forEach((t=>{var e=t.source||t.pfama_acc_1,n=t.target||t.pfama_acc_2,a=Number.parseFloat(String(t.score||t.evalue)),r=e+"_"+n;r in i?i[r].score=Math.max(i[r].score,a):n+"_"+e in i?i[r=n+"_"+e].score=Math.max(i[r].score,a):i[r]={source:e,target:n,score:a}})),e.links=Object.keys(i).map((t=>i[t]))}return this.size.domain([0,r]),e}}var Q=n(76371),tt=n(5931),et=n(44166);const nt={"clanviewer-container":"Summary_style__clanviewer-container___fb",legends:"Summary_style__legends___f1"};var at=(0,Q.Z)(tt.Z,et.Z,nt),rt=100;class it extends a.PureComponent{constructor(t){super(t),this._handleClick=t=>{var e,n,a=null===(e=t.composedPath().filter((t=>"g"===t.nodeName)).filter((t=>t.classList.contains("node"))))||void 0===e?void 0:e[0];if(a){var r=a.dataset.accession;t.metaKey||t.ctrlKey?null===(n=window.open("/interpro/entry/"+this.props.db+"/"+r,"_blank"))||void 0===n||n.focus():this.props.goToCustomLocation({description:{main:{key:"entry"},entry:{db:this.props.db,accession:r}}})}},this._refreshLabels=()=>{this._vis&&(this._vis.updatingLabels=!0,this._vis.tick&&this._vis.tick(),this._vis.updatingLabels=!1)},this._ref=a.createRef(),this.state={showClanViewer:!1,nodeHovered:null},this.loaded=!1}componentDidMount(){var t,e,n,a,r;this._ref.current&&!this._vis&&(this._vis=new $({element:this._ref.current,useCtrlToZoom:!0,height:600,nodeLabel:t=>(0,y.Je)(t,this.props.label)}),(null===(a=null===(n=null===(e=null===(t=this.props)||void 0===t?void 0:t.data)||void 0===e?void 0:e.metadata)||void 0===n?void 0:n.relationships)||void 0===a?void 0:a.nodes)&&this.props.data.metadata.relationships.nodes.length<=rt&&this.setState({showClanViewer:!0}),null===(r=this._ref.current)||void 0===r||r.addEventListener("click",(t=>this._handleClick(t))),this.updateLocationIfAllDB())}componentDidUpdate(t){var e,n,a,r,i;t.label!==this.props.label&&this._refreshLabels(),(null===(n=null===(e=t.data)||void 0===e?void 0:e.metadata)||void 0===n?void 0:n.accession)!==(null===(i=null===(r=null===(a=this.props)||void 0===a?void 0:a.data)||void 0===r?void 0:r.metadata)||void 0===i?void 0:i.accession)&&(this.loaded=!1),this.repaint(),this.updateLocationIfAllDB()}componentWillUnmount(){var t,e;this._ref.current&&(null===(t=this._ref.current)||void 0===t||t.removeEventListener("click",this._handleClick)),null===(e=this._vis)||void 0===e||e.clear()}updateLocationIfAllDB(){var t,e,n,a,r,i,s,l,o;"all"===this.props.db&&(null===(n=null===(e=null===(t=this.props)||void 0===t?void 0:t.data)||void 0===e?void 0:e.metadata)||void 0===n?void 0:n.source_database)&&this.props.goToCustomLocation({description:{main:{key:"set"},set:{db:null===(i=null===(r=null===(a=this.props)||void 0===a?void 0:a.data)||void 0===r?void 0:r.metadata)||void 0===i?void 0:i.source_database,accession:null===(o=null===(l=null===(s=this.props)||void 0===s?void 0:s.data)||void 0===l?void 0:l.metadata)||void 0===o?void 0:o.accession}}})}repaint(){var t,e,n;if((this.state.showClanViewer||this.props.data.metadata.relationships.nodes.length<=rt)&&!this.loaded){var a=this.props.data.metadata.relationships;for(var r of(null===(t=this._vis)||void 0===t||t.clear(),null===(e=this._vis)||void 0===e||e.paint(a),this.loaded=!0,(null===(n=this._ref.current)||void 0===n?void 0:n.querySelectorAll("g.node"))||[]))r.addEventListener("mouseenter",(t=>{var e;this.setState({nodeHovered:null===(e=t.target)||void 0===e?void 0:e.__data__})})),r.addEventListener("mouseleave",(()=>{this.setState({nodeHovered:null})}))}}render(){var t,e,n,r,i,s,l,o,c,u=this.props.loading||!this.props.data.metadata?{accession:"",description:"",id:"",source_database:"",authors:null,literature:null,relationships:null}:this.props.data.metadata;return a.createElement("div",{className:at("vf-stack","vf-stack--400")},!this.state.showClanViewer&&((null===(e=null===(t=u.relationships)||void 0===t?void 0:t.nodes)||void 0===e?void 0:e.length)||0)>rt&&a.createElement(p.C,{title:"ClanViewer"},a.createElement("section",null,"The selected clan has ",null===(n=u.relationships)||void 0===n?void 0:n.nodes.length," ","member entries. Displaying more than ",rt," nodes in this visualisation can affect the performance of your browser.",a.createElement("div",{style:{textAlign:"right"}},a.createElement(g.Z,{onClick:()=>this.setState({showClanViewer:!0})},"Visualise it")))),a.createElement("div",null,a.createElement(m.Z,{label:"Label Content",extraClasses:at("protvista-menu")},a.createElement(b.Z,null))),a.createElement("div",{className:at("clanviewer-container")},a.createElement("div",{ref:this._ref,style:{minHeight:500},id:"clanViewerContainer"}),a.createElement("div",{className:at("legends"),style:{opacity:this.state.nodeHovered?1:0}},a.createElement("ul",{className:at("no-bullet")},a.createElement("li",null,a.createElement("b",null,"Accession"),": ",null===(i=null===(r=this.state)||void 0===r?void 0:r.nodeHovered)||void 0===i?void 0:i.accession),a.createElement("li",null,a.createElement("b",null,"Name"),": ",null===(l=null===(s=this.state)||void 0===s?void 0:s.nodeHovered)||void 0===l?void 0:l.name),a.createElement("li",null,a.createElement("b",null,"Short name"),": ",null===(c=null===(o=this.state)||void 0===o?void 0:o.nodeHovered)||void 0===c?void 0:c.short_name)))))}}var st=(0,v.P1)((t=>t.customLocation.description.set.db),(t=>t.settings.ui),((t,e)=>({db:t,label:e.labelContent})));const lt=(0,f.$j)(st,{goToCustomLocation:_.xb})(it);var ot=n(84745),ct=n(28757),ut=(0,Q.Z)(nt,tt.Z,ct.Z,et.Z),ht=(0,u.Z)({loader:()=>n.e(1169).then(n.bind(n,25392)),loading:()=>null}),dt=t=>{var{data:{accession:e,score:n},db:a}=t;return{"@id":"@contains",name:"entry",value:{"@type":["Entry","StructuredValue","BioChemEntity"],name:e,score:n,url:h.default.root.website.protocol+h.default.root.website.href+(0,d.Z)({main:{key:"entry"},entry:{db:a,accession:e}})}}},ft=t=>{var{literature:e}=t;if(!e)return null;var n=e.map((t=>{var e=/(.+) (\d{4});(\d+):(\d+-\d+)./.exec(t.journal||"");return e?[String(t.PMID),Object.assign(Object.assign({},t),{ISO_journal:e[1],year:Number(e[2]),volume:e[3],raw_pages:e[4]})]:[String(t.PMID),t]}));return a.createElement(a.Fragment,null,a.createElement("h4",null,"References"),a.createElement(o.ZP,{extra:n}))},vt=t=>{var{accession:e,description:n}=t;return e&&n?a.createElement(a.Fragment,null,a.createElement("h4",null,"Description"),a.createElement(i.ZP,{textBlocks:[n]})):null},_t=t=>{var{authors:e}=t;return 0===e.length?null:a.createElement("tr",null,a.createElement("td",null,"Authors"),a.createElement("td",{"data-testid":"set-type"},e.join(", ")))};const mt=t=>{var e,{data:n,loading:i}=t,o=i||!n.metadata?{accession:"",name:{name:""},description:"",id:"",source_database:"",authors:null,literature:[],counters:{},relationships:{nodes:[],links:[]},wikipedia:[]}:n.metadata,u=null;if(o.source_database){for(var h of l.mP)h.name===o.source_database&&(u=h);"panther"===o.source_database&&(o.description=o.name.name)}var d="pfam"===o.source_database&&!!(null===(e=o.wikipedia)||void 0===e?void 0:e.length);return a.createElement("div",{className:ut("vf-stack","vf-stack--400")},o.relationships&&o.relationships.nodes&&o.relationships.nodes.map((t=>a.createElement(ht,{key:t.accession,data:{data:t,db:o.source_database},processData:dt}))),a.createElement("section",{className:ut("vf-grid","summary-grid")},a.createElement("div",{className:ut("vf-stack")},a.createElement("table",{className:ut("vf-table","left-headers")},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",{style:{maxWidth:"50%"}},"Accession"),a.createElement("td",{"data-testid":"set-accession"},a.createElement(r.Z,{accession:o.accession}))),a.createElement("tr",null,a.createElement("td",{style:{width:"200px"},"data-testid":"set-memberdb"},"Member database"),a.createElement("td",null,(null==u?void 0:u.dbName)||o.source_database)),a.createElement(_t,{authors:o.authors||[]})))),(null==u?void 0:u.url_template)?a.createElement("div",{className:ut("vf-stack")},a.createElement("section",null,a.createElement("h5",null,"External Links"),a.createElement("ul",{className:ut("no-bullet"),"data-testid":"set-external-links"},a.createElement("li",null,a.createElement(s.Z,{id:o.accession,className:ut("ext"),target:"_blank",pattern:u.url_template},u.dbName))))):null),a.createElement(vt,{accession:o.accession,description:null==o?void 0:o.description}),a.createElement(ft,{literature:null==o?void 0:o.literature}),d&&a.createElement("section",null,a.createElement("h4",null,"Wikipedia"),a.createElement(c.Z,null,(o.wikipedia||[]).map(((t,e)=>a.createElement("div",{key:e,title:t.title.replaceAll("_"," ")},a.createElement(ot.Z,{title:t.title,extract:t.extract,thumbnail:t.thumbnail})))))),a.createElement("div",{className:ut("vf-stack","vf-stack-400")},a.createElement("h4",null," Clan Viewer "),a.createElement(lt,{data:n,loading:i})))}},53477:(t,e,n)=>{n.d(e,{C:()=>c});var a=n(67294),r=n(29643),i=n(76371),s=n(29143),l=n(82806),o=(0,i.Z)(s.Z,l.Z);const c=t=>{var{title:e,imageComponent:n,imageIconClass:i,subHeader:s,footer:l,linkForMore:c,labelForMore:u,compact:h=!1,className:d="",children:f}=t;return a.createElement("div",{className:o("new-card",d,{compact:h})},(n||i||e||s)&&a.createElement("header",null,(n||i)&&a.createElement("div",{className:o("image",i,{icon:!!i})},n),e&&a.createElement("div",{className:o("title")},e),s&&a.createElement("div",{className:o("subheader")},s)),a.createElement("section",{className:o("content")},f),(l||c)&&a.createElement(a.Fragment,null,a.createElement("div",{className:o("footer")},l,c&&a.createElement("div",{className:o("card-more")},a.createElement(r.Z,{href:c,target:"_blank",buttonType:"tertiary"},a.createElement("span",{className:o("icon","icon-common","icon-right"),"data-icon":"ï¡"})," ",u||"See more"))," ")))}},29143:(t,e,n)=>{n.d(e,{Z:()=>a});const a={"new-card":"Card_styles__new-card___df",image:"Card_styles__image___b8","card-tag":"Card_styles__card-tag___bf",icon:"Card_styles__icon___d1",title:"Card_styles__title___fb",subheader:"Card_styles__subheader___ca",content:"Card_styles__content___f0",footer:"Card_styles__footer___fe","card-more":"Card_styles__card-more___c3","button-more":"Card_styles__button-more___f8",compact:"Card_styles__compact___e9","tag-publi":"Card_styles__tag-publi___f0","tag-tuto":"Card_styles__tag-tuto___b1","tag-tool":"Card_styles__tag-tool___dd","tag-focus":"Card_styles__tag-focus___e5","tag-blog":"Card_styles__tag-blog___a7","white-link":"Card_styles__white-link___a2","card-info-author":"Card_styles__card-info-author___e9",button:"Card_styles__button___ee",hollow:"Card_styles__hollow___d5",secondary:"Card_styles__secondary___d8","margin-bottom-large":"Card_styles__margin-bottom-large___d8"}},52362:(t,e,n)=>{var a=n(79989),r=n(14818);a({target:"Number",stat:!0,forced:Number.parseFloat!==r},{parseFloat:r})}}]);
//# sourceMappingURL=744.module.set-summary.1e2.js.map