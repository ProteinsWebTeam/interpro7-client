"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[6652],{50940:(e,t,n)=>{n.r(t),n.d(t,{default:()=>K}),n(752),n(73964),n(76265);var a=n(67294),l=n(45697),i=n.n(l),s=n(45007),o=n(19119),r=n(76820),c=n(65455),m=n(3817),d=n(52727),u=n(76853),h=n(63294),p=n(46911),E=n(21105),g=n(87616),b=n(32511),v=n(18890),w=n(16772),f=n(3509);const y={output:"Settings_styles__output___a6",fullwidth:"Settings_styles__fullwidth___e3","menu-and-content":"Settings_styles__menu-and-content___e1",link:"Settings_styles__link___ee",active:"Settings_styles__active___d8"};function _(e,t,n,a,l,i,s){try{var o=e[i](s),r=o.value}catch(e){return void n(e)}o.done?t(r):Promise.resolve(r).then(a,l)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(a,l){var i=e.apply(t,n);function s(e){_(i,a,l,s,o,"next",e)}function o(e){_(i,a,l,s,o,"throw",e)}s(void 0)}))}}function S(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var R=0;function C(e){return"__private_"+R+++"_"+e}var N=(0,f.D)(y),k=(0,E.Z)({loader:()=>Promise.all([n.e(6890),n.e(1743),n.e(6479),n.e(2616)]).then(n.bind(n,83421))}),q=e=>{var{navigation:{pageSize:t,secondsToRetry:n}}=e;return a.createElement("form",{"data-category":"navigation"},a.createElement("h4",{id:"settings-navigation"},"Navigation settings"),a.createElement(H,{data:{name:"Navigation settings",description:"Number of results per page, redirection rules"},processData:h.o7}),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-12","column")},a.createElement("label",null,"Number of results per page:",a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-4","column")},a.createElement("input",{type:"range",min:"5",max:"200",step:"5",value:t,name:"pageSize",className:y.fullwidth,onChange:u.Z})),a.createElement("div",{className:N("medium-8","column")},t))))),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-12","column")},a.createElement("label",null,"Time (sec) to retry timed out queries:",a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-4","column")},a.createElement("input",{type:"range",min:"5",max:"120",step:"5",value:n||20,name:"secondsToRetry",className:y.fullwidth,onChange:u.Z})),a.createElement("div",{className:N("medium-8","column")},n))))))};q.propTypes={navigation:i().shape({pageSize:i().number.isRequired,secondsToRetry:i().number.isRequired}).isRequired};var Z=e=>{var{notifications:{showTreeToast:t,showConnectionStatusToast:n,showSettingsToast:l,showHelpToast:i,showCtrlToZoomToast:s}}=e,[o,r]=(0,a.useState)("granted"===Notification.permission||"denied"===Notification.permission?"answered":"not yet");return a.createElement("form",{"data-category":"notifications"},a.createElement("h4",{id:"settings-notification"},"Notification settings"),a.createElement(H,{data:{name:"Notification settings",description:"Notifications in the website can be turned on/off."},processData:h.o7}),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-12","column")},"answered"===o?a.createElement(c.Z,{type:"info"},"The browser notification has been ",Notification.permission," ","permission. If you wish to change the preference, it has to be done in the browser settings."):a.createElement(a.Fragment,null,a.createElement("p",null,"Allow us to send you browser notifications when one of your Jobs or Downloads finishes."),a.createElement(m.Z,{onClick:()=>(0,v.t)(r)},"Enable notifications"))),a.createElement("div",{className:N("medium-12","column"),style:{marginTop:"2em"}},a.createElement("p",null,"There are few tips shown in the website on how to use features efficiently. It can be turned on/off."),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-4","column")},a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Tip"),a.createElement("th",null,"Status"))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,"Taxonomy Tree navigation"),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"showTreeToast",id:"showTreeToast-input",checked:t,onChange:u.Z}))),a.createElement("tr",null,a.createElement("td",null,"Check connectivity"),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"showConnectionStatusToast",id:"showConnectionStatusToast-input",checked:n,onChange:u.Z}))),a.createElement("tr",null,a.createElement("td",null,"Use CTRL and scroll to zoom"),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"showCtrlToZoomToast",id:"showCtrlToZoomToast-input",checked:s,onChange:u.Z}))),a.createElement("tr",null,a.createElement("td",null,"Customise Settings"),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"showSettingsToast",id:"showSettingsToast-input",checked:l,onChange:u.Z}))),a.createElement("tr",null,a.createElement("td",null,"Help Links"),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"showHelpToast",id:"showHelpToast-input",checked:i,onChange:u.Z}))))))))))};Z.propTypes={notifications:i().shape({showTreeToast:i().bool.isRequired,showConnectionStatusToast:i().bool.isRequired,showSettingsToast:i().bool.isRequired,showHelpToast:i().bool.isRequired,showCtrlToZoomToast:i().bool.isRequired}).isRequired};var D=e=>{var{ui:{lowGraphics:t,colorDomainsBy:n,labelContent:l,structureViewer:i},changeSettingsRaw:s}=e;return(0,a.useEffect)((()=>{var{accession:e,name:t,short:n}=l;e||t||n||s("ui","labelContent",{accession:!0,name:t,short:n})}),[l]),a.createElement("form",{"data-category":"ui"},a.createElement("h4",{id:"settings-ui"},"UI settings"),a.createElement(H,{data:{name:"UI settings",description:"User Interface options"},processData:h.o7}),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-12","column")},a.createElement("header",null,"Low graphics mode:"),a.createElement("p",null,a.createElement("small",null,"Recommended for low-end devices")),a.createElement(r.Z,{switchCond:t,name:"lowGraphics",id:"lowGraphics-input",SRLabel:"Low graphics mode"}))),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-12","column")},a.createElement("header",null,"Colour Domains:"),a.createElement("p",null,a.createElement("small",null,"Selection mode to colour by in the feature viewer")),a.createElement("select",{className:N("select-inline"),value:n,name:"colorDomainsBy",onChange:u.Z,onBlur:u.Z},a.createElement("option",{value:w.tK.ACCESSION},"Accession"),a.createElement("option",{value:w.tK.MEMBER_DB},"Member Database"),a.createElement("option",{value:w.tK.DOMAIN_RELATIONSHIP},"Domain Relationship")))),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-12","column")},a.createElement("header",null,"Label Content:"),a.createElement("p",null,a.createElement("small",null,"The content of the labels in the feature viewer")),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-4","column")},a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Label"),a.createElement("th",null,"Status"))),a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",null,"Accession"),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"labelContent.accession",id:"labelContentAccession-input",checked:l.accession,onChange:u.Z}))),a.createElement("tr",null,a.createElement("td",null,"Name"),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"labelContent.name",id:"labelContentName-input",checked:l.name,onChange:u.Z}))),a.createElement("tr",null,a.createElement("td",null,"Short Name"),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"labelContent.short",id:"labelContentShort-input",checked:l.short,onChange:u.Z}))))))))),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-12","column")},a.createElement("header",null,"Display structure viewer all the time:"),a.createElement("p",null,a.createElement("small",null,"On some low-end devices, small screens, or under network or battery constraints, we might decide to not display the structure viewer by default. It will still be available on demand. Do you still want to display the viewer all the time?")),a.createElement(r.Z,{switchCond:i,name:"structureViewer",id:"structureViewer-input",SRLabel:"Structure viewer always visible",onValue:"Yes",offValue:"No"}))))};D.propTypes={ui:i().shape({lowGraphics:i().bool.isRequired,colorDomainsBy:i().string.isRequired,labelContent:i().shape({accession:i().bool,name:i().bool,short:i().bool}),structureViewer:i().bool.isRequired}).isRequired,changeSettingsRaw:i().func};var V=e=>{var{cache:{enabled:t},addToast:n}=e;return a.createElement("form",{"data-category":"cache"},a.createElement("h4",{id:"settings-cache"},"Cache settings"),a.createElement(H,{data:{name:"Cache settings",description:"Options for locally saved data"},processData:h.o7}),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-12","column")},a.createElement("p",null,"Caching:"),a.createElement(r.Z,{switchCond:t,name:"enabled",id:"cache-input",SRLabel:"Caching"}),a.createElement("div",null,a.createElement(m.Z,{onClick:()=>{window.sessionStorage.clear(),n({title:"Cache Cleared",ttl:1e3},"cache")}},"Clear Local Cache")))))};V.propTypes={cache:i().shape({enabled:i().bool}).isRequired,addToast:i().func.isRequired};var I=(0,s.$j)(void 0,{addToast:g.fz})(V),j=e=>{var{category:t,endpointDetails:{protocol:n,hostname:l,port:i,root:s},children:o,status:r}=e;return a.createElement("form",{"data-category":t},a.createElement("h5",null,o),a.createElement(H,{data:{name:o[0],description:"hostname, port and root "+o[0]},processData:h.o7}),a.createElement("div",{className:N("row")},a.createElement("div",{className:N("medium-2","column")},a.createElement("label",null,"Protocol:",a.createElement("select",{name:"protocol",value:n,onChange:u.Z,onBlur:u.Z,readOnly:!d.Rk},a.createElement("option",{value:"http:"},"http://"),a.createElement("option",{value:"https:"},"https://")))),a.createElement("div",{className:N("medium-3","column")},a.createElement("label",null,"Hostname:",a.createElement("input",{type:"text",value:l,name:"hostname",onChange:u.Z,readOnly:!d.Rk}))),a.createElement("div",{className:N("medium-1","column")},a.createElement("label",null,"Port:",a.createElement("input",{type:"number",min:"1",value:i,name:"port",onChange:u.Z,readOnly:!d.Rk}))),a.createElement("div",{className:N("medium-3","column")},a.createElement("label",null,"Root:",a.createElement("input",{type:"text",value:s,name:"root",onChange:u.Z,readOnly:!d.Rk}))),a.createElement("div",{className:N("medium-3","column")},a.createElement("label",null,"Status:",a.createElement("output",{className:N("button","output","hollow",{secondary:null===r,success:!0===r,alert:!1===r}),title:"Status: "+(r?"TRUE":"FALSE")},(e=>null===e?"Unknown":e?"Reachable":"Unreachable")(r))))))};j.propTypes={category:i().string.isRequired,endpointDetails:i().shape({protocol:i().string.isRequired,hostname:i().string.isRequired,port:i().string.isRequired,root:i().string.isRequired}).isRequired,children:i().any.isRequired,status:i().bool};var L=e=>(0,o.P1)((t=>t.status.servers[e].status),(e=>({status:e}))),P=(0,s.$j)(L("api"))(j),x=(0,s.$j)(L("ebi"))(j),A=(0,s.$j)(L("ipScan"))(j),O=(0,s.$j)(L("wikipedia"))(j),B=(0,s.$j)(L("alphafold"))(j),H=(0,E.Z)({loader:()=>n.e(1169).then(n.bind(n,25392)),loading:()=>null}),U=C("beforeInstall");class F extends a.PureComponent{constructor(e){var t;super(e),t=this,Object.defineProperty(this,U,{writable:!0,value:e=>{e.preventDefault(),this.setState({event:e})}}),this._handleClick=T((function*(){var{event:e}=t.state;if(e){e.prompt();var{outcome:n}=yield e.userChoice;"accepted"===n?t.props.addToast({title:"Added to homescreen or desktop",body:"Keep in mind that you still need to be online to browse our data",ttl:5e3},"add-to-homescreen-banner"):t.props.addToast({title:"Failed to add to homescreen or desktop",body:"It looks like you refused to add this website to the homescreen or desktop after all",ttl:5e3},"add-to-homescreen-banner"),t.setState({event:null}),p.QB.event=null}})),this.state={event:p.QB.event}}componentDidMount(){window.addEventListener("beforeinstallprompt",S(this,U)[U])}componentWillUnmount(){window.removeEventListener("beforeinstallprompt",S(this,U)[U])}render(){return this.state.event?a.createElement("div",{className:N("row")},a.createElement("div",{className:N("columns","large-12")},a.createElement("h3",null,"Add InterPro to your home screen or desktop"),a.createElement(m.Z,{onClick:this._handleClick},"Add it!"))):null}}F.propTypes={addToast:i().func.isRequired};var $=(0,s.$j)(void 0,{addToast:g.fz})(F),z=e=>{var{firstVisibleTitle:t,hash:n,label:l}=e;return a.createElement("li",null,a.createElement("button",{className:N("link",{active:t===n}),onClick:()=>{var e;null==(e=document.getElementById(n))||e.scrollIntoView({behavior:"smooth"}),history.replaceState(null,"","#"+n)}}," ",l))};z.propTypes={firstVisibleTitle:i().string,hash:i().string,label:i().string};class M extends a.PureComponent{constructor(){super(...arguments),this.state={firstVisibleTitle:null},this._updateHashBasedOnScroll=()=>{var e,t=null==(e=Array.from(document.querySelectorAll("h4[id]")).map((e=>({id:e.id,top:e.getBoundingClientRect().top-95}))).filter((e=>{var{top:t}=e;return t>=0})))||null==(e=e[0])?void 0:e.id;this.state.firstVisibleTitle!==t&&this.setState({firstVisibleTitle:t})},this._handleReset=()=>this.props.resetSettings()}componentDidMount(){document.addEventListener("scroll",this._updateHashBasedOnScroll),this.props.customLocation.hash&&setTimeout((()=>{var e;return null==(e=document.getElementById(this.props.customLocation.hash))?void 0:e.scrollIntoView({behavior:"smooth"})}),200)}render(){var{settings:{navigation:e={},notifications:t={},ui:n={},cache:l={},api:i={},ebi:s={},ipScan:o={},wikipedia:r={},alphafold:c={}},changeSettings:u,changeSettingsRaw:p}=this.props;return a.createElement(a.Fragment,null,a.createElement("div",{className:N("row")},a.createElement(H,{data:{name:"InterPro Settings Page",description:"Configuration options for the website",location:window.location},processData:h.wu}),a.createElement("div",{className:N("columns","large-12")},a.createElement("h3",null,"Settings"),a.createElement("div",{className:N("menu-and-content")},a.createElement("nav",null,a.createElement("ul",{className:N("no-bullet")},a.createElement(z,{firstVisibleTitle:this.state.firstVisibleTitle,hash:"settings-navigation",label:"Navigation"}),a.createElement(z,{firstVisibleTitle:this.state.firstVisibleTitle,hash:"settings-notification",label:"Notifications"}),a.createElement(z,{firstVisibleTitle:this.state.firstVisibleTitle,hash:"settings-ui",label:"User Interfaces"}),a.createElement(z,{firstVisibleTitle:this.state.firstVisibleTitle,hash:"settings-cache",label:"Cache"}),a.createElement(z,{firstVisibleTitle:this.state.firstVisibleTitle,hash:"settings-servers",label:"Servers"}),a.createElement(z,{firstVisibleTitle:this.state.firstVisibleTitle,hash:"settings-devs",label:"Developer Information"}))),a.createElement("section",null,a.createElement("section",{onChange:u},a.createElement($,null),a.createElement("hr",null),a.createElement(q,{navigation:e}),a.createElement("hr",null),a.createElement(Z,{notifications:t}),a.createElement("hr",null),a.createElement(D,{ui:n,changeSettingsRaw:p}),a.createElement("hr",null),a.createElement(I,{cache:l}),a.createElement("hr",null),a.createElement("h4",{id:"settings-servers"},"Servers settings"),a.createElement(P,{category:"api",endpointDetails:i},"API Settings ",!d.Rk&&"(modification temporarily disabled)"),a.createElement(x,{category:"ebi",endpointDetails:s},"EBI Search Settings"," ",!d.Rk&&"(modification temporarily disabled)"),a.createElement(A,{category:"ipScan",endpointDetails:o},"InterProScan Settings"," ",!d.Rk&&"(modification temporarily disabled)"),a.createElement(O,{category:"wikipedia",endpointDetails:r},"Wikipedia Settings"," ",!d.Rk&&"(modification temporarily disabled)"),a.createElement(B,{category:"alphafold",endpointDetails:c},"AlphaFold API Settings"," ",!d.Rk&&"(modification temporarily disabled)"),a.createElement(m.Z,{onClick:this._handleReset},"Reset settings to default values")),a.createElement("hr",null),a.createElement("h4",{id:"settings-devs"},"Developer Information"),a.createElement(k,null))))))}}M.propTypes={settings:i().shape({navigation:i().object.isRequired,notifications:i().object.isRequired,ui:i().object.isRequired,cache:i().object.isRequired,api:i().object.isRequired,ebi:i().object.isRequired,ipScan:i().object.isRequired,wikipedia:i().object.isRequired,alphafold:i().object.isRequired}).isRequired,changeSettings:i().func.isRequired,changeSettingsRaw:i().func.isRequired,resetSettings:i().func.isRequired,customLocation:i().object.isRequired};var G=(0,o.P1)((e=>e.settings),b.q,((e,t)=>({settings:e,customLocation:t})));const K=(0,s.$j)(G,{changeSettings:g.Dy,resetSettings:g.Sl,changeSettingsRaw:g.Ft})(M)},76820:(e,t,n)=>{n.d(t,{Z:()=>o}),n(752),n(76265),n(60429);var a=n(67294),l=n(76371),i=n(82806),s=(0,l.Z)(i.Z,{"new-switch":"ToggleSwitch_style__new-switch___f6","switch-input":"ToggleSwitch_style__switch-input___b8","switch-paddle":"ToggleSwitch_style__switch-paddle___c6","switch-active":"ToggleSwitch_style__switch-active___d8","switch-inactive":"ToggleSwitch_style__switch-inactive___d2",tiny:"ToggleSwitch_style__tiny___a1",small:"ToggleSwitch_style__small___d3",large:"ToggleSwitch_style__large___e1",disabled:"ToggleSwitch_style__disabled___fa","accession-selector":"ToggleSwitch_style__accession-selector___cc"});const o=e=>{var{name:t="switch",id:n,size:l="large",switchCond:i,disabled:o=!1,label:r,SRLabel:c,onValue:m="On",offValue:d="Off",handleChange:u,addAccessionStyle:h=!1,width:p}=e,[E,g]=(0,a.useState)(i);(0,a.useEffect)((()=>{g(i)}),[i]);var b=p?{width:p}:{};return a.createElement("div",{className:s("new-switch",l)},a.createElement("label",{htmlFor:n},a.createElement("input",{type:"checkbox",checked:E,className:s("switch-input"),name:t,id:n,onChange:e=>{u?u(e):g(!E)},disabled:o}),r,a.createElement("label",{className:s("switch-paddle",h?"accession-selector":"",o?"disabled":""),style:Object.assign({},b),htmlFor:n},c?a.createElement("span",{className:s("show-for-sr")},c,":"):null,a.createElement("span",{className:s("switch-active"),"aria-hidden":"true"},m),a.createElement("span",{className:s("switch-inactive"),"aria-hidden":"true"},d))))}}}]);
//# sourceMappingURL=6652.module.settings-page.434.js.map