(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[698],{76349:(t,e,i)=>{"use strict";i(752),i(76265),i(65137),i(76801),i(43843),i(51090);var s,r=i(77601),o=(i(86111),i(80767)),a=i(3950),n=(i(48903),i(58457),i(84041)),h=(i(28436),t=>t.split("\n").slice(1).filter((t=>""!==t.trim())).map((t=>{var e=t.trim().split(" ");if(5===e.length){var[i,s,r,o,a]=e;return[+i,+s,+a]}if(3===e.length){var[n,h,l]=e;return[+n,+h,+l]}throw new Error("The file is not valid")}))),l=(t,e,i)=>t.filter((t=>{var[s,r,o]=t;return Math.abs(s-r)>=e&&o>i})),c=t=>{var e={};return t.forEach((t=>{var[i,s]=t;e[i]||(e[i]=new Set),e[s]||(e[s]=new Set),e[i].add(s),e[s].add(i)})),{contacts:e,maxNumberOfContacts:Math.max(...Object.values(e).map((t=>t.size)))}},f=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},d=function(t,e,i,s,r){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?r.call(t,i):r?r.value=i:e.set(t,i),i},u=function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)},p=(0,o.BY)([0,1],["orange","blue"]),g=(t,e,i)=>new CustomEvent("change",{detail:{type:t,target:e,highlight:i?i.map((t=>t+":"+t)).join(","):null},bubbles:!0,cancelable:!0}),v=class extends n.ZP{constructor(){super(...arguments),this.minDistance=0,this.minProbability=.7,this._rawData=null,this._linksData=null,s.set(this,void 0)}willUpdate(t){(t.has("minDistance")||t.has("minProbability"))&&this._rawData&&(d(this,s,c(l(this._rawData,this.minDistance||0,this.minProbability||.7)),"f"),this.createTrack())}set contacts(t){if("string"==typeof t)this._rawData=h(t);else{if(!Array.isArray(t))throw new Error("data is not in a valid format");this._rawData=t}d(this,s,c(l(this._rawData,this.minDistance||0,this.minProbability||.7)),"f"),this.createTrack()}get selected(){var t;return null===(t=u(this,s,"f"))||void 0===t?void 0:t.selected}createTrack(){var t;u(this,s,"f")&&(null===(t=this.svg)||void 0===t||t.selectAll("g").remove(),this.svg=(0,a.Ys)(this).selectAll("svg").attr("width",this.width).attr("height",this.height).on("click",(t=>{var e;u(this,s,"f")&&((null===(e=t.target)||void 0===e?void 0:e.classList.contains("contact-point"))||(u(this,s,"f").selected=void 0,u(this,s,"f").isHold=!1,this.refreshSelected()))})),this.svg&&(this.seqG=this.svg.append("g").attr("class","sequence-features"),this.createFeatures(),this.margins=this.svg.append("g").attr("class","margin")))}_getColor(t){var e;return(null===(e=u(this,s,"f"))||void 0===e?void 0:e.contacts[t])?p(u(this,s,"f").contacts[t].size/u(this,s,"f").maxNumberOfContacts):""}_dispatchSelectNode(t){u(this,s,"f")&&(u(this,s,"f").selected=t,this.dispatchEvent(g("mouseover",this,Array.from(u(this,s,"f").contacts[t]).concat(+t).sort())))}createFeatures(){var t,e,i;if(u(this,s,"f")){null===(t=this.seqG)||void 0===t||t.selectAll("g.contact-group").remove();var r,o,a,n=null===(e=this.seqG)||void 0===e?void 0:e.append("g").attr("class","contact-group");null===(i=this.seqG)||void 0===i||i.append("g").attr("class","links-group"),n&&(this.contactPoints=n.selectAll(".contact-point").data(Object.keys(u(this,s,"f").contacts).map(Number)).enter().append("circle").attr("class","contact-point").attr("fill",(t=>this._getColor(t))).attr("id",(t=>"cp_"+t)).style("stroke-width",2).on("mouseover",((t,e)=>{var i;(null===(i=u(this,s,"f"))||void 0===i?void 0:i.isHold)||(this._dispatchSelectNode(e),this.refreshSelected())})).on("mouseout",(()=>{var t;u(this,s,"f")&&!(null===(t=u(this,s,"f"))||void 0===t?void 0:t.isHold)&&(u(this,s,"f").selected=void 0,this.dispatchEvent(g("mouseout",this)),this.refreshSelected())})).on("click",((t,e)=>{t.preventDefault(),u(this,s,"f")&&(u(this,s,"f").isHold=!0,this._dispatchSelectNode(e),this.refreshSelected())}))),this._linksData=(r=u(this,s,"f").contacts,o=[],a=new Set,Object.entries(r).forEach((t=>{var[e,i]=t;i.forEach((t=>{var i=e+"-"+t,s=[+e,+t];+e>+t&&(i=t+"-"+e,s=[+t,+e]),a.has(i)||(a.add(i),o.push(s))}))})),o)}}getRadius(t){return(t?.6:.4)*Math.max(2,Math.min(this.height,this.getSingleBaseWidth()))}arc(t){var e=this.getXFromSeqPosition(t[0])+this.getSingleBaseWidth()/2,i=this.getXFromSeqPosition(t[1])+this.getSingleBaseWidth()/2,s=.5*this.height,r=this.getSingleBaseWidth();return"M "+e+" "+s+" C "+(e-r)+" "+-s/4+" "+(i+r)+" "+-s/4+" "+i+" "+s}refreshSelected(){var t,e,i;if(u(this,s,"f")&&this.contactPoints){this.contactPoints.transition().attr("r",(t=>{var e,i,r;return this.getRadius(t===(null===(e=u(this,s,"f"))||void 0===e?void 0:e.selected)||(null===(i=u(this,s,"f"))||void 0===i?void 0:i.contacts[t].has((null===(r=u(this,s,"f"))||void 0===r?void 0:r.selected)||0))||!1)})).attr("stroke",(t=>{var e;return t===(null===(e=u(this,s,"f"))||void 0===e?void 0:e.selected)&&u(this,s,"f").isHold?"rgb(127 255 127)":null})).style("opacity",(t=>{var e;return t===(null===(e=u(this,s,"f"))||void 0===e?void 0:e.selected)?1:.4}));var r=u(this,s,"f").selected&&(null===(t=this._linksData)||void 0===t?void 0:t.filter((t=>{var e;return t.includes(+((null===(e=u(this,s,"f"))||void 0===e?void 0:e.selected)||0))})))||[],o=null===(e=this.seqG)||void 0===e?void 0:e.selectAll("g.links-group").selectAll(".contact-link").data(r,(t=>t[0]+"_"+t[1]));null==o||o.exit().remove(),null==o||o.enter().append("path").attr("class","contact-link").attr("fill","transparent").attr("stroke",this._getColor((null===(i=u(this,s,"f"))||void 0===i?void 0:i.selected)||0)).attr("stroke-width",u(this,s,"f").isHold?3:1).style("opacity",1).style("pointer-events","none").attr("d",(t=>this.arc(t))).attr("id",(t=>{var[e,i]=t;return"cn_"+e+"_"+i})),null==o||o.attr("d",(t=>this.arc(t))).attr("stroke-width",u(this,s,"f").isHold?3:1)}}refresh(){u(this,s,"f")&&this.contactPoints&&(this.contactPoints.attr("cx",(t=>this.getXFromSeqPosition(t)+this.getSingleBaseWidth()/2)).attr("cy",.5*this.height),this.refreshSelected())}};s=new WeakMap,f([(0,r.Cb)({type:Number,attribute:"min-distance"})],v.prototype,"minDistance",void 0),f([(0,r.Cb)({type:Number,attribute:"min-probability"})],v.prototype,"minProbability",void 0),v=f([(0,r.Mo)("nightingale-links")],v)},56387:(t,e,i)=>{"use strict";i.d(e,{Z:()=>h}),i(752),i(76265),i(76801),i(43843);var s,r=i(77601),o=i(77062),a=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},n=s=class extends o.ZP{constructor(){super(...arguments),this["reflected-attributes"]=new Map,this.protvistaElements=new Set,this.propertyValues=new Map}connectedCallback(){super.connectedCallback(),this.addEventListener("change",this.changeListener),this.style.display="unset"}attributeChangedCallback(t,e,i){super.attributeChangedCallback(t,e,i),this.applyAttributes()}applyAttributes(){this.protvistaElements.forEach((t=>{var e;null===(e=this["reflected-attributes"])||void 0===e||e.forEach(((e,i)=>{!1===e||null==e?t.removeAttribute(i):t.setAttribute(i,"boolean"==typeof e?"":e)})),this.length&&t.setAttribute("length",""+this.length),this["display-end"]&&t.setAttribute("display-end",""+this["display-end"]),this["display-start"]&&t.setAttribute("display-start",""+this["display-start"]),this.highlight&&t.setAttribute("highlight",this.highlight)}))}register(t){this.protvistaElements.add(t),this.applyAttributes()}unregister(t){this.protvistaElements.delete(t)}applyProperties(t){if(t){var e=this.querySelector("#"+t);if(!e)return;this.propertyValues.forEach(((t,i)=>{e[i]=t}))}else this.protvistaElements.forEach((t=>{t&&this.propertyValues.forEach(((e,i)=>{t[i]=e}))}))}isRegisteredAttribute(t){return!!this["reflected-attributes"]&&([...this["reflected-attributes"].keys()].includes(t)||s.observedAttributes.includes(t))}changeListener(t){var e;t.detail&&("property"===t.detail.handler?(this.propertyValues.set(t.detail.type,t.detail.value),this.applyProperties(t.detail.for)):(this.isRegisteredAttribute(t.detail.type)&&(null===(e=this["reflected-attributes"])||void 0===e||e.set(t.detail.type,t.detail.value)),Object.keys(t.detail).forEach((e=>{var i;this.isRegisteredAttribute(e)&&(null===(i=this["reflected-attributes"])||void 0===i||i.set(e,t.detail[e]))})),this.applyAttributes()))}};a([(0,r.Cb)({converter:{fromAttribute:t=>{if(!t)return null;var e=t.split(",");if(-1!==e.indexOf("type"))throw new Error("'type' can't be used as a protvista attribute");if(-1!==e.indexOf("value"))throw new Error("'value' can't be used as a protvista attribute");return new Map(e.filter((t=>!n.observedAttributes.includes(t))).map((t=>[t,null])))},toAttribute:t=>t.join(",")}})],n.prototype,"reflected-attributes",void 0),a([(0,r.Cb)({type:Number})],n.prototype,"length",void 0),a([(0,r.Cb)({type:Number})],n.prototype,"display-start",void 0),a([(0,r.Cb)({type:Number})],n.prototype,"display-end",void 0),a([(0,r.Cb)({type:String})],n.prototype,"highlight",void 0),a([(0,r.SB)()],n.prototype,"protvistaElements",void 0),a([(0,r.SB)()],n.prototype,"propertyValues",void 0);const h=n=s=a([(0,r.Mo)("nightingale-manager")],n)},42647:(t,e,i)=>{"use strict";i(752),i(76265),i(78730),i(79307),i(60429);var s=i(77601);var r=i(42689);const o=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=(0,r.Z)(i))==i?i:0),void 0!==e&&(e=(e=(0,r.Z)(e))==e?e:0),function(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}((0,r.Z)(t),e,i)};var a=i(58816);const n=function(t){var e=function(t){return t?1/0===(t=(0,r.Z)(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),i=e%1;return e==e?i?e-i:e:0};var h=i(43023),l=a.Z.isFinite,c=Math.min;const f=(d=Math.floor,function(t,e){if(t=(0,r.Z)(t),(e=null==e?0:c(n(e),292))&&l(t)){var i=((0,h.Z)(t)+"e").split("e"),s=d(i[0]+"e"+(+i[1]+e));return+((i=((0,h.Z)(s)+"e").split("e"))[0]+"e"+(+i[1]-e))}return d(t)});var d,u=i(31793),p=i(10134),g=i(77062);const v=t=>Object.entries(t).map((t=>{var[e,i]=t;return e+": "+i+";"})).join(" ");var m,y;function b(t,e){return e||(e=t.slice(0)),t.raw=e,t}var w=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},x=class extends p.oi{constructor(){super(...arguments),this.overflow="auto",this.overflowX="initial",this.overflowY="initial",this.width=0,this.height=0,this.fullHeight=0,this.fullWidth=0,this.positionX="bottom",this.positionY="right",this._x=0,this._y=0,this.onScroll=t=>{var e,i,{showX:s,showY:r}=this.shouldShow(),o={xMovement:((null===(e=this.el)||void 0===e?void 0:e.scrollLeft)||0)-(s?this.x:0),yMovement:((null===(i=this.el)||void 0===i?void 0:i.scrollTop)||0)-(r?this.y:0)};0===o.xMovement&&0===o.yMovement||this.dispatchEvent(new CustomEvent("fake-scroll",{bubbles:!0,detail:{movement:o,sourceEvent:t}}))}}set x(t){this._x=Number(t),this.el&&(this.el.scrollLeft=this.x)}get x(){return this._x}set y(t){this._y=Number(t),this.el&&(this.el.scrollTop=this._y)}get y(){return this._y}checkOverflow(t,e){var{withX:i=!1,withY:s=!1}=e,r=!1;switch(t){case"auto":i&&(r=this.fullWidth>this.width),s&&(r=this.fullHeight>this.height);break;case"hidden":r=!1;break;case"scroll":r=!0}return r}shouldShow(){var t={withX:!0},e={withY:!0},i="initial"===this.overflowX?this.overflow:this.overflowX,s="initial"===this.overflowY?this.overflow:this.overflowY;return{showX:this.checkOverflow(i,t)&&this.checkOverflow(this.overflow,t),showY:this.checkOverflow(s,e)&&this.checkOverflow(this.overflow,e)}}render(){var t={position:"absolute","overflow-x":"auto","overflow-y":"auto",width:this.width+"px",height:this.height+"px",transform:""},{showX:e,showY:i}=this.shouldShow(),s={height:"1px",width:"1px"};return i||e?(e&&(s.width=this.fullWidth+"px",t["overflow-x"]="scroll","top"===this.positionX&&(t.transform+="rotateX(180deg)")),i&&(s.height=this.fullHeight+"px",t["overflow-y"]="scroll","left"===this.positionY&&(t.transform+="rotateY(180deg)")),(0,p.dy)(y||(y=b(["<div style=",' id="fakescroll">\n      <div style=',"></div>\n    </div> "])),v(t),v(s))):(0,p.dy)(m||(m=b(["<div />"])))}updated(){var t=this.renderRoot.querySelector("#fakescroll");t!==this.el&&(this.el=t,this.el&&this.el.addEventListener("scroll",this.onScroll))}};w([(0,s.Cb)({type:String})],x.prototype,"overflow",void 0),w([(0,s.Cb)({type:String})],x.prototype,"overflowX",void 0),w([(0,s.Cb)({type:String})],x.prototype,"overflowY",void 0),w([(0,s.Cb)({type:Number})],x.prototype,"width",void 0),w([(0,s.Cb)({type:Number})],x.prototype,"height",void 0),w([(0,s.Cb)({type:Number})],x.prototype,"fullHeight",void 0),w([(0,s.Cb)({type:Number})],x.prototype,"fullWidth",void 0),w([(0,s.Cb)({type:String})],x.prototype,"positionX",void 0),w([(0,s.Cb)({type:String})],x.prototype,"positionY",void 0),w([(0,s.Cb)()],x.prototype,"x",null),w([(0,s.Cb)()],x.prototype,"y",null),x=w([(0,s.Mo)("fake-scroll")],x),i(86111);var C,S=i(3950);i(48903),i(58457);var q=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};class P extends((0,g._5)((0,g.Ds)((0,g.U6)(g.ZP)))){constructor(){super(...arguments),this["use-ctrl-to-zoom"]=!0,this["margin-right"]=0,this["margin-left"]=0,this.mouse={isMouseWithin:!1,cursorState:"grab"},this.fullWidth=0,this.fullHeight=0,this.x=0,this.y=0,this.uniqueId="msa-"+Math.round(1e4*Math.random()),this.ctxBuffers=[],this.ctx=null,this.canvasBuffers=[],this.currentContext=1,this.isInDragPhase=!1,this.mouseHasMoved=!1,this.mouseMovePosition=void 0}firstUpdated(){this.container=document.getElementById(this.uniqueId),window.requestAnimationFrame((()=>{this.svg=(0,S.Ys)(this).select("div")})),this.canvasBuffers=[document.getElementById(this.uniqueId+"-0"),document.getElementById(this.uniqueId+"-1")],this.ctxBuffers=this.canvasBuffers.map((t=>t.getContext("2d",{alpha:"false"}))),this.swapContexts()}swapContexts(){var t=this.currentContext;this.canvasBuffers[t].style.visibility="visible";var e=(this.currentContext+1)%2;this.canvasBuffers[e].style.visibility="hidden",this.currentContext=e,this.ctx=this.ctxBuffers[e]}draw(){this.ctx&&(this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.drawScene(),this.swapContexts())}zoomRefreshed(){this.handleZooomChanged()}render(){var t,e,i={width:this.width+"px",height:this.height+"px",cursor:this.mouse.cursorState,position:"relative",flexShrink:0},s={position:"absolute",left:0,top:0};return(0,p.dy)(C||(t=["\n      <div id="," style=",">\n        <canvas\n          style=","\n          id=","\n          width=","\n          height=","\n        >\n          Your browser does not seem to support HTML5 canvas.\n        </canvas>\n        <canvas\n          style=","\n          id=","\n          width=","\n          height=",'\n        >\n          Your browser does not seem to support HTML5 canvas.\n        </canvas>\n        <fake-scroll\n          overflowX="hidden"\n          overflowY="initial"\n          width=',"\n          height=","\n          fullWidth=","\n          fullHeight=","\n          x=","\n          y=","\n        ></fake-scroll>\n      </div>\n    "],e||(e=t.slice(0)),t.raw=e,C=t),this.uniqueId,v(i),v(s),this.uniqueId+"-0",this.width,this.height,v(s),this.uniqueId+"-1",this.width,this.height,this.width,this.height,this.fullWidth,this.fullHeight,this.x,this.y)}}q([(0,s.SB)()],P.prototype,"mouse",void 0),q([(0,s.SB)()],P.prototype,"fullWidth",void 0),q([(0,s.SB)()],P.prototype,"fullHeight",void 0),q([(0,s.SB)()],P.prototype,"x",void 0),q([(0,s.SB)()],P.prototype,"y",void 0);const E=P;var M="A".charCodeAt(0);const k=class{drawTile(t){var{row:e,column:i}=t;if(this.props){var s=this.props.tileWidth,r=this.props.tileHeight,o=r*(e-this.props.startYTile),a=s*(i-this.props.startXTile);if(!(e>=this.props.sequences.raw.length)){var n=this.props.sequences.raw[e].sequence;if(!(i>=n.length)){var h=n[i];if(void 0!==h){var l=this.props.colorScheme.getColor(h,i),c=this.getOverlayFactor(h,i),f=h+"-"+l+"-"+c,d=this.props.residueTileCache.createTile({key:f,tileWidth:s,tileHeight:r,create:t=>{var{ctx:e}=t;return this.drawResidue({text:h,canvas:e,colorSchemeName:l,overlayFactor:c})}});this.props.ctx.drawImage(d,0,0,s,r,a,o,s,r)}}}}}getOverlayFactor(t,e){var i;if(!(null===(i=this.props)||void 0===i?void 0:i.overlayConservation)||!this.props.conservation)return 1;var s=t.charCodeAt(0)-M;if(s<0||s>=26)return 0;var r=this.props.conservation.map[26*e+s]||0;return Math.floor(5*r)/5}drawResidue(t){var{canvas:e,colorSchemeName:i,text:s,overlayFactor:r=1}=t;if(this.props&&(e.globalAlpha=.7*r,e.fillStyle=i,e.fillRect(0,0,this.props.tileWidth,this.props.tileHeight),!(this.props.tileWidth<4))){this.props.border&&(e.globalAlpha=1,e.lineWidth=this.props.borderWidth,e.strokeStyle=this.props.borderColor,e.strokeRect(0,0,this.props.tileWidth,this.props.tileHeight));e.globalAlpha=Math.min(1,1/6*this.props.tileWidth-.6666666666666666),e.fillStyle=this.props.textColor,e.font=this.props.textFont,e.textBaseline="middle",e.textAlign="center",e.fillText(s,this.props.tileWidth/2,this.props.tileHeight/2+1,this.props.tileWidth)}}draw(t){this.props=t;for(var e=this.props.startYTile;e<this.props.endYTile;e++)for(var i=this.props.startXTile;i<this.props.endXTile;i++)this.drawTile({row:e,column:i})}};var O=i(58090);var T=i(17839);const R=function(t,e){return t<e},B=function(t,e){return t&&t.length?function(t,e,i){for(var s=-1,r=t.length;++s<r;){var o=t[s],a=e(o);if(null!=a&&(void 0===n?a==a&&!(0,O.Z)(a):i(a,n)))var n=a,h=o}return h}(t,(0,T.Z)(e,2),R):void 0},W=class{constructor(t){var{maxElements:e}=void 0===t?{}:t;this.cache={},this.spec={},this.cachedElements=0,this.maxElements=e||200,this.invalidate()}createTile(t){var{key:e,tileWidth:i,tileHeight:s,create:r}=t;if(e in this.cache)return this.cache[e].value;if(this.cachedElements>=this.maxElements){var o=B(Object.keys(this.cache),(t=>this.cache[t].insertionTime));o&&delete this.cache[o]}var a=document.createElement("canvas");this.cache[e]={value:a,insertionTime:Date.now()},a.width=i,a.height=s;var n=a.getContext("2d");return this.cachedElements++,n&&r({ctx:n}),a}updateTileSpecs(t){return!(0,u.Z)(this.spec,t)&&(this.invalidate(),this.spec=t,!0)}invalidate(){this.cache={},this.spec={},this.cachedElements=0}};class j{}j.relative=function(t){if(void 0!==t.changedTouches)return j.relative(t.changedTouches[0]);var e=t,i=e.offsetX,s=e.offsetY;if(void 0===i){var r=e.target,o=r.getBoundingClientRect();if(i=e.clientX-o.left,s=e.clientY-o.top,void 0===i&&(i=e.pageX-r.offsetLeft,s=e.pageY-r.offsetTop,void 0===i))return console.log(e,"No mouse event defined."),{xPos:-1,yPos:-1}}return{xPos:i,yPos:s}},j.absolute=function(t){if(void 0!==t.changedTouches)return j.absolute(t.changedTouches[0]);var e=t,i=e.pageX,s=e.pageY;return void 0===i&&(i=e.offsetX,s=e.offsetY),void 0===i&&(i=e.clientX,s=e.clientY),void 0===i&&(i=e.x,s=e.y),{xPos:i,yPos:s}},j.wheelDelta=function(t){var e=[t.deltaX,t.deltaY];return void 0===e[0]&&t.movementX&&(e=[t.movementX,t.movementY]),isNaN(e[0])&&(e[0]=0),isNaN(e[1])&&(e[1]=0),e};const H=j;function F(t,e){return t-t%e}class A{constructor(t){this.defaultColor="#ffffff",this.type="static",this.map=t}getColor(t){return void 0!==this.map[t]?this.map[t]:this.defaultColor}}class N{constructor(t,e){this.type="dyn",this.opt=e;var i=t;void 0!==i.init?(i.init.call(this),this.getColor=i.run,this.reset=i.init,this.map=i.map):this.getColor=t}}const D={A:"#00a35c",R:"#00fc03",N:"#00eb14",D:"#00eb14",C:"#0000ff",Q:"#00f10e",E:"#00f10e",G:"#009d62",H:"#00d52a",I:"#0054ab",L:"#007b84",K:"#00ff00",M:"#009768",F:"#008778",P:"#00e01f",S:"#00d52a",T:"#00db24",W:"#00a857",Y:"#00e619",V:"#005fa0",B:"#00eb14",X:"#00b649",Z:"#00f10e"},Y={A:"#e718e7",R:"#6f906f",N:"#1be41b",D:"#778877",C:"#23dc23",Q:"#926d92",E:"#ff00ff",G:"#00ff00",H:"#758a75",I:"#8a758a",L:"#ae51ae",K:"#a05fa0",M:"#ef10ef",F:"#986798",P:"#00ff00",S:"#36c936",T:"#47b847",W:"#8a758a",Y:"#21de21",V:"#857a85",B:"#49b649",X:"#758a75",Z:"#c936c9"},L={A:" #FF83FA",C:" #40E0D0",G:" #FF83FA",R:" #FF83FA",T:" #40E0D0",U:" #40E0D0",Y:" #40E0D0"},G={A:"#5858a7",R:"#6b6b94",N:"#64649b",D:"#2121de",C:"#9d9d62",Q:"#8c8c73",E:"#0000ff",G:"#4949b6",H:"#60609f",I:"#ecec13",L:"#b2b24d",K:"#4747b8",M:"#82827d",F:"#c2c23d",P:"#2323dc",S:"#4949b6",T:"#9d9d62",W:"#c0c03f",Y:"#d3d32c",V:"#ffff00",B:"#4343bc",X:"#797986",Z:"#4747b8"},X={A:"#2cd3d3",R:"#708f8f",N:"#ff0000",D:"#e81717",C:"#a85757",Q:"#3fc0c0",E:"#778888",G:"#ff0000",H:"#708f8f",I:"#00ffff",L:"#1ce3e3",K:"#7e8181",M:"#1ee1e1",F:"#1ee1e1",P:"#f60909",S:"#e11e1e",T:"#738c8c",W:"#738c8c",Y:"#9d6262",V:"#07f8f8",B:"#f30c0c",X:"#7c8383",Z:"#5ba4a4"};var V="A".charCodeAt(0),I=new Set([""," ","-","_","."]),_={aliphatic:{A:"#00639a",V:"#00639a",L:"#00639a",I:"#00639a",P:"#00639a"},aromatic:{F:"#00639a",W:"#00639a",Y:"#00639a",H:"#00639a"},buried:D,buried_index:D,charged:{D:"#00639a",E:"#00639a",K:"#00639a",R:"#00639a",H:"#00639a"},cinema:{A:"#BBBBBB",B:"grey",C:"yellow",D:"red",E:"red",F:"magenta",G:"brown",H:"#00FFFF",I:"#BBBBBB",J:"#fff",K:"#00FFFF",L:"#BBBBBB",M:"#BBBBBB",N:"green",O:"#fff",P:"brown",Q:"green",R:"#00FFFF",S:"green",T:"green",U:"#fff",V:"#BBBBBB",W:"magenta",X:"grey",Y:"magenta",Z:"grey",Gap:"grey"},clustal2:{A:"#80a0f0",R:"#f01505",N:"#00ff00",D:"#c048c0",C:"#f08080",Q:"#00ff00",E:"#c048c0",G:"#f09048",H:"#15a4a4",I:"#80a0f0",L:"#80a0f0",K:"#f01505",M:"#80a0f0",F:"#80a0f0",P:"#ffff00",S:"#00ff00",T:"#00ff00",W:"#80a0f0",Y:"#15a4a4",V:"#80a0f0",B:"#fff",X:"#fff",Z:"#fff"},clustal:{A:"orange",B:"#fff",C:"green",D:"red",E:"red",F:"blue",G:"orange",H:"red",I:"green",J:"#fff",K:"red",L:"green",M:"green",N:"#fff",O:"#fff",P:"orange",Q:"#fff",R:"red",S:"orange",T:"orange",U:"#fff",V:"green",W:"blue",X:"#fff",Y:"blue",Z:"#fff",Gap:"#fff"},helix:Y,helix_propensity:Y,hydro:{A:"#ad0052",B:"#0c00f3",C:"#c2003d",D:"#0c00f3",E:"#0c00f3",F:"#cb0034",G:"#6a0095",H:"#1500ea",I:"#ff0000",J:"#fff",K:"#0000ff",L:"#ea0015",M:"#b0004f",N:"#0c00f3",O:"#fff",P:"#4600b9",Q:"#0c00f3",R:"#0000ff",S:"#5e00a1",T:"#61009e",U:"#fff",V:"#f60009",W:"#5b00a4",X:"#680097",Y:"#4f00b0",Z:"#0c00f3"},lesk:{A:" orange",B:" #fff",C:" green",D:" red",E:" red",F:" green",G:" orange",H:" magenta",I:" green",J:" #fff",K:" red",L:" green",M:" green",N:" magenta",O:" #fff",P:" green",Q:" magenta",R:" red",S:" orange",T:" orange",U:" #fff",V:" green",W:" green",X:" #fff",Y:" green",Z:" #fff",Gap:" #fff"},mae:{A:" #77dd88",B:" #fff",C:" #99ee66",D:" #55bb33",E:" #55bb33",F:" #9999ff",G:" #77dd88",H:" #5555ff",I:" #66bbff",J:" #fff",K:" #ffcc77",L:" #66bbff",M:" #66bbff",N:" #55bb33",O:" #fff",P:" #eeaaaa",Q:" #55bb33",R:" #ffcc77",S:" #ff4455",T:" #ff4455",U:" #fff",V:" #66bbff",W:" #9999ff",X:" #fff",Y:" #9999ff",Z:" #fff",Gap:" #fff"},negative:{D:"#00639a",E:"#00639a"},nucleotide:{A:" #64F73F",C:" #FFB340",G:" #EB413C",T:" #3C88EE",U:" #3C88EE"},polar:{R:"#00639a",N:"#00639a",D:"#00639a",Q:"#00639a",E:"#00639a",G:"#00639a",H:"#00639a",K:"#00639a",S:"#00639a",T:"#00639a",Y:"#00639a"},positive:{K:"#00639a",R:"#00639a",H:"#00639a"},purine:L,purine_pyrimidine:L,serine_threonine:{S:"#00639a",T:"#00639a"},strand:G,strand_propensity:G,taylor:{A:"#ccff00",R:"#0000ff",N:"#cc00ff",D:"#ff0000",C:"#ffff00",Q:"#ff00cc",E:"#ff0066",G:"#ff9900",H:"#0066ff",I:"#66ff00",L:"#33ff00",K:"#6600ff",M:"#00ff00",F:"#00ff66",P:"#ffcc00",S:"#ff3300",T:"#ff6600",W:"#00ccff",Y:"#00ffcc",V:"#99ff00",B:"#fff",X:"#fff",Z:"#fff"},turn:X,turn_propensity:X,zappo:{A:"#ffafaf",R:"#6464ff",N:"#00ff00",D:"#ff0000",C:"#ffff00",Q:"#00ff00",E:"#ff0000",G:"#ff00ff",H:"#6464ff",I:"#ffafaf",L:"#ffafaf",K:"#6464ff",M:"#ffafaf",F:"#ffc800",P:"#ff00ff",S:"#00ff00",T:"#00ff00",W:"#ffc800",Y:"#ffc800",V:"#ffafaf",B:"#fff",X:"#fff",Z:"#fff"}},Z={conservation:{init:function(){},run:function(t){var e=arguments.length<=1?void 0:arguments[1],i=t.toUpperCase(),s=arguments.length<=2?void 0:arguments[2];if(!s||1!==s.progress||I.has(i)||e>s.map.length/26)return"#ffffff";var r=i.charCodeAt(0)-V;if(r<0||r>=26)return"#ffffff";var o=s.map[26*e+r]||0;return o>.8?"#6464ff":o>.6?"#9da5ff":o>.4?"#cccccc":"#ffffff"},map:{"> 0.8":"#6464ff","> 0.6":"#9da5ff","> 0.4":"#cccccc","> 0":"#ffffff"}}};Object.keys(_),Object.keys(Z);var z=new class{constructor(t){this.maps=Object.assign({},_),this.dyn=Object.assign({},Z),this.opt=t}getScheme(t){var e=this.maps[t];return void 0===e&&(e={},void 0!==this.dyn[t])?new N(this.dyn[t],this.opt):new A(e)}addStaticScheme(t,e){this.maps[t]=e}addDynScheme(t,e){this.dyn[t]=e}};const U=class{constructor(t){this.scheme=z.getScheme(t)}updateConservation(t){this.conservation=t}getColor(t,e){return"dyn"===this.scheme.type?this.scheme.getColor(t,e,this.conservation):this.scheme.getColor(t)}};var K,Q,$=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},J="clustal",tt=class extends E{set position(t){var e,i;this._position=Object.assign({xPosOffset:-t.xPos%this.tileWidth,yPosOffset:-t.yPos%this.tileHeight,currentViewSequence:o(f(t.yPos/this.tileHeight),0,((null===(e=this.sequences)||void 0===e?void 0:e.length)||1)-1),currentViewSequencePosition:o(f(t.xPos/this.tileWidth),0,(null===(i=this.sequences)||void 0===i?void 0:i.maxLength)||0)},t),this.x=t.xPos,this.y=t.yPos}get position(){return this._position}constructor(){super(),this.redrawStarted=0,this.redrawnTiles=0,this.colorSchemeManager=new U(J),this.tileWidth=20,this.tileHeight=20,this.colorScheme=J,this.overlayConservation=!1,this.props={showModBar:!1,xGridSize:10,yGridSize:10,border:!1,borderColor:"black",borderWidth:1,cacheElements:20,textColor:"black",textFont:"18px Arial",overflow:"hidden",overflowX:"auto",overflowY:"auto",scrollBarPositionX:"bottom",scrollBarPositionY:"right",conservation:null,sequenceDisableDragging:!1},this.mouseOverFeatureIds=[],this.renderTile=t=>{var{row:e,column:i}=t,s=e+"-"+i;return this.tileCache.createTile({key:s,tileWidth:this.tileWidth*this.props.xGridSize,tileHeight:this.tileHeight*this.props.yGridSize,create:t=>{var{ctx:s}=t;this.sequences&&this.tilingGridManager.draw({ctx:s,startYTile:e,startXTile:i,residueTileCache:this.residueTileCache,endYTile:e+this.props.yGridSize,endXTile:i+this.props.xGridSize,sequences:this.sequences,colorScheme:this.colorSchemeManager,textFont:this.props.textFont,textColor:this.props.textColor,tileHeight:this.tileHeight,tileWidth:this.tileWidth,border:this.props.border,borderWidth:this.props.borderWidth,borderColor:this.props.borderColor,overlayConservation:this.overlayConservation,conservation:this.props.conservation})}})},this.movePosition=t=>{if(!this.position)throw Error("This method requires position to be set");(t.xMovement||t.yMovement)&&(this.position={xPos:this.position.xPos+t.xMovement,yPos:this.position.yPos+t.yMovement})},this.onPositionUpdate=(t,e)=>{var i={xMovement:t.xPos-e.xPos,yMovement:t.yPos-e.yPos};this.sendEvent("onPositionUpdate",e),this.movePosition(i)},this.updateScrollPosition=()=>{this.draw()},this.onMouseMove=t=>{var e=this.currentPointerPosition(t),i=this.currentMouseSequencePosition;if(!(0,u.Z)(i,e)&&(void 0!==i&&this.sendEvent("onResidueMouseLeave",i),this.currentMouseSequencePosition=e,this.sendEvent("onResidueMouseEnter",e),this.features&&this.features.length>0)){var s=this.mouseOverFeatureIds||[],r=this.sequencePositionToFeatureIds(e);(0,u.Z)(s,r)||(this.mouseOverFeatureIds=r,super.draw())}},this.onMouseLeave=()=>{this.sendEvent("onResidueMouseLeave",this.currentMouseSequencePosition),this.currentMouseSequencePosition=void 0,this.mouseOverFeatureIds&&(this.mouseOverFeatureIds=[],super.draw())},this.onClick=t=>{if(!this.mouseHasMoved){var e=this.currentPointerPosition(t);this.sendEvent("onResidueClick",e),this.features&&this.sequencePositionToFeatureIds(e).forEach((e=>{this.sendEvent("onFeatureClick",{event:t,id:e})}))}},this.onDoubleClick=t=>{var e=this.currentPointerPosition(t);this.sendEvent("onResidueDoubleClick",e)},this.tileCache=new W,this.residueTileCache=new W,this.tilingGridManager=new k,this.onClick=this.onClick.bind(this),this.onDoubleClick=this.onDoubleClick.bind(this),this.draw=this.draw.bind(this)}setProp(t,e){this.props=Object.assign(Object.assign({},this.props),{[t]:e}),"conservation"===t&&(this.colorSchemeManager.updateConservation(e),this.draw())}getColorMap(){return{name:this.colorScheme,map:this.colorSchemeManager.scheme.map}}willUpdate(t){var e,i;(t.has("sequences")||t.has("tileWidth")||t.has("width")||t.has("height"))&&(this.stats=this.sequences?{nrXTiles:Math.ceil(this.width/this.tileWidth)+1,nrYTiles:Math.ceil(this.height/this.tileHeight)+1,fullWidth:this.tileWidth*this.sequences.maxLength,fullHeight:this.tileHeight*this.sequences.length}:void 0,this.fullWidth=this.tileWidth*((null===(e=this.sequences)||void 0===e?void 0:e.maxLength)||0),this.fullHeight=this.tileHeight*((null===(i=this.sequences)||void 0===i?void 0:i.length)||0)),t.has("colorScheme")&&(this.colorSchemeManager=new U(this.colorScheme),this.props.conservation&&this.colorSchemeManager.updateConservation(this.props.conservation))}firstUpdated(){var t,e,i;super.firstUpdated(),null===(t=this.container)||void 0===t||t.addEventListener("mousemove",this.onMouseMove),null===(e=this.container)||void 0===e||e.addEventListener("click",this.onClick),null===(i=this.container)||void 0===i||i.addEventListener("dblclick",this.onDoubleClick),this.addEventListener("fake-scroll",(t=>{this.movePosition(t.detail.movement)}))}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this.container)||void 0===t||t.removeEventListener("mousemove",this.onMouseMove)}handleZooomChanged(){this.tileWidth=this.getSingleBaseWidth(),this.position={xPos:((this["display-start"]||1)-1)*this.tileWidth,yPos:this.position.yPos}}drawScene(){var t=this.getTilePositions();t&&(this.updateTileSpecs(),this.drawTiles(t),this.drawHighlightedRegions(),this.ctx&&this.ctx.canvas.dispatchEvent(new CustomEvent("drawCompleted",{bubbles:!0})))}getTilePositions(){if(!this.position||!this.sequences||!this.stats)return null;var t=Math.max(0,this.position.currentViewSequencePosition-this.props.cacheElements),e=Math.max(0,this.position.currentViewSequence-this.props.cacheElements),i=Math.min(this.sequences.length,e+this.stats.nrYTiles+2*this.props.cacheElements);return{startXTile:t,startYTile:e,endXTile:Math.min(this.sequences.maxLength,t+this.stats.nrXTiles+2*this.props.cacheElements),endYTile:i}}drawTiles(t){var e,{startXTile:i,startYTile:s,endXTile:r,endYTile:o}=t;if(!this.position)throw Error("This method requires position to be set");for(var a=this.props.xGridSize,n=this.props.yGridSize,h=F(s,n),l=F(i,a),c=h;c<o;c+=n)for(var f=l;f<r;f+=a){var d=this.renderTile({row:c,column:f}),u=a*this.tileWidth,p=n*this.tileHeight,g=(c-this.position.currentViewSequence)*this.tileHeight+this.position.yPosOffset,v=(f-this.position.currentViewSequencePosition)*this.tileWidth+this.position.xPosOffset;null===(e=this.ctx)||void 0===e||e.drawImage(d,0,0,u,p,v,g,u,p)}}drawHighlightedRegions(){if(this.highlight)if(Array.isArray(this.highlight))for(var t of this.highlight)this.drawHighlightedRegion(t);else this.drawHighlightedRegion(this.highlight);this.features&&this.features.forEach((t=>{this.drawHighlightedRegion(t)}))}drawHighlightedRegion(t){var e;if(this.ctx&&t&&this.position){var i=this.tileWidth*(1+t.residues.to-t.residues.from),s=this.tileHeight*(1+t.sequences.to-t.sequences.from),r=(t.sequences.from-this.position.currentViewSequence)*this.tileHeight+this.position.yPosOffset,o=(t.residues.from-1-this.position.currentViewSequencePosition)*this.tileWidth+this.position.xPosOffset,a=document.createElement("canvas");a.width=i,a.height=s;var n=a.getContext("2d");if(n){var h=null===(e=this.mouseOverFeatureIds)||void 0===e?void 0:e.some((e=>e===t.id));n.globalAlpha=.3,n.fillStyle=h?t.mouseOverFillColor||"green":t.fillColor||"#9999FF",n.fillRect(0,0,i,s),n.globalAlpha=1,n.strokeStyle=h?t.mouseOverBorderColor||"black ":t.borderColor||"777700",n.lineWidth=4,n.rect(0,0,i,s),n.stroke(),this.ctx.drawImage(a,0,0,i,s,o,r,i,s)}}}positionToSequence(t){if(!this.position||!this.sequences)throw Error("This method requires position and sequence to be set");var e=this.sequences.raw,i=o(f((this.position.yPos+t.yPos)/this.tileHeight),0,e.length-1),s=e[i],r=o(f((this.position.xPos+t.xPos)/this.tileWidth),0,s.sequence.length-1);return{i,sequence:s,position:r,residue:s.sequence[r]}}sequencePositionToFeatureIds(t){return this.features?this.features.filter((e=>e.id&&t.position>=e.residues.from-1&&t.position<=e.residues.to-1&&t.i>=e.sequences.from&&t.i<=e.sequences.to)).map((t=>t.id||"")):[]}currentPointerPosition(t){return this.positionToSequence(H.relative(t))}sendEvent(t,e){this.ctx&&this.ctx.canvas.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e}))}componentWillUnmount(){this.tileCache.invalidate(),this.residueTileCache.invalidate()}updateTileSpecs(){var t={tileWidth:this.tileWidth,tileHeight:this.tileHeight,colorScheme:this.colorSchemeManager,textFont:this.props.textFont,borderColor:this.props.borderColor,overlayConservation:this.overlayConservation,conservation:this.props.conservation};this.tileCache.updateTileSpecs(Object.assign(Object.assign({},t),{xGridSize:this.props.xGridSize,yGridSize:this.props.yGridSize,sequences:this.sequences})),this.residueTileCache.updateTileSpecs(t)}render(){return super.render()}updated(){this.draw()}};function et(t,e){return e||(e=t.slice(0)),t.raw=e,t}$([(0,s.Cb)({type:Number,attribute:"tile-width"})],tt.prototype,"tileWidth",void 0),$([(0,s.Cb)({type:Number,attribute:"tile-height"})],tt.prototype,"tileHeight",void 0),$([(0,s.Cb)({type:String,attribute:"color-scheme"})],tt.prototype,"colorScheme",void 0),$([(0,s.Cb)({type:Boolean,attribute:"overlay-conservation"})],tt.prototype,"overlayConservation",void 0),$([(0,s.SB)()],tt.prototype,"props",void 0),$([(0,s.SB)()],tt.prototype,"sequences",void 0),$([(0,s.SB)()],tt.prototype,"position",null),$([(0,s.SB)()],tt.prototype,"highlight",void 0),$([(0,s.SB)()],tt.prototype,"features",void 0),tt=$([(0,s.Mo)("msa-sequence-viewer")],tt);var it=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},st=class extends p.oi{constructor(){super(...arguments),this.width=0,this.height=0,this.y=0,this.labels=[],this.tileHeight=20,this.activeLabel=""}willUpdate(t){if(t.has("y")){var e=this.renderRoot.querySelector("ul");e&&(e.scrollTop=this.y)}}render(){var t={width:this.width+"px",height:this.height+"px","list-style":"none",padding:0,margin:0,"line-height":this.tileHeight+"px",color:"rgb(0, 99, 154)","text-transform":"uppercase",overflow:"hidden","font-weight":"normal","font-size":"14px",cursor:"pointer"};return(0,p.dy)(K||(K=et(["<ul style=",">\n      ","\n    </ul>"])),v(t),this.labels.map((t=>(0,p.dy)(Q||(Q=et(["<li\n            style=","\n            @click=","\n          >\n            ","\n          </li>"])),"font-weight: "+(this.activeLabel===t?"bold":"normal"),(()=>{this.activeLabel=t,this.dispatchEvent(new CustomEvent("msa-active-label",{bubbles:!0,detail:{label:t}}))}),t))))}};it([(0,s.Cb)({type:Number})],st.prototype,"width",void 0),it([(0,s.Cb)({type:Number})],st.prototype,"height",void 0),it([(0,s.Cb)({type:Number})],st.prototype,"y",void 0),it([(0,s.SB)()],st.prototype,"labels",void 0),it([(0,s.Cb)({type:Number,attribute:"tile-height"})],st.prototype,"tileHeight",void 0),it([(0,s.Cb)({attribute:"active-label",reflect:!0})],st.prototype,"activeLabel",void 0),st=it([(0,s.Mo)("msa-labels")],st),i(99211),i(29068),i(79943),i(79976),i(93356),i(99724),i(12826);var rt="\nself.addEventListener('message', (e) => {\n  if (self.previous !== e.data) {\n    const f = "+function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=!1);for(var s="A".charCodeAt(0),r=t&&t.length&&t[0].sequence.length||0,o=e?Math.min(e,t.length):t.length,a=e?t.slice(0,o):t,n=new Float32Array(26*r),h=0;h<a.length;h++)for(var{sequence:l}=a[h],c=0;c<l.length;c++){var f=26*c,d=l[c].toUpperCase().charCodeAt(0)-s;d<0||d>=26||n[f+d]++}for(var u=0;u<n.length;u++)n[u]/=o;return i&&self.postMessage({progress:1,conservation:n},[n.buffer]),n}.toString()+";\n    f(e.data.sequences, e.data.sampleSize, true);\n  }\n  self.previous = e.data;\n})";const ot=rt;var at,nt,ht,lt;function ct(t,e){return e||(e=t.slice(0)),t.raw=e,t}var ft=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},dt="clustal2",ut=class extends((0,g.YD)((0,g.tG)((0,g.Rn)((0,g.vl)((0,g.U6)((0,g.Ds)(g.ZP))))))){constructor(){super(),this.colorScheme=dt,this.labelWidth=0,this.tileHeight=20,this.activeLabel="",this.sampleSize=20,this.overlayConservtion=!1,this.worker=new Worker(window.URL.createObjectURL(new Blob([ot]))),this.worker.onmessage=t=>{var e;if(this.dispatchEvent(new CustomEvent("conservationProgress",{bubbles:!0,detail:t.data})),1===t.data.progress){var i=Object.assign(Object.assign({},t.data),{map:t.data.conservation});null===(e=this.sequenceViewer)||void 0===e||e.setProp("conservation",i)}}}set data(t){this.length=Math.max(...t.map((t=>{var{sequence:e}=t;return e.length})));var e={raw:t,length:t.length,maxLength:this.length};this.sequenceViewer&&(this.sequenceViewer.sequences=e),this.labelPanel&&(this.labelPanel.labels=t.map((t=>{var{name:e}=t;return e}))),this.worker.postMessage({sequences:t,sampleSize:this.sampleSize})}set features(t){this.sequenceViewer&&(this.sequenceViewer.features=t)}getColorMap(){var t;return null===(t=this.sequenceViewer)||void 0===t?void 0:t.getColorMap()}render(){var t={height:this["margin-top"]+"px",width:"100%",background:this["margin-color"]},e={width:this["margin-left"]+"px",background:this["margin-color"]},i={width:this["margin-right"]+"px",background:this["margin-color"]},s={height:this["margin-bottom"]+"px",width:"100%",background:this["margin-color"]},r=this.labelWidth||0,o=this.tileHeight||20;return(0,p.dy)(at||(at=ct(["\n      ","\n      <div style=",">\n        ","\n\n        <div style=","></div>\n        <msa-sequence-viewer\n          height=","\n          width=","\n          color-scheme=","\n          tile-height=","\n          display-start=","\n          display-end=","\n          length=","\n          ?overlay-conservation=","\n        ></msa-sequence-viewer>\n        <div style=","></div>\n      </div>\n      ","\n    "])),this["margin-top"]>0?(0,p.dy)(nt||(nt=ct(["<div style=","></div>"])),v(t)):"",v({display:"flex","align-items":"stretch"}),r>0?(0,p.dy)(ht||(ht=ct(["<msa-labels\n              width=","\n              height=","\n              tile-height=","\n              active-label=","\n            ></msa-labels>"])),r,this.height,o,this.activeLabel||""):"",v(e),this.height,this.getWidthWithMargins()-r,this.colorScheme||dt,o,this["display-start"]||0,this["display-end"]||0,this.length||0,this.overlayConservtion,v(i),this["margin-bottom"]>0?(0,p.dy)(lt||(lt=ct(["<div style=","></div>"])),v(s)):"")}updated(){var t;(null===(t=this.sequenceViewer)||void 0===t?void 0:t.sequences)&&(this.sequenceViewer.highlight=this.highlightedRegion.segments.map((t=>{var e,{start:i,end:s}=t;return{sequences:{from:0,to:((null===(e=this.sequenceViewer)||void 0===e?void 0:e.sequences)||[]).length-1},residues:{from:i,to:s},fillColor:this["highlight-color"],borderColor:this["highlight-color"]}})))}firstUpdated(){this.sequenceViewer=this.renderRoot.querySelector("msa-sequence-viewer"),this.labelPanel=this.renderRoot.querySelector("msa-labels"),this.sequenceViewer&&(this.sequenceViewer.position={xPos:0,yPos:0},this.addEventListener("fake-scroll",(()=>{this.labelPanel&&this.sequenceViewer&&(this.labelPanel.y=this.sequenceViewer.position.yPos)})),this.addEventListener("msa-active-label",(()=>{this.labelPanel&&(this.activeLabel=this.labelPanel.activeLabel)})))}};ft([(0,s.Cb)({attribute:"color-scheme"})],ut.prototype,"colorScheme",void 0),ft([(0,s.Cb)({type:Number,attribute:"label-width"})],ut.prototype,"labelWidth",void 0),ft([(0,s.Cb)({type:Number,attribute:"tile-height"})],ut.prototype,"tileHeight",void 0),ft([(0,s.Cb)({attribute:"active-label",reflect:!0})],ut.prototype,"activeLabel",void 0),ft([(0,s.Cb)({type:Number,attribute:"conservation-sample-size"})],ut.prototype,"sampleSize",void 0),ft([(0,s.Cb)({type:Boolean,attribute:"overlay-conservation"})],ut.prototype,"overlayConservtion",void 0),ut=ft([(0,s.Mo)("nightingale-msa")],ut)},54552:(t,e,i)=>{"use strict";i.d(e,{Z:()=>k}),i(752),i(51090),i(76265);var s,r,o,a,n,h,l,c,f,d,u,p,g,v,m=i(10134),y=i(77601),b=i(8873),w=i(86111),x=i(80767),C=i(3950),S=(i(48903),i(58457),i(77062)),q=function(t,e,i,s){var r,o=arguments.length,a=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var n=t.length-1;n>=0;n--)(r=t[n])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},P=function(t,e,i,s,r){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?r.call(t,i):r?r.value=i:e.set(t,i),i},E=function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)},M=class extends((0,S.YD)((0,S.tG)((0,S.vl)((0,S.Ds)((0,S.U6)((0,S.Rn)(S.ZP))))))){constructor(){super(),r.set(this,void 0),o.set(this,void 0),a.set(this,void 0),n.set(this,void 0),h.set(this,void 0),l.set(this,void 0),c.set(this,void 0),f.set(this,void 0),d.set(this,void 0),u.set(this,void 0),p.set(this,void 0),g.set(this,void 0),v.set(this,null),this["ruler-start"]=1,this["ruler-padding"]=10,this["scale-factor"]=(this.length||0)/5||10,this["show-highlight"]=!1,P(this,r,null,"f"),P(this,o,!1,"f")}createNavRuler(){var t=this.width-this["margin-right"]-this["ruler-padding"];P(this,r,(0,x.BY)().range([this["margin-left"]+this["ruler-padding"],t]).domain([this["ruler-start"],this["ruler-start"]+(this.length||1)]),"f"),P(this,a,(0,C.Ys)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),"f"),P(this,d,(0,b.LL)(E(this,r,"f")),"f"),P(this,n,E(this,a,"f").append("text").attr("class","start-label").attr("x",this["margin-left"]).attr("y",this.height-this["margin-bottom"]-2).style("font-family","sans-serif").style("font-size",12),"f"),P(this,h,E(this,a,"f").append("text").attr("class","end-label").attr("x",this.width-this["margin-right"]).attr("y",this.height-this["margin-bottom"]-2).attr("text-anchor","end").style("font-family","sans-serif").style("font-size",12),"f"),P(this,l,E(this,a,"f").append("g").attr("class","x axis").call(E(this,d,"f")),"f"),P(this,u,(0,w.Yu)().extent([[this["margin-left"]+this["ruler-padding"],0],[t,.5*this.height+3]]).handleSize(6).on("end",(t=>{var{selection:e}=t;null===e&&E(this,v,"f")&&E(this,c,"f")&&E(this,u,"f")&&E(this,c,"f").call(E(this,u,"f").move,E(this,v,"f"))})).on("brush",(t=>{var{selection:e,transform:i}=t;e&&E(this,r,"f")&&(P(this,v,e,"f"),this["display-start"]=Math.round(100*E(this,r,"f").invert(e[0]))/100,this["display-end"]=Math.round(100*E(this,r,"f").invert(e[1]))/100,E(this,o,"f")||this.dispatchEvent(new CustomEvent("change",{detail:{"display-end":this["display-end"],"display-start":this["display-start"],extra:{transform:i}},bubbles:!0,cancelable:!0})),this.updateLabels(),this.updatePolygon())})),"f"),P(this,c,E(this,a,"f").append("g").attr("class","brush"),"f"),t>0&&(E(this,c,"f").call(E(this,u,"f")),E(this,c,"f").call(E(this,u,"f").move,[E(this,r,"f").call(this,this.getStart()),E(this,r,"f").call(this,this.getEnd())])),P(this,f,E(this,a,"f").append("polygon").attr("class","zoom-polygon").attr("fill","#777").attr("fill-opacity","0.3"),"f"),P(this,g,E(this,a,"f").append("g").attr("class","margin"),"f"),this.createHighlight(),this.renderD3()}createHighlight(){E(this,a,"f")&&(P(this,p,E(this,a,"f").append("g").attr("class","highlighted"),"f"),this.updateHighlight())}onDimensionsChange(){var t,e,i,s;E(this,r,"f")&&(E(this,r,"f").range([this["margin-left"]+this["ruler-padding"],this.width-this["margin-right"]-this["ruler-padding"]]),null===(t=E(this,a,"f"))||void 0===t||t.attr("width",this.width),null===(e=E(this,a,"f"))||void 0===e||e.attr("height",this.height),null===(i=E(this,u,"f"))||void 0===i||i.extent([[this["margin-left"]+this["ruler-padding"],0],[this.width-this["margin-right"]-this["ruler-padding"],.5*this.height+3]]),E(this,u,"f")&&(null===(s=E(this,c,"f"))||void 0===s||s.call(E(this,u,"f"))))}render(){return(0,m.dy)(s||(t=['<svg class="container"></svg>'],e||(e=t.slice(0)),t.raw=e,s=t));var t,e}updated(t){this.renderD3(),super.updated(t)}firstUpdated(){this.createNavRuler()}renderD3(){if(E(this,r,"f")&&E(this,l,"f")&&E(this,d,"f")&&E(this,u,"f")){E(this,r,"f").domain([this["ruler-start"],this["ruler-start"]+(this.length||1)-1]),E(this,l,"f").call(E(this,d,"f")),this.updatePolygon(),this.updateLabels();var t=[E(this,r,"f").call(this,this.getStart()),E(this,r,"f").call(this,this.getEnd())];E(this,c,"f")&&t[0]>=0&&t[1]>=0&&(P(this,o,!0,"f"),E(this,c,"f").call(E(this,u,"f").move,t),P(this,o,!1,"f")),this.updateHighlight(),this.renderMarginOnGroup(E(this,g,"f"))}}locate(t,e){E(this,c,"f")&&E(this,u,"f")&&E(this,r,"f")&&E(this,c,"f").call(E(this,u,"f").move,[E(this,r,"f").call(this,t),E(this,r,"f").call(this,e)])}zoomOut(){this.locate(Math.max(this["ruler-start"]||1,this.getStart()-this["scale-factor"]),Math.min((this.length||1)+this["ruler-start"]-1,this.getEnd()+this["scale-factor"]))}zoomIn(){var t=Math.min(this.getStart()+this["scale-factor"],this.getEnd()-1);this.locate(t,Math.max(this.getEnd()-this["scale-factor"],t+1))}updateHighlight(){if(E(this,p,"f")){var t=(0,x.BY)().domain([this["display-start"]||1,(this["display-end"]||this.length||1)+1]).range([this["margin-left"],this.width-this["margin-right"]]),e=(0,x.BY)().domain([this["ruler-start"],this["ruler-start"]+(this.length||1)]).range([this["margin-left"]+this["ruler-padding"],this.width-this["margin-right"]-this["ruler-padding"]]),i=E(this,p,"f").selectAll("polygon").data(this["show-highlight"]?this.highlightedRegion.segments:[]);i.enter().append("polygon").attr("class","highlight-polygon").style("pointer-events","none").merge(i).attr("fill",this["highlight-color"]).attr("points",(i=>{var s=Math.max(1,i.start),r=Math.min(this.length||1,i.end)+1;return e(s)+","+this.height/2+"\n        "+e(r)+","+this.height/2+"\n        "+t(r)+","+this.height+"\n        "+t(s)+","+this.height})),i.exit().remove();var s=E(this,p,"f").selectAll("rect").data(this["show-highlight"]?this.highlightedRegion.segments:[]);s.enter().append("rect").attr("class","highlight-rectangle").style("pointer-events","none").merge(s).attr("fill",this["highlight-color"]).attr("x",(t=>e(Math.max(1,t.start)))).attr("width",(t=>e(Math.min(this.length||1,t.end)+1)-e(Math.max(1,t.start)))).attr("y",this["margin-top"]).attr("height",this.height/2),s.exit().remove()}}updateLabels(){E(this,n,"f")&&E(this,n,"f").attr("x",this["margin-left"]).text(Math.round(this.getStart())),E(this,h,"f")&&E(this,h,"f").attr("x",this.width-this["margin-right"]).text(Math.round(this.getEnd()))}updatePolygon(){E(this,f,"f")&&E(this,r,"f")&&E(this,f,"f").attr("points",E(this,r,"f").call(this,this.getStart())+","+this.height/2+"\n        "+E(this,r,"f").call(this,this.getEnd())+","+this.height/2+"\n        "+(this.width-this["margin-right"])+","+this.height+"\n        "+this["margin-left"]+","+this.height)}getStart(){return this["display-start"]||1}getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||1}};r=new WeakMap,o=new WeakMap,a=new WeakMap,n=new WeakMap,h=new WeakMap,l=new WeakMap,c=new WeakMap,f=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakMap,g=new WeakMap,v=new WeakMap,q([(0,y.Cb)({type:Number})],M.prototype,"ruler-start",void 0),q([(0,y.Cb)({type:Number})],M.prototype,"ruler-padding",void 0),q([(0,y.Cb)({type:Number})],M.prototype,"scale-factor",void 0),q([(0,y.Cb)({type:Boolean})],M.prototype,"show-highlight",void 0);const k=M=q([(0,y.Mo)("nightingale-navigation")],M)},79800:(t,e,i)=>{t.exports=i(71487)},71487:t=>{const e=function(){let t={gf:{},gc:{},gs:{},gr:{},seqname:[],seqdata:{}};return Object.keys(t).forEach((e=>this[e]=t[e])),this},i=/^# STOCKHOLM 1.0/,s=/^\/\/\s*$/,r=/^#=GF\s+(\S+)\s+(.*?)\s*$/,o=/^#=GC\s+(\S+)\s+(.*?)\s*$/,a=/^#=GS\s+(\S+)\s+(\S+)\s+(.*?)\s*$/,n=/^#=GR\s+(\S+)\s+(\S+)\s+(.*?)\s*$/,h=/^\s*(\S+)\s+(\S+)\s*$/,l=/\S/,c="No format header: # STOCKHOLM 1.0",f=t=>"(At line "+(t+1)+") ",d=t=>{throw new Error(t)},u=t=>console.warn(t),p=(t,p)=>{const g=(p=p||{}).quiet?()=>null:u,v=p.strict?d:g;let m=[],y=null;return t.split("\n").forEach(((t,u)=>{const p=()=>{y||(v(f(u)+c),y=new e)};let g;i.test(t)?(y&&v(f(u)+"No format footer: //"),y=new e):s.test(t)?(y?m.push(y):v(f(u)+c),y=null):(g=r.exec(t))?(p(),y.gf[g[1]]=y.gf[g[1]]||[],y.gf[g[1]].push(g[2])):(g=o.exec(t))?(p(),y.gc[g[1]]=y.gc[g[1]]||"",y.gc[g[1]]+=g[2]):(g=a.exec(t))?(p(),y.gs[g[2]]=y.gs[g[2]]||{},y.gs[g[2]][g[1]]=y.gs[g[2]][g[1]]||[],y.gs[g[2]][g[1]].push(g[3])):(g=n.exec(t))?(p(),y.gr[g[2]]=y.gr[g[2]]||{},y.gr[g[2]][g[1]]=y.gr[g[2]][g[1]]||"",y.gr[g[2]][g[1]]+=g[3]):(g=h.exec(t))?(p(),y.seqdata[g[1]]||(y.seqdata[g[1]]="",y.seqname.push(g[1])),y.seqdata[g[1]]+=g[2]):l.test(t)&&d(f(u)+"Malformed line")})),y&&(v("Warning: no end line //"),m.push(y)),m};e.prototype.rows=function(){return this.seqname.length},e.prototype.columns=function(){let t=0;return this.seqname.forEach((e=>{t=Math.max(t,this.seqdata[e].length)})),Object.keys(this.gr).forEach((e=>Object.keys(this.gr[e]).forEach((i=>{t=Math.max(t,this.gr[e][i].length)})))),t},e.prototype.allNames=function(){let t={},e=[],i=i=>{t[i]||(t[i]=!0,e.push(i))},s=t=>t.forEach(i);return s(this.seqname),s(Object.keys(this.seqdata)),Object.keys(this.gr).forEach((t=>s(Object.keys(this.gr[t])))),Object.keys(this.gs).forEach((t=>s(Object.keys(this.gs[t])))),e},e.prototype.allTags=function(){let t={};const e=e=>Object.keys(e).forEach((e=>t[e]=!0));return e(this.gc),e(this.gf),e(this.gr),e(this.gs),Object.keys(t).sort()},e.prototype.addRow=function(t,e){return this.seqdata[t]&&d("Duplicate row name"),this.seqname.push(t),this.seqdata[t]=e||"",this},e.prototype.deleteRow=function(t){return this.seqdata[t]||d("Row not found"),this.seqname=this.seqname.filter((e=>e!==t)),delete this.seqdata[t],Object.keys(this.gr).forEach((e=>delete this.gr[e][t])),Object.keys(this.gs).forEach((e=>delete this.gs[e][t])),this};const g=(t,e)=>{let i={};return Object.keys(t).forEach((s=>i[s]=e(t[s]))),i},v=t=>g(t,(t=>t.slice(0))),m=t=>g(t,(t=>v(t)));e.prototype.copy=function(){let t=new e;return t.seqname=this.seqname.slice(0),t.seqdata=v(this.seqdata),t.gf=v(this.gf),t.gc=v(this.gc),t.gs=m(this.gs),t.gr=m(this.gr),t};const y=(t,e)=>g(t,(t=>((t,e)=>e.map((e=>t[e])).join(""))(t,e)));function b(t,e){for(;t.length<e;)t=" "+t;return t}function w(t,e){for(;t.length<e;)t+=" ";return t}e.prototype.extractColumns=function(t){const i=this.columns(),s=t.filter((t=>t<0||t>=i));s.length&&d("Bad column indices: "+s.join(","));let r=new e;return r.seqname=this.seqname.slice(0),r.seqdata=y(this.seqdata,t),r.gf=v(this.gf),r.gc=y(this.gc,t),r.gs=m(this.gs),r.gr=((t,e)=>g(t,(t=>y(t,e))))(this.gr,t),r},e.prototype.extractColumnRange=function(t,e){return this.extractColumns(new Array(e+1-t).fill(0).map(((e,i)=>t+i)))},e.prototype.defaultGapChars=".-",e.prototype.seqpos2col=function(t,e){e=e||this.defaultGapChars,this.seqdata[t]||d("Row not found");const i=this.seqdata[t];return i.split("").map(((t,s)=>e.indexOf(i[s])<0?s:-1)).filter((t=>t>=0))},e.prototype.col2seqpos=function(t,e){e=e||this.defaultGapChars,this.seqdata[t]||d("Row not found");const i=this.seqdata[t];let s=-1;return i.split("").map(((t,r)=>e.indexOf(i[r])<0?++s:s+.5))},e.prototype.toString=function(t){t=t||{width:80,indentNames:!1};const e=this.allNames(),i=this.columns(),s=Math.max.apply(null,e.map((t=>t.length)).concat([0])),r=Math.max.apply(null,this.allTags().map((t=>t.length)).concat([0])),o=r?r+6:0,a=t.width?Math.max(1,t.width-s-o-1):i,n=t.indentNames?b:w,h=t.indentNames?(t,e)=>b(t,r)+" "+b(e,s):(t,e)=>w(t+" "+e,r+s+1);let l=[0];for(let t=a;t<i;t+=a)l.push(t);return"# STOCKHOLM 1.0\n"+Object.keys(this.gf).sort().map((t=>this.gf[t].map((e=>"#=GF "+n(t,r)+" "+e+"\n")).join(""))).join("")+Object.keys(this.gs).sort().map((t=>Object.keys(this.gs[t]).map((e=>this.gs[t][e].map((i=>"#=GS "+h(t,e)+" "+i+"\n")).join(""))).join(""))).join("")+l.map((t=>Object.keys(this.gc).sort().map((e=>"#=GC "+n(e,r)+function(t){return b("",t)}(s+2)+this.gc[e].substr(t,a)+"\n")).join("")+e.map((e=>Object.keys(this.gr).filter((t=>this.gr[t][e])).sort().map((i=>"#=GR "+h(i,e)+" "+this.gr[i][e].substr(t,a)+"\n")).join("")+(this.seqdata[e]?n(e,s+o)+" "+this.seqdata[e].substr(t,a)+"\n":""))).join(""))).join("\n")+"//\n"},e.prototype.toFasta=function(t){t=t||{width:80};const e=this.columns(),i=t.width||e;let s=[0];for(let t=i;t<e;t+=i)s.push(t);return this.allNames().map((t=>this.seqdata[t]?">"+t+"\n"+s.map((e=>this.seqdata[t].substr(e,i)+"\n")).join(""):"")).join("")},e.prototype.toRowList=function(t){return this.allNames().filter((t=>this.seqdata[t])).map((t=>[t,this.seqdata[t]]))},t.exports={sniff:t=>i.test(t),validate:t=>{try{p(t,{strict:!0})}catch(t){return!1}return!0},parse:(t,e)=>{const i=p(t,e);return 0===i.length&&d("No alignments found"),i.length>1&&d("More than one alignment found"),i[0]},parseAll:p,fromSeqIndex:(t,i)=>{let s=new e;return(i=i||Object.keys(t)).forEach((e=>s.addRow(e,t[e]))),s},fromRowList:t=>{let i=new e;return t.forEach((t=>i.addRow(t[0],t[1]))),i},Stockholm:e}},23648:(t,e,i)=>{"use strict";var s=i(68844);t.exports=s(1..valueOf)},97389:(t,e,i)=>{"use strict";var s=i(79989),r=i(68844),o=i(68700),a=i(23648),n=i(90534),h=i(3689),l=RangeError,c=String,f=Math.floor,d=r(n),u=r("".slice),p=r(1..toFixed),g=function(t,e,i){return 0===e?i:e%2==1?g(t,e-1,i*t):g(t*t,e/2,i)},v=function(t,e,i){for(var s=-1,r=i;++s<6;)r+=e*t[s],t[s]=r%1e7,r=f(r/1e7)},m=function(t,e){for(var i=6,s=0;--i>=0;)s+=t[i],t[i]=f(s/e),s=s%e*1e7},y=function(t){for(var e=6,i="";--e>=0;)if(""!==i||0===e||0!==t[e]){var s=c(t[e]);i=""===i?s:i+d("0",7-s.length)+s}return i};s({target:"Number",proto:!0,forced:h((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!h((function(){p({})}))},{toFixed:function(t){var e,i,s,r,n=a(this),h=o(t),f=[0,0,0,0,0,0],p="",b="0";if(h<0||h>20)throw new l("Incorrect fraction digits");if(n!=n)return"NaN";if(n<=-1e21||n>=1e21)return c(n);if(n<0&&(p="-",n=-n),n>1e-21)if(i=(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(n*g(2,69,1))-69)<0?n*g(2,-e,1):n/g(2,e,1),i*=4503599627370496,(e=52-e)>0){for(v(f,0,i),s=h;s>=7;)v(f,1e7,0),s-=7;for(v(f,g(10,s,1),0),s=e-1;s>=23;)m(f,1<<23),s-=23;m(f,1<<s),v(f,1,1),m(f,2),b=y(f)}else v(f,0,i),v(f,1<<-e,0),b=y(f)+d("0",h);return h>0?p+((r=b.length)<=h?"0."+d("0",h-r)+b:u(b,0,r-h)+"."+u(b,r-h)):p+b}})},29068:(t,e,i)=>{"use strict";i(31158)("Float32",(function(t){return function(e,i,s){return t(this,e,i,s)}}))}}]);
//# sourceMappingURL=698.module.698.00b.js.map