"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[442],{8189:(t,e,i)=>{i.d(e,{Z:()=>m}),i(752),i(76265),i(32320),i(51090);var n,r,a,s,o=i(10134),c=i(77601),h=i(8873),l=(i(86111),i(3950)),d=(i(48903),i(58457),i(77062)),g=function(t,e,i,n){var r,a=arguments.length,s=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(s=(a<3?r(s):a>3?r(e,i,s):r(e,i))||s);return a>3&&s&&Object.defineProperty(e,i,s),s},u=function(t,e,i,n,r){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?r.call(t,i):r?r.value=i:e.set(t,i),i},f=function(t,e,i,n){if("a"===i&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?n:"a"===i?n.call(t):n?n.value:e.get(t)},p=class extends((0,d.YD)((0,d._5)((0,d.tG)((0,d.vl)((0,d.Ds)((0,d.U6)((0,d.Rn)(d.ZP)))))))){constructor(){super(...arguments),r.set(this,void 0),a.set(this,void 0),s.set(this,void 0)}connectedCallback(){super.connectedCallback();var t=parseInt(this.getAttribute("numberofticks")||"",10);this.numberOfTicks=Number.isInteger(t)?t:3,this.addEventListener("load",(t=>{this.data=t.detail.payload}))}get data(){return this.sequence||""}set data(t){"string"==typeof t?this.sequence=t:"string"==typeof(null==t?void 0:t.sequence)&&(this.sequence=t.sequence),this.svg&&(this.updateScaleDomain(),this.applyZoomTranslation())}getCharSize(){var t,e;if(this.seq_g){var i=this.seq_g.select("text.base").node();if(i)this.chWidth=.8*i.getBBox().width,this.chHeight=1.6*i.getBBox().height;else{var n=this.seq_g.append("text").attr("class","base").text("T");this.chWidth=.8*((null===(t=n.node())||void 0===t?void 0:t.getBBox().width)||0),this.chHeight=1.6*((null===(e=n.node())||void 0===e?void 0:e.getBBox().height)||0),n.remove()}}}createSequence(){var t,e,i;this.svg=(0,l.Ys)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),u(this,r,null===(t=this.svg)||void 0===t?void 0:t.append("g").attr("class","background"),"f"),u(this,a,null===(e=this.svg)||void 0===e?void 0:e.append("g").attr("class","x axis"),"f"),this.seq_g=null===(i=this.svg)||void 0===i?void 0:i.append("g").attr("class","sequence").attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),this.highlighted=this.svg.append("g").attr("class","highlighted"),this.margins=this.svg.append("g").attr("class","margin"),this.sequence&&(this.updateScaleDomain(),this.applyZoomTranslation())}firstUpdated(){this.createSequence()}zoomRefreshed(){this.renderD3()}renderD3(){var t,e,i;if(this.getCharSize(),null===(t=this.svg)||void 0===t||t.attr("width",this.width).attr("height",this.height),f(this,a,"f")){var n=this.getSingleBaseWidth(),o=n-(this.chWidth||0),c=n/2,l=Math.floor(Math.max(0,this.getStart()-1)),g=Math.ceil(Math.min((null===(e=this.sequence)||void 0===e?void 0:e.length)||0,this.getEnd())),p=o<0?[]:(null===(i=this.sequence)||void 0===i?void 0:i.slice(l,g).split("").map(((t,e)=>({position:1+l+e,aa:t}))))||[];if(this.height>(this.chWidth||0)&&this.xScale){var m=(0,h.LL)(this.xScale).tickFormat((t=>""+(Number.isInteger(t)?t:""))).ticks(this.numberOfTicks,"s");f(this,a,"f").call(m)}f(this,a,"f").attr("transform","translate("+(this["margin-left"]+c)+","+this["margin-top"]+")"),f(this,a,"f").select(".domain").remove(),f(this,a,"f").selectAll(".tick line").remove(),f(this,a,"f").selectAll(".tick text").attr("y",2);var v=Math.max(10,this.chWidth||10,Math.min(this["margin-top"]+.25*this.getHeightWithMargins(),n-2));if(f(this,a,"f").selectAll(".tick text").attr("font-size",v),this.seq_g){this.seq_g.attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),u(this,s,this.seq_g.selectAll("text.base"),"f");var y=f(this,s,"f").data(p,(t=>t.position));if(y.enter().append("text").attr("class","base").attr("text-anchor","middle").attr("x",(t=>this.getXFromSeqPosition(t.position)+c)).text((t=>t.aa)).attr("font-size",v).style("pointer-events","none").style("font-family","monospace"),y.exit().remove(),y.attr("font-size",v).attr("x",(t=>this.getXFromSeqPosition(t.position)+c)),f(this,r,"f")){var b=f(this,r,"f").selectAll("rect.base_bg").data(p,(t=>t.position));b.enter().append("rect").attr("class","base_bg feature").attr("height",this.getHeightWithMargins()).attr("width",n).attr("fill",(t=>Math.round(t.position)%2?"#ccc":"#eee")).attr("x",(t=>this.getXFromSeqPosition(t.position))).attr("y",this["margin-top"]).style("opacity",Math.min(1,o)).call(d.sQ,this),b.attr("width",n).attr("fill",(t=>Math.round(t.position)%2?"#ccc":"#eee")).attr("height",this.getHeightWithMargins()).attr("x",(t=>this.getXFromSeqPosition(t.position))).attr("y",this["margin-top"]),b.exit().remove(),this.seq_g.style("opacity",Math.min(1,o)),b.style("opacity",Math.min(1,o))}}this.updateHighlight(),this.renderMarginOnGroup(this.margins)}}getStart(){return this["display-start"]||1}getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||0}updateHighlight(){if(this.highlighted){var t=this.highlighted.selectAll("rect").data(this.highlightedRegion.segments);t.enter().append("rect").style("pointer-events","none").merge(t).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(t=>this.getXFromSeqPosition(t.start))).attr("width",(t=>Math.max(0,this.getSingleBaseWidth()*(t.end-t.start+1)))),t.exit().remove()}}render(){return(0,o.dy)(n||(t=['<svg class="container"></svg>'],e||(e=t.slice(0)),t.raw=e,n=t));var t,e}};r=new WeakMap,a=new WeakMap,s=new WeakMap,g([(0,c.Cb)({type:String})],p.prototype,"sequence",void 0);const m=p=g([(0,d.y_)("nightingale-sequence")],p)},69005:(t,e,i)=>{i.r(e),i.d(e,{default:()=>g}),i(752),i(76265),i(86544),i(60429),i(278);var n=i(67294),r=i(19119),a=i(34287),s=i(9033),o=i(30673),c=i(26324),h=i(85869),l=i(76233),d=(0,r.P1)((t=>t.customLocation.description),(t=>({entryDB:t.entry.db})));const g=(0,a.Z)({getUrl:s.g$,propNamespace:"Base",mapStateToProps:d})((t=>{var e,i,{entryDB:r,data:{payload:a},dataBase:s,localPayload:d,orf:g}=t;if(!r)return n.createElement(l.Z,{to:t=>Object.assign(Object.assign({},t),{description:Object.assign(Object.assign({},t.description),{entry:{isFilter:!0,db:"InterPro"}})})});if(!a&&!d||!s)return n.createElement(h.Z,null);var u=a?Object.assign({},a.results[0]):d;(null===(e=u.openReadingFrames)||void 0===e?void 0:e.length)&&"number"==typeof g&&(u=Object.assign(Object.assign({},u),u.openReadingFrames[g].protein)),u.length=null===(i=u.sequence)||void 0===i?void 0:i.length;var f=Array.from(function*(t,e){var i,n,r,a,s=function*(t){t.signature.entry&&(yield{accession:t.signature.entry.accession,name:t.signature.entry.description,source_database:"InterPro",matches:[{protein_length:e,entry_protein_locations:t.locations.map((e=>Object.assign(Object.assign({},e),{model_acc:t["model-ac"],fragments:e["location-fragments"]&&e["location-fragments"].length?e["location-fragments"]:[{start:e.start,end:e.end}]}))),entry_type:null===(i=t.signature.entry)||void 0===i?void 0:i.type,source_database:"InterPro",entry_integrated:null,accession:null===(n=t.signature.entry)||void 0===n?void 0:n.accession}]});var s=(0,o.V6)(t.signature.signatureLibraryRelease.library);yield{accession:t.signature.accession,name:t.signature.description||"",source_database:s,matches:[{protein_length:e,entry_protein_locations:t.locations.map((e=>Object.assign(Object.assign({},e),{model_acc:t["model-ac"],fragments:e["location-fragments"]&&e["location-fragments"].length?e["location-fragments"]:[{start:e.start,end:e.end}]}))),entry_type:null===(r=t.signature.entry)||void 0===r?void 0:r.type,source_database:s,entry_integrated:null===(a=t.signature.entry)||void 0===a?void 0:a.accession,accession:t.signature.accession}]}};for(var c of t)yield*s(c)}(u.matches,u.length||0)),p=(t=>Array.from(new Map(t.map((t=>{var{accession:e,source_database:i}=t;return[e,i]}))).entries()).reduce(((t,e)=>{var[i,n]=e,r=n.toLowerCase();return t[r]=t[r]?t[r]+1:1,t}),{}))(f),m=(t=>{var e=new Map;for(var i of t){var n=e.get(i.accession);n&&(n.matches=[...n.matches,...i.matches]),e.set(i.accession,n||i)}return Array.from(e.values())})(f.filter((t=>{var{source_database:e}=t;return e.toLowerCase()===r.toLowerCase()})));return n.createElement(c.D,{mainData:u,secondaryData:m,secondaryDataLoading:!1,isStale:!1,mainType:"protein",focusType:"entry",focusDb:r,actualSize:m.length,dbCounters:p,dataBase:s})}))},85415:(t,e,i)=>{var n=i(79989),r=i(18734),a=i(76522);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return r(t,(function(t,i){a(e,t,i)}),{AS_ENTRIES:!0}),e}})},8873:(t,e,i)=>{function n(t){return t}i.d(e,{LL:()=>m,y4:()=>v,Kh:()=>p});var r=1,a=2,s=3,o=4,c=1e-6;function h(t){return"translate("+t+",0)"}function l(t){return"translate(0,"+t+")"}function d(t){return e=>+t(e)}function g(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),i=>+t(i)+e}function u(){return!this.__axis}function f(t,e){var i=[],f=null,p=null,m=6,v=6,y=3,b="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,w=t===r||t===o?-1:1,x=t===o||t===a?"x":"y",_=t===r||t===s?h:l;function k(h){var l=null==f?e.ticks?e.ticks.apply(e,i):e.domain():f,k=null==p?e.tickFormat?e.tickFormat.apply(e,i):n:p,M=Math.max(m,0)+y,q=e.range(),S=+q[0]+b,A=+q[q.length-1]+b,O=(e.bandwidth?g:d)(e.copy(),b),P=h.selection?h.selection():h,j=P.selectAll(".domain").data([null]),C=P.selectAll(".tick").data(l,e).order(),B=C.exit(),W=C.enter().append("g").attr("class","tick"),D=C.select("line"),E=C.select("text");j=j.merge(j.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(W),D=D.merge(W.append("line").attr("stroke","currentColor").attr(x+"2",w*m)),E=E.merge(W.append("text").attr("fill","currentColor").attr(x,w*M).attr("dy",t===r?"0em":t===s?"0.71em":"0.32em")),h!==P&&(j=j.transition(h),C=C.transition(h),D=D.transition(h),E=E.transition(h),B=B.transition(h).attr("opacity",c).attr("transform",(function(t){return isFinite(t=O(t))?_(t+b):this.getAttribute("transform")})),W.attr("opacity",c).attr("transform",(function(t){var e=this.parentNode.__axis;return _((e&&isFinite(e=e(t))?e:O(t))+b)}))),B.remove(),j.attr("d",t===o||t===a?v?"M"+w*v+","+S+"H"+b+"V"+A+"H"+w*v:"M"+b+","+S+"V"+A:v?"M"+S+","+w*v+"V"+b+"H"+A+"V"+w*v:"M"+S+","+b+"H"+A),C.attr("opacity",1).attr("transform",(function(t){return _(O(t)+b)})),D.attr(x+"2",w*m),E.attr(x,w*M).text(k),P.filter(u).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===a?"start":t===o?"end":"middle"),P.each((function(){this.__axis=O}))}return k.scale=function(t){return arguments.length?(e=t,k):e},k.ticks=function(){return i=Array.from(arguments),k},k.tickArguments=function(t){return arguments.length?(i=null==t?[]:Array.from(t),k):i.slice()},k.tickValues=function(t){return arguments.length?(f=null==t?null:Array.from(t),k):f&&f.slice()},k.tickFormat=function(t){return arguments.length?(p=t,k):p},k.tickSize=function(t){return arguments.length?(m=v=+t,k):m},k.tickSizeInner=function(t){return arguments.length?(m=+t,k):m},k.tickSizeOuter=function(t){return arguments.length?(v=+t,k):v},k.tickPadding=function(t){return arguments.length?(y=+t,k):y},k.offset=function(t){return arguments.length?(b=+t,k):b},k}function p(t){return f(a,t)}function m(t){return f(s,t)}function v(t){return f(o,t)}}}]);
//# sourceMappingURL=442.module.ips-entry-subpage.9c6.js.map