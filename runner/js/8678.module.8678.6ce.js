/*! For license information please see 8678.module.8678.6ce.js.LICENSE.txt */
(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[8678],{48837:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>_}),n(752),n(76265),n(12826),n(64043),n(80939),n(51090);var r=n(77601),i=(n(86111),n(80767)),o=(n(48903),n(58457),n(8189)),a=n(77062);n(28436);n(60429);var s=t=>t;const l=JSON.parse('{"I":-0.31,"L":-0.56,"F":-1.13,"V":0.07,"M":-0.23,"P":0.45,"W":-1.85,"H":0.17,"T":0.14,"E":-0.01,"Q":0.58,"C":-0.24,"Y":-0.94,"A":0.17,"S":0.13,"N":0.42,"D":-0.07,"R":0.81,"G":0.01,"K":0.99}'),c=JSON.parse('{"I":-1.12,"L":-1.25,"F":-1.71,"V":-0.46,"M":-0.67,"P":0.14,"W":-2.09,"H":0.11,"T":0.25,"E":0.11,"Q":0.77,"C":-0.02,"Y":-0.71,"A":0.5,"S":0.46,"N":0.85,"D":0.43,"R":1.15,"G":3.63,"K":3.64}'),h=JSON.parse('{"I":-0.81,"L":-0.69,"F":-0.58,"V":-0.53,"M":-0.44,"P":-0.31,"W":-0.24,"H":-0.06,"T":0.11,"E":0.12,"Q":0.19,"C":0.22,"Y":0.23,"A":0.33,"S":0.33,"N":0.43,"D":0.5,"R":1.14,"G":1.61,"K":2.41}'),u=JSON.parse('{"I":6.04,"L":6.04,"F":5.91,"V":6.02,"M":5.74,"P":6.3,"W":5.88,"H":7.64,"T":5.6,"E":3.08,"Q":5.65,"C":5.02,"Y":5.63,"A":6.11,"S":5.68,"N":5.41,"D":2.87,"R":10.76,"G":6.06,"K":9.47}');var f,d,p,g,v=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},m=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},y=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},w=new Map([["hydrophobicity-interface-scale",l],["hydrophobicity-octanol-scale",c],["hydrophobicity-scale",h],["isoelectric-point-scale",u]]),x={domain:[-2,2],range:["#ffdd00","#0000FF"]},b=class extends o.Z{constructor(){super(...arguments),this.scale=void 0,this["color-range"]=void 0,f.set(this,""),d.set(this,void 0),p.set(this,void 0),g.set(this,void 0),this.colorScale=x}createSequence(){var t,e,n,r,i;super.createSequence(),m(this,f,Math.random().toString(36).substring(7),"f"),null===(t=this.svg)||void 0===t||t.select("g.sequence").attr("transform",null),m(this,d,null===(e=this.svg)||void 0===e?void 0:e.append("defs").append("linearGradient").attr("id","scale-gradient-"+y(this,f,"f")),"f"),null===(n=this.svg)||void 0===n||n.append("rect").attr("class","seq-gradient").style("pointer-events","none"),null===(r=this.svg)||void 0===r||r.selectAll("g.margin").remove(),this.margins=null===(i=this.svg)||void 0===i?void 0:i.append("g").attr("class","margin")}getScaleFromAttribute(){var t=null,e=this.scale||"";if(w.has(e))return w.get(e);if(/([ILFVMPWHTEQCYASNDRGK]:-?\d+\.?\d*)(,[ILFVMPWHTEQCYASNDRGK]:-?\d+\.?\d*)*/.test(e))try{t=function(t,e){if(void 0===t&&(t=null),null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");var{keyFormatter:n,valueFormatter:r}=Object.assign({keyFormatter:s,valueFormatter:s},e);if(t&&""!==t.trim()){var i=t.split(",").map((t=>t.split(":"))),o={};return i.forEach((t=>{if(2!==t.length)throw new Error("Bad block: "+t.join(":")+"\n The blocks of the string should follow the format KEY:VALUE");o[n(t[0])]=r(t[1])})),o}return{}}(e,{keyFormatter:t=>t.toUpperCase(),valueFormatter:t=>parseFloat(t)})}catch(t){console.error("Couldn't parse the given scale \""+e+'"',t)}return t}renderD3(){var t,e,n,r,o,s,l;if(this.seq_g){null===(t=this.svg)||void 0===t||t.attr("width",this.width).attr("height",this.height),this.seq_g.attr("width",this.width);var c=this.getScaleFromAttribute();if(null===c)return void console.error("The attribute scale is not valid.");var h=(0,i.BY)();this["color-range"]&&(this.colorScale=function(t){void 0===t&&(t=null);var e=[],n=[];if(null!==t&&"string"!=typeof t)throw new Error("The attribute text has to be of type string");if(t&&""!==t.trim()){var r=t.split(",").map((t=>t.split(":")));if(r.length<2)throw new Error("There should be at least 2 points to create a scale");e=r.map((t=>{var e=t[0].trim().toUpperCase();if(!function(t){var e=document.createElement("div");return e.style.borderColor="",e.style.borderColor=t,""!==e.style.borderColor}(e))throw new Error("The color '"+e+" is not valid'");return e})),n=r.map(((t,e)=>{var n=parseFloat(t[1]);if(Number.isNaN(n))throw new Error("The second part of every point should be a number. Error in point "+e+": "+t);return n}))}return{range:e,domain:n}}(this["color-range"])),h.domain(this.colorScale.domain).range(this.colorScale.range);var u=this.getSingleBaseWidth(),p=Math.round(Math.max(0,this.getStart()-2)),v=Math.round(Math.min((null===(e=this.sequence)||void 0===e?void 0:e.length)||0,this.getEnd()+1)),w=(null===(n=this.sequence)||void 0===n?void 0:n.slice(p,v).split("").map(((t,e)=>{var n=c&&t.toUpperCase()in c?c[t.toUpperCase()]:0;return{start:1+p+e,end:1+p+e,aa:t,value:n,color:h(n)}})))||[];m(this,g,this.seq_g.selectAll("rect.base_bg").data(u<8?[]:w,(t=>t.start)),"f"),y(this,g,"f").enter().append("rect").attr("class","base_bg feature").attr("data-base",(t=>{var{aa:e}=t;return e})).attr("data-pos",(t=>{var{start:e}=t;return e})).attr("height",this.height).merge(y(this,g,"f")).attr("width",u).attr("fill",(t=>{var{color:e}=t;return e})).attr("x",(t=>{var{start:e}=t;return this.getXFromSeqPosition(e)})).call(a.sQ,this),y(this,g,"f").exit().remove();var x=null===(r=y(this,d,"f"))||void 0===r?void 0:r.selectAll("stop").data((this.sequence||"").split(""));x&&x.enter().append("stop").merge(x).attr("offset",((t,e)=>{var n;return(e+.5)/((null===(n=this.sequence)||void 0===n?void 0:n.length)||1)})).attr("stop-color",(t=>h(c&&t.toUpperCase()in c?c[t.toUpperCase()]:0))),null===(o=y(this,d,"f"))||void 0===o||o.exit().remove(),null===(s=this.svg)||void 0===s||s.select("rect.seq-gradient").attr("x",this.getXFromSeqPosition(1)).attr("y",0).attr("height",this.height).attr("width",Math.max(0,this.getXFromSeqPosition((null===(l=this.sequence)||void 0===l?void 0:l.length)||0)-this.getXFromSeqPosition(0))).style("opacity",u<8?1:8/u).attr("fill","url(#scale-gradient-"+y(this,f,"f")+")"),this.updateHighlight(),this.renderMarginOnGroup(this.margins)}}};f=new WeakMap,d=new WeakMap,p=new WeakMap,g=new WeakMap,v([(0,r.Cb)({type:String,reflect:!0})],b.prototype,"scale",void 0),v([(0,r.Cb)({type:String,reflect:!0})],b.prototype,"color-range",void 0);const _=b=v([(0,r.Mo)("nightingale-colored-sequence")],b)},97178:(t,e,n)=>{"use strict";n.d(e,{Z:()=>X}),n(752),n(76265),n(51090);var r=n(77601),i=n(10134);function o(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function a(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}n(86111);var s=n(80767),l=n(89040),c=n(3950);function h(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function u(t){return function(){return t}}function f(t){this._context=t}function d(t){return new f(t)}Array.prototype.slice,f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var p=n(79906);function g(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new p.y$(e)}function v(t){return t[0]}function m(t){return t[1]}function y(t,e){var n=u(!0),r=null,i=d,o=null,a=g(s);function s(s){var l,c,u,f=(s=h(s)).length,d=!1;for(null==r&&(o=i(u=a())),l=0;l<=f;++l)!(l<f&&n(c=s[l],l,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(c,l,s),+e(c,l,s));if(u)return o=null,u+""||null}return t="function"==typeof t?t:void 0===t?v:u(t),e="function"==typeof e?e:void 0===e?m:u(e),s.x=function(e){return arguments.length?(t="function"==typeof e?e:u(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:u(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:u(!!t),s):n},s.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),s):i},s.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),s):r},s}function w(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function x(t){this._context=t}function b(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function _(t,e){this._context=t,this._k=(1-e)/6}x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:w(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:w(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:b(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:b(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const E=function t(e){function n(t){return new _(t,e)}return n.tension=function(e){return t(+e)},n}(0);function S(){}function C(t){this._context=t}function T(t){return t<0?-1:1}function M(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(T(o)+T(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function A(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function P(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function N(t){this._context=t}function R(t){this._context=new k(t)}function k(t){this._context=t}function D(t){this._context=t}function U(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function L(t,e){this._context=t,this._t=e}C.prototype={areaStart:S,areaEnd:S,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:P(this,this._t0,A(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,P(this,A(this,n=M(this,t,e)),n);break;default:P(this,this._t0,n=M(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(R.prototype=Object.create(N.prototype)).point=function(t,e){N.prototype.point.call(this,e,t)},k.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=U(t),i=U(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},n(48903),n(58457);var F,O,I,q,j,B,H,W,V=n(77062),$=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},z=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},G=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},Y={curveLinear:d,curveLinearClosed:function(t){return new C(t)},curveMonotoneX:function(t){return new N(t)},curveMonotoneY:function(t){return new R(t)},curveBasis:function(t){return new x(t)},curveCardinal:E,curveStep:function(t){return new L(t,.5)},curveStepAfter:function(t){return new L(t,1)},curveStepBefore:function(t){return new L(t,0)},curveNatural:function(t){return new D(t)}},Z=class extends((0,V.YD)((0,V._5)((0,V.tG)((0,V.vl)((0,V.Ds)((0,V.U6)((0,V.Rn)(V.ZP)))))))){constructor(){super(),O.set(this,void 0),I.set(this,void 0),q.set(this,void 0),j.set(this,void 0),B.set(this,void 0),H.set(this,void 0),W.set(this,void 0),this.yScale=(0,s.BY)()}connectedCallback(){super.connectedCallback(),z(this,j,"f")&&this.createTrack()}set data(t){G(this,j,t,"f"),this.createTrack()}get data(){return z(this,j,"f")}createTrack(){var t;if(z(this,j,"f")&&(null===(t=this.svg)||void 0===t||t.selectAll("g").remove(),this.svg=(0,c.Ys)(this).selectAll("svg").attr("width",this.width).attr("height",this.height),this.svg)){G(this,O,this.svg.append("g").attr("class","highlighted"),"f"),G(this,I,this.svg.append("g").attr("class","margin"),"f");var e=[],n=[],r=[];z(this,j,"f").forEach((t=>{e.push(...t.range),n.push(a(t.values,(t=>t.position))||1/0),r.push(o(t.values,(t=>t.position))||-1/0)})),G(this,B,a(e)||0,"f"),G(this,H,o(e)||0,"f");var i=a(n)||0,s=o(r)||this.length||0,h=this.svg.append("g").attr("class","chart-group");this._initYScale(),G(this,q,h.selectAll(".chart").data(z(this,j,"f")).enter().append("g").attr("class","chart"),"f"),z(this,q,"f").append("path").attr("class","graph").attr("id",(t=>t.name)).attr("d",(t=>(t.color=t.color||(0,l.IC)(Math.random()),t.fill=t.fill||"none",this.drawLine(t)(t.values)))).attr("fill",(t=>t.fill||null)).attr("stroke",(t=>t.color||null)).attr("transform","translate(0,0)");var u=h.append("g").attr("class","mouse-over-effects"),f=h.selectAll("path.graph"),d=u.selectAll(".mouse-per-line").data(z(this,j,"f")).enter().append("g").attr("class","mouse-per-line");d.append("circle").attr("r",7).style("stroke",(t=>t.color||null)).style("fill","none").style("stroke-width","1px").style("opacity","0"),d.append("text").attr("transform","translate(10,3)").attr("pointer-events","none"),G(this,W,u.append("rect").attr("width",this.width).attr("height",this.height).attr("fill","none").attr("pointer-events","all").on("mouseout",(()=>{h.selectAll(".mouse-per-line circle").style("opacity","0"),h.selectAll(".mouse-per-line text").style("opacity","0")})).on("mousemove",(t=>{var e,n,r,o=(0,c.cx)(t);if(o[0]<((null===(e=this.xScale)||void 0===e?void 0:e.call(this,i))||0)+this["margin-left"]||o[0]>((null===(n=this.xScale)||void 0===n?void 0:n.call(this,s))||0)+this.getSingleBaseWidth()+this["margin-left"])h.selectAll(".mouse-per-line circle").style("opacity","0"),h.selectAll(".mouse-per-line text").style("opacity","0");else{var a={},l=Math.floor((null===(r=this.xScale)||void 0===r?void 0:r.invert(o[0]-this["margin-left"]))||0);h.selectAll(".mouse-per-line circle").style("opacity",(t=>{var e=t.values.find((t=>t.position===l));return e&&e.value?"1":"0"})),h.selectAll(".mouse-per-line text").style("opacity","1"),h.selectAll(".mouse-per-line text").text((t=>{var e=t.values.find((t=>t.position===l));return a[t.name]=e,e?e.value:""})),h.selectAll(".mouse-per-line").attr("transform",((t,e)=>{for(var n,r=0,i=f.nodes()[e].getTotalLength();;){var a=Math.floor((r+i)/2);if(n=f.nodes()[e].getPointAtLength(a),(a===i||a===r)&&n.x!==o[0])break;if(n.x>o[0])i=a;else{if(!(n.x<o[0]))break;r=a}}return"translate("+o[0]+","+((null==n?void 0:n.y)||0)+")"}));var u={eventtype:"mouseover",feature:a,highlight:l+":"+l,type:this.type,target:this};this.dispatchEvent(new CustomEvent("change",{detail:u,bubbles:!0,cancelable:!0}))}})),"f")}}refresh(){var t;z(this,q,"f")&&(z(this,q,"f").selectAll("path.graph").attr("d",(t=>this.drawLine(t)(t.values))),null===(t=this.svg)||void 0===t||t.attr("width",this.width),this.updateHighlight(),this.renderMarginOnGroup(z(this,I,"f")))}onDimensionsChange(){var t;super.onDimensionsChange(),null===(t=z(this,W,"f"))||void 0===t||t.attr("width",this.width).attr("height",this.height)}_initYScale(){var t;null===(t=this.yScale)||void 0===t||t.domain([z(this,B,"f")||0,z(this,H,"f")||0]).range([this.height,0])}drawLine(t){var e,n=t.lineCurve||"curveLinear";return e="none"!==t.fill?function(t,e,n){var r=null,i=u(!0),o=null,a=d,s=null,l=g(c);function c(c){var u,f,d,p,g,v=(c=h(c)).length,m=!1,y=new Array(v),w=new Array(v);for(null==o&&(s=a(g=l())),u=0;u<=v;++u){if(!(u<v&&i(p=c[u],u,c))===m)if(m=!m)f=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),d=u-1;d>=f;--d)s.point(y[d],w[d]);s.lineEnd(),s.areaEnd()}m&&(y[u]=+t(p,u,c),w[u]=+e(p,u,c),s.point(r?+r(p,u,c):y[u],n?+n(p,u,c):w[u]))}if(g)return s=null,g+""||null}function f(){return y().defined(i).curve(a).context(o)}return t="function"==typeof t?t:void 0===t?v:u(+t),e="function"==typeof e?e:u(void 0===e?0:+e),n="function"==typeof n?n:void 0===n?m:u(+n),c.x=function(e){return arguments.length?(t="function"==typeof e?e:u(+e),r=null,c):t},c.x0=function(e){return arguments.length?(t="function"==typeof e?e:u(+e),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:u(+t),c):r},c.y=function(t){return arguments.length?(e="function"==typeof t?t:u(+t),n=null,c):e},c.y0=function(t){return arguments.length?(e="function"==typeof t?t:u(+t),c):e},c.y1=function(t){return arguments.length?(n=null==t?null:"function"==typeof t?t:u(+t),c):n},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(n)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:u(!!t),c):i},c.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),c):a},c.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),c):o},c}().y1((t=>{var e;return(null===(e=this.yScale)||void 0===e?void 0:e.call(this,t.value))||0})).y0((()=>{var t;return(null===(t=this.yScale)||void 0===t?void 0:t.call(this,0))||0})):y().y((t=>{var e;return(null===(e=this.yScale)||void 0===e?void 0:e.call(this,t.value))||0})),e.defined((t=>null!==t.value)).x(((t,e,n)=>{var r,i,o=this.getSingleBaseWidth()/2;return 0===e||null===(null===(r=n[e-1])||void 0===r?void 0:r.value)?o=this.getSingleBaseWidth():e+1!==n.length&&null!==(null===(i=n[e+1])||void 0===i?void 0:i.value)||(o=0),this.getXFromSeqPosition(t.position+1)-o})).curve(Y[n]||d)}updateHighlight(){if(z(this,O,"f")){var t=z(this,O,"f").selectAll("rect").data(this.highlightedRegion.segments);t.enter().append("rect").style("pointer-events","none").merge(t).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(t=>this.getXFromSeqPosition(t.start))).attr("width",(t=>this.getSingleBaseWidth()*(t.end-t.start+1))),t.exit().remove()}}zoomRefreshed(){this.refresh()}firstUpdated(){this.createTrack()}render(){return(0,i.dy)(F||(t=['<svg class="container"></svg>'],e||(e=t.slice(0)),t.raw=e,F=t));var t,e}};O=new WeakMap,I=new WeakMap,q=new WeakMap,j=new WeakMap,B=new WeakMap,H=new WeakMap,W=new WeakMap,$([(0,r.Cb)({type:String})],Z.prototype,"type",void 0);const X=Z=$([(0,r.Mo)("nightingale-linegraph-track")],Z)},56387:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l}),n(752),n(76265),n(76801),n(43843);var r,i=n(77601),o=n(77062),a=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},s=r=class extends o.ZP{constructor(){super(...arguments),this["reflected-attributes"]=new Map,this.protvistaElements=new Set,this.propertyValues=new Map}connectedCallback(){super.connectedCallback(),this.addEventListener("change",this.changeListener),this.style.display="unset"}attributeChangedCallback(t,e,n){super.attributeChangedCallback(t,e,n),this.applyAttributes()}applyAttributes(){this.protvistaElements.forEach((t=>{var e;null===(e=this["reflected-attributes"])||void 0===e||e.forEach(((e,n)=>{!1===e||null==e?t.removeAttribute(n):t.setAttribute(n,"boolean"==typeof e?"":e)})),this.length&&t.setAttribute("length",""+this.length),this["display-end"]&&t.setAttribute("display-end",""+this["display-end"]),this["display-start"]&&t.setAttribute("display-start",""+this["display-start"]),this.highlight&&t.setAttribute("highlight",this.highlight)}))}register(t){this.protvistaElements.add(t),this.applyAttributes()}unregister(t){this.protvistaElements.delete(t)}applyProperties(t){if(t){var e=this.querySelector("#"+t);if(!e)return;this.propertyValues.forEach(((t,n)=>{e[n]=t}))}else this.protvistaElements.forEach((t=>{t&&this.propertyValues.forEach(((e,n)=>{t[n]=e}))}))}isRegisteredAttribute(t){return!!this["reflected-attributes"]&&([...this["reflected-attributes"].keys()].includes(t)||r.observedAttributes.includes(t))}changeListener(t){var e;t.detail&&("property"===t.detail.handler?(this.propertyValues.set(t.detail.type,t.detail.value),this.applyProperties(t.detail.for)):(this.isRegisteredAttribute(t.detail.type)&&(null===(e=this["reflected-attributes"])||void 0===e||e.set(t.detail.type,t.detail.value)),Object.keys(t.detail).forEach((e=>{var n;this.isRegisteredAttribute(e)&&(null===(n=this["reflected-attributes"])||void 0===n||n.set(e,t.detail[e]))})),this.applyAttributes()))}};a([(0,i.Cb)({converter:{fromAttribute:t=>{if(!t)return null;var e=t.split(",");if(-1!==e.indexOf("type"))throw new Error("'type' can't be used as a protvista attribute");if(-1!==e.indexOf("value"))throw new Error("'value' can't be used as a protvista attribute");return new Map(e.filter((t=>!s.observedAttributes.includes(t))).map((t=>[t,null])))},toAttribute:t=>t.join(",")}})],s.prototype,"reflected-attributes",void 0),a([(0,i.Cb)({type:Number})],s.prototype,"length",void 0),a([(0,i.Cb)({type:Number})],s.prototype,"display-start",void 0),a([(0,i.Cb)({type:Number})],s.prototype,"display-end",void 0),a([(0,i.Cb)({type:String})],s.prototype,"highlight",void 0),a([(0,i.SB)()],s.prototype,"protvistaElements",void 0),a([(0,i.SB)()],s.prototype,"propertyValues",void 0);const l=s=r=a([(0,i.Mo)("nightingale-manager")],s)},54552:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A}),n(752),n(51090),n(76265);var r,i,o,a,s,l,c,h,u,f,d,p,g,v,m=n(10134),y=n(77601),w=n(8873),x=n(86111),b=n(80767),_=n(3950),E=(n(48903),n(58457),n(77062)),S=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},C=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},T=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},M=class extends((0,E.YD)((0,E.tG)((0,E.vl)((0,E.Ds)((0,E.U6)((0,E.Rn)(E.ZP))))))){constructor(){super(),i.set(this,void 0),o.set(this,void 0),a.set(this,void 0),s.set(this,void 0),l.set(this,void 0),c.set(this,void 0),h.set(this,void 0),u.set(this,void 0),f.set(this,void 0),d.set(this,void 0),p.set(this,void 0),g.set(this,void 0),v.set(this,null),this["ruler-start"]=1,this["ruler-padding"]=10,this["scale-factor"]=(this.length||0)/5||10,this["show-highlight"]=!1,C(this,i,null,"f"),C(this,o,!1,"f")}createNavRuler(){var t=this.width-this["margin-right"]-this["ruler-padding"];C(this,i,(0,b.BY)().range([this["margin-left"]+this["ruler-padding"],t]).domain([this["ruler-start"],this["ruler-start"]+(this.length||1)]),"f"),C(this,a,(0,_.Ys)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),"f"),C(this,f,(0,w.LL)(T(this,i,"f")),"f"),C(this,s,T(this,a,"f").append("text").attr("class","start-label").attr("x",this["margin-left"]).attr("y",this.height-this["margin-bottom"]-2).style("font-family","sans-serif").style("font-size",12),"f"),C(this,l,T(this,a,"f").append("text").attr("class","end-label").attr("x",this.width-this["margin-right"]).attr("y",this.height-this["margin-bottom"]-2).attr("text-anchor","end").style("font-family","sans-serif").style("font-size",12),"f"),C(this,c,T(this,a,"f").append("g").attr("class","x axis").call(T(this,f,"f")),"f"),C(this,d,(0,x.Yu)().extent([[this["margin-left"]+this["ruler-padding"],0],[t,.5*this.height+3]]).handleSize(6).on("end",(t=>{var{selection:e}=t;null===e&&T(this,v,"f")&&T(this,h,"f")&&T(this,d,"f")&&T(this,h,"f").call(T(this,d,"f").move,T(this,v,"f"))})).on("brush",(t=>{var{selection:e,transform:n}=t;e&&T(this,i,"f")&&(C(this,v,e,"f"),this["display-start"]=Math.round(100*T(this,i,"f").invert(e[0]))/100,this["display-end"]=Math.round(100*T(this,i,"f").invert(e[1]))/100,T(this,o,"f")||this.dispatchEvent(new CustomEvent("change",{detail:{"display-end":this["display-end"],"display-start":this["display-start"],extra:{transform:n}},bubbles:!0,cancelable:!0})),this.updateLabels(),this.updatePolygon())})),"f"),C(this,h,T(this,a,"f").append("g").attr("class","brush"),"f"),t>0&&(T(this,h,"f").call(T(this,d,"f")),T(this,h,"f").call(T(this,d,"f").move,[T(this,i,"f").call(this,this.getStart()),T(this,i,"f").call(this,this.getEnd())])),C(this,u,T(this,a,"f").append("polygon").attr("class","zoom-polygon").attr("fill","#777").attr("fill-opacity","0.3"),"f"),C(this,g,T(this,a,"f").append("g").attr("class","margin"),"f"),this.createHighlight(),this.renderD3()}createHighlight(){T(this,a,"f")&&(C(this,p,T(this,a,"f").append("g").attr("class","highlighted"),"f"),this.updateHighlight())}onDimensionsChange(){var t,e,n,r;T(this,i,"f")&&(T(this,i,"f").range([this["margin-left"]+this["ruler-padding"],this.width-this["margin-right"]-this["ruler-padding"]]),null===(t=T(this,a,"f"))||void 0===t||t.attr("width",this.width),null===(e=T(this,a,"f"))||void 0===e||e.attr("height",this.height),null===(n=T(this,d,"f"))||void 0===n||n.extent([[this["margin-left"]+this["ruler-padding"],0],[this.width-this["margin-right"]-this["ruler-padding"],.5*this.height+3]]),T(this,d,"f")&&(null===(r=T(this,h,"f"))||void 0===r||r.call(T(this,d,"f"))))}render(){return(0,m.dy)(r||(t=['<svg class="container"></svg>'],e||(e=t.slice(0)),t.raw=e,r=t));var t,e}updated(t){this.renderD3(),super.updated(t)}firstUpdated(){this.createNavRuler()}renderD3(){if(T(this,i,"f")&&T(this,c,"f")&&T(this,f,"f")&&T(this,d,"f")){T(this,i,"f").domain([this["ruler-start"],this["ruler-start"]+(this.length||1)-1]),T(this,c,"f").call(T(this,f,"f")),this.updatePolygon(),this.updateLabels();var t=[T(this,i,"f").call(this,this.getStart()),T(this,i,"f").call(this,this.getEnd())];T(this,h,"f")&&t[0]>=0&&t[1]>=0&&(C(this,o,!0,"f"),T(this,h,"f").call(T(this,d,"f").move,t),C(this,o,!1,"f")),this.updateHighlight(),this.renderMarginOnGroup(T(this,g,"f"))}}locate(t,e){T(this,h,"f")&&T(this,d,"f")&&T(this,i,"f")&&T(this,h,"f").call(T(this,d,"f").move,[T(this,i,"f").call(this,t),T(this,i,"f").call(this,e)])}zoomOut(){this.locate(Math.max(this["ruler-start"]||1,this.getStart()-this["scale-factor"]),Math.min((this.length||1)+this["ruler-start"]-1,this.getEnd()+this["scale-factor"]))}zoomIn(){var t=Math.min(this.getStart()+this["scale-factor"],this.getEnd()-1);this.locate(t,Math.max(this.getEnd()-this["scale-factor"],t+1))}updateHighlight(){if(T(this,p,"f")){var t=(0,b.BY)().domain([this["display-start"]||1,(this["display-end"]||this.length||1)+1]).range([this["margin-left"],this.width-this["margin-right"]]),e=(0,b.BY)().domain([this["ruler-start"],this["ruler-start"]+(this.length||1)]).range([this["margin-left"]+this["ruler-padding"],this.width-this["margin-right"]-this["ruler-padding"]]),n=T(this,p,"f").selectAll("polygon").data(this["show-highlight"]?this.highlightedRegion.segments:[]);n.enter().append("polygon").attr("class","highlight-polygon").style("pointer-events","none").merge(n).attr("fill",this["highlight-color"]).attr("points",(n=>{var r=Math.max(1,n.start),i=Math.min(this.length||1,n.end)+1;return e(r)+","+this.height/2+"\n        "+e(i)+","+this.height/2+"\n        "+t(i)+","+this.height+"\n        "+t(r)+","+this.height})),n.exit().remove();var r=T(this,p,"f").selectAll("rect").data(this["show-highlight"]?this.highlightedRegion.segments:[]);r.enter().append("rect").attr("class","highlight-rectangle").style("pointer-events","none").merge(r).attr("fill",this["highlight-color"]).attr("x",(t=>e(Math.max(1,t.start)))).attr("width",(t=>e(Math.min(this.length||1,t.end)+1)-e(Math.max(1,t.start)))).attr("y",this["margin-top"]).attr("height",this.height/2),r.exit().remove()}}updateLabels(){T(this,s,"f")&&T(this,s,"f").attr("x",this["margin-left"]).text(Math.round(this.getStart())),T(this,l,"f")&&T(this,l,"f").attr("x",this.width-this["margin-right"]).text(Math.round(this.getEnd()))}updatePolygon(){T(this,u,"f")&&T(this,i,"f")&&T(this,u,"f").attr("points",T(this,i,"f").call(this,this.getStart())+","+this.height/2+"\n        "+T(this,i,"f").call(this,this.getEnd())+","+this.height/2+"\n        "+(this.width-this["margin-right"])+","+this.height+"\n        "+this["margin-left"]+","+this.height)}getStart(){return this["display-start"]||1}getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||1}};i=new WeakMap,o=new WeakMap,a=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,h=new WeakMap,u=new WeakMap,f=new WeakMap,d=new WeakMap,p=new WeakMap,g=new WeakMap,v=new WeakMap,S([(0,y.Cb)({type:Number})],M.prototype,"ruler-start",void 0),S([(0,y.Cb)({type:Number})],M.prototype,"ruler-padding",void 0),S([(0,y.Cb)({type:Number})],M.prototype,"scale-factor",void 0),S([(0,y.Cb)({type:Boolean})],M.prototype,"show-highlight",void 0);const A=M=S([(0,y.Mo)("nightingale-navigation")],M)},25553:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p}),n(73964),n(36409),n(64043),n(57267),n(76801);var r,i,o=n(10134),a=n(77601),s=n(18151),l=n(77062);function c(t,e){return e||(e=t.slice(0)),t.raw=e,t}var h=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},u=["png","jpeg","bmp","tiff","gif"],f=class extends l.ZP{constructor(){super(),this.elementId="",this.fillColor="transparent",this.fileName="nightingale.snapshot",this.fileFormat="png",this.extraWidth=0,this.extraHeight=0,this.scaleFactor=1,this.preview=!1,this.preSave=void 0,this.postSave=void 0,this.saveSvg=this.saveSvg.bind(this)}saveSvg(){var t,e=document.querySelector("#"+this.elementId);if(!e)throw new Error("The 'element-id' attribute is not related with a current DOM element");e.style.display="block","function"==typeof this.preSave&&this.preSave(),null===(t=e.querySelector("canvas.preview"))||void 0===t||t.remove();var{width:n,height:r}=e.getBoundingClientRect(),i=this.scaleFactor||1,o=i*(n+this.extraWidth),a=i*(r+this.extraHeight),l=document.createElement("canvas");if(l.className="preview",l.setAttribute("width",o+"px"),l.setAttribute("height",a+"px"),this.fillColor){var c=l.getContext("2d");c&&(c.fillStyle=this.fillColor,c.fillRect(0,0,o,a))}this.preview&&e.appendChild(l),s.drawHTML(d(e.outerHTML),l,{zoom:i}).then((()=>{var t=l.toDataURL("image/"+this.fileFormat,1).replace("image/"+this.fileFormat,"image/octet-stream");if(!this.preview){var e=document.createElement("a");e.download=this.fileName+"."+this.fileFormat,e.href=t,document.body.appendChild(e),e.click()}})).catch((t=>{throw console.error(t),new Error("Couldn't generate the snapshot for the element '"+this.elementId+"'")})).finally((()=>{e.style.display="","function"==typeof this.postSave&&this.postSave()}))}render(){var t;if(this.hasChildNodes()){var e=this.firstElementChild;"BUTTON"===(null==e?void 0:e.tagName)?(e.addEventListener("click",this.saveSvg),t=(0,o.dy)(r||(r=c([" "," "])),e)):console.error("Only Buttons are accepted as children")}else t=(0,o.dy)(i||(i=c(['\n        <button\n          style="background-color: #1878ba; color: white; cursor: pointer; display: inline-block;padding: 0.5rem 0.5rem; border-radius: 4px; margin-bottom: 5px;"\n          @click=',"\n        >\n          Download\n        </button>\n      "])),this.saveSvg);return t}};h([(0,a.Cb)({type:String,attribute:"element-id"})],f.prototype,"elementId",void 0),h([(0,a.Cb)({type:String,attribute:"background-color"})],f.prototype,"fillColor",void 0),h([(0,a.Cb)({type:String,attribute:"file-name"})],f.prototype,"fileName",void 0),h([(0,a.Cb)({type:String,attribute:"file-format",converter:t=>u.includes(t||"")?t:"png"})],f.prototype,"fileFormat",void 0),h([(0,a.Cb)({type:Number,attribute:"extra-width"})],f.prototype,"extraWidth",void 0),h([(0,a.Cb)({type:Number,attribute:"extra-height"})],f.prototype,"extraHeight",void 0),h([(0,a.Cb)({type:Number,attribute:"scale-factor"})],f.prototype,"scaleFactor",void 0),h([(0,a.Cb)({type:Boolean})],f.prototype,"preview",void 0),f=h([(0,a.Mo)("nightingale-saver")],f);var d=t=>"\n<html>\n  <head>\n    <style>\n      html, body {\n        padding: 0;\n        margin: 0;\n      }\n    </style>\n  </head>\n  <body>"+t+"</body>\n</html>\n";const p=f},8189:(t,e,n)=>{"use strict";n.d(e,{Z:()=>v}),n(752),n(76265),n(32320),n(51090);var r,i,o,a,s=n(10134),l=n(77601),c=n(8873),h=(n(86111),n(3950)),u=(n(48903),n(58457),n(77062)),f=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},d=function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n},p=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},g=class extends((0,u.YD)((0,u._5)((0,u.tG)((0,u.vl)((0,u.Ds)((0,u.U6)((0,u.Rn)(u.ZP)))))))){constructor(){super(...arguments),i.set(this,void 0),o.set(this,void 0),a.set(this,void 0)}connectedCallback(){super.connectedCallback();var t=parseInt(this.getAttribute("numberofticks")||"",10);this.numberOfTicks=Number.isInteger(t)?t:3,this.addEventListener("load",(t=>{this.data=t.detail.payload}))}get data(){return this.sequence||""}set data(t){"string"==typeof t?this.sequence=t:"string"==typeof(null==t?void 0:t.sequence)&&(this.sequence=t.sequence),this.svg&&(this.updateScaleDomain(),this.applyZoomTranslation())}getCharSize(){var t,e;if(this.seq_g){var n=this.seq_g.select("text.base").node();if(n)this.chWidth=.8*n.getBBox().width,this.chHeight=1.6*n.getBBox().height;else{var r=this.seq_g.append("text").attr("class","base").text("T");this.chWidth=.8*((null===(t=r.node())||void 0===t?void 0:t.getBBox().width)||0),this.chHeight=1.6*((null===(e=r.node())||void 0===e?void 0:e.getBBox().height)||0),r.remove()}}}createSequence(){var t,e,n;this.svg=(0,h.Ys)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),d(this,i,null===(t=this.svg)||void 0===t?void 0:t.append("g").attr("class","background"),"f"),d(this,o,null===(e=this.svg)||void 0===e?void 0:e.append("g").attr("class","x axis"),"f"),this.seq_g=null===(n=this.svg)||void 0===n?void 0:n.append("g").attr("class","sequence").attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),this.highlighted=this.svg.append("g").attr("class","highlighted"),this.margins=this.svg.append("g").attr("class","margin"),this.sequence&&(this.updateScaleDomain(),this.applyZoomTranslation())}firstUpdated(){this.createSequence()}zoomRefreshed(){this.renderD3()}renderD3(){var t,e,n;if(this.getCharSize(),null===(t=this.svg)||void 0===t||t.attr("width",this.width).attr("height",this.height),p(this,o,"f")){var r=this.getSingleBaseWidth(),s=r-(this.chWidth||0),l=r/2,h=Math.floor(Math.max(0,this.getStart()-1)),f=Math.ceil(Math.min((null===(e=this.sequence)||void 0===e?void 0:e.length)||0,this.getEnd())),g=s<0?[]:(null===(n=this.sequence)||void 0===n?void 0:n.slice(h,f).split("").map(((t,e)=>({position:1+h+e,aa:t}))))||[];if(this.height>(this.chWidth||0)&&this.xScale){var v=(0,c.LL)(this.xScale).tickFormat((t=>""+(Number.isInteger(t)?t:""))).ticks(this.numberOfTicks,"s");p(this,o,"f").call(v)}p(this,o,"f").attr("transform","translate("+(this["margin-left"]+l)+","+this["margin-top"]+")"),p(this,o,"f").select(".domain").remove(),p(this,o,"f").selectAll(".tick line").remove(),p(this,o,"f").selectAll(".tick text").attr("y",2);var m=Math.max(10,this.chWidth||10,Math.min(this["margin-top"]+.25*this.getHeightWithMargins(),r-2));if(p(this,o,"f").selectAll(".tick text").attr("font-size",m),this.seq_g){this.seq_g.attr("transform","translate(0,"+(this["margin-top"]+.75*this.getHeightWithMargins())+")"),d(this,a,this.seq_g.selectAll("text.base"),"f");var y=p(this,a,"f").data(g,(t=>t.position));if(y.enter().append("text").attr("class","base").attr("text-anchor","middle").attr("x",(t=>this.getXFromSeqPosition(t.position)+l)).text((t=>t.aa)).attr("font-size",m).style("pointer-events","none").style("font-family","monospace"),y.exit().remove(),y.attr("font-size",m).attr("x",(t=>this.getXFromSeqPosition(t.position)+l)),p(this,i,"f")){var w=p(this,i,"f").selectAll("rect.base_bg").data(g,(t=>t.position));w.enter().append("rect").attr("class","base_bg feature").attr("height",this.getHeightWithMargins()).attr("width",r).attr("fill",(t=>Math.round(t.position)%2?"#ccc":"#eee")).attr("x",(t=>this.getXFromSeqPosition(t.position))).attr("y",this["margin-top"]).style("opacity",Math.min(1,s)).call(u.sQ,this),w.attr("width",r).attr("fill",(t=>Math.round(t.position)%2?"#ccc":"#eee")).attr("height",this.getHeightWithMargins()).attr("x",(t=>this.getXFromSeqPosition(t.position))).attr("y",this["margin-top"]),w.exit().remove(),this.seq_g.style("opacity",Math.min(1,s)),w.style("opacity",Math.min(1,s))}}this.updateHighlight(),this.renderMarginOnGroup(this.margins)}}getStart(){return this["display-start"]||1}getEnd(){return((this["display-end"]||0)>0?this["display-end"]:this.length)||0}updateHighlight(){if(this.highlighted){var t=this.highlighted.selectAll("rect").data(this.highlightedRegion.segments);t.enter().append("rect").style("pointer-events","none").merge(t).attr("fill",this["highlight-color"]).attr("height",this.height).attr("x",(t=>this.getXFromSeqPosition(t.start))).attr("width",(t=>Math.max(0,this.getSingleBaseWidth()*(t.end-t.start+1)))),t.exit().remove()}}render(){return(0,s.dy)(r||(t=['<svg class="container"></svg>'],e||(e=t.slice(0)),t.raw=e,r=t));var t,e}};i=new WeakMap,o=new WeakMap,a=new WeakMap,f([(0,l.Cb)({type:String})],g.prototype,"sequence",void 0);const v=g=f([(0,u.y_)("nightingale-sequence")],g)},30841:(t,e,n)=>{"use strict";n.d(e,{Z:()=>S}),n(752),n(51090),n(76265);var r=n(10134),i=n(77601),o=n(77062),a=n(8873),s=(n(86111),n(80767)),l=n(3950);n(48903),n(58457);const c=class{constructor(){this._frequency=(0,s.vY)().exponent(.001).domain([0,1]).range([5,10]),this.drawVariationPlot=this.drawVariationPlot.bind(this)}drawVariationPlot(t,e){var n=e.getSingleBaseWidth()/2;t.each(((t,r,i)=>{var a=(0,l.Ys)(i[r]),s=t.filter((t=>0!==t.variants.length)),c=a.selectAll("g").data(s,(t=>t.pos));c.exit().remove();var h=c.enter().append("g").merge(c).selectAll("circle").data((t=>t.variants));h.exit().remove(),h.enter().append("circle").merge(h).attr("class","feature").attr("title",(t=>t.start)).attr("r",(t=>t.size?t.size:5)).attr("cx",(t=>e.getXFromSeqPosition(t.start)+n)).attr("cy",(t=>{var n;return(null===(n=e.yScale)||void 0===n?void 0:n.call(e,t.variant.charAt(0)))||0})).attr("name",(t=>{var e="*"===t.alternativeSequence?"STOP":t.alternativeSequence;return t.internalId="var_"+t.wildType+t.start+e,t.internalId})).attr("fill",(t=>t.color?t.color:e.colorConfig(t))).call(o.sQ,e)}))}};var h,u,f,d,p,g,v,m;n(60429),function(t){t.A="A",t.C="C",t.D="D",t.E="E",t.Empty="*",t.F="F",t.G="G",t.H="H",t.I="I",t.K="K",t.L="L",t.M="M",t.N="N",t.Nl="NL",t.P="P",t.Q="Q",t.R="R",t.S="S",t.T="T",t.V="V",t.W="W",t.Y="Y"}(h||(h={})),function(t){t.CLINVAR="ClinVar",t.ESP="ESP",t.EXAC="ExAC",t.GENOMES1K="1000Genomes",t.BOVINE_SNP50="BovineSNP50",t.BOVINE_LD="BovineLD",t.BOVINE_HD="BovineHD",t.EQUINE_SNP50="EquineSNP50",t.CHICKEN_600K="Chicken600K",t.KG_HQ="1kg_hq",t.COSMIC="cosmic curated",t.REVIEWED="reviewed",t.UNIPROT="UniProt",t.DBSNP="dbSNP",t.ENSEMBL="Ensembl",t.ENSEMBL_PLANTS="EnsemblPlants",t.VECTORBASE="VectorBase",t.REFSEQ="RefSeq",t.DBGAP="dbGaP",t.DDD="DDD",t.PHARMCOGKB="PharmGKB",t.ENSEMBL_FUNGI="EnsemblFungi",t.ENSEMBL_METAZOA="EnsemblMetazoa",t.GNOMAD_V2="gnomAD_v2.0",t.GNOMAD_V3="gnomAD_v3.0",t.TCGA="NCI-TCGA",t.TCGA_COSMIC="NCI-TCGA Cosmic",t.DECIPHER="ddG2P",t.TOPMED="TOPMed",t.GNOMAD="gnomAD",t.PHARMGKB="pharmgkb",t.SGRP="SGRP",t.SGD="SGD",t.JEFFARES_SNPS="Jeffares_SNPs",t.JEFFARES_INDELS="Jeffares_Indels",t.ENSEMBL_VIRUSES="EnsemblViruses"}(u||(u={})),function(t){t.Benign="Benign",t.Disease="Disease",t.LikelyBenign="Likely benign",t.LikelyPathogenic="Likely pathogenic",t.Pathogenic="Pathogenic",t.Protective="Protective",t.VariantOfUncertainSignificance="Variant of uncertain significance"}(f||(f={})),function(t){t.Empty="-",t.Frameshift="frameshift",t.InframeDeletion="inframe deletion",t.Insertion="insertion",t.Missense="missense",t.StopGained="stop gained"}(d||(d={})),function(t){t.PolyPhen="PolyPhen",t.Sift="SIFT"}(p||(p={})),function(t){t.Benign="benign",t.Deleterious="deleterious",t.DeleteriousLowConfidence="deleterious - low confidence",t.PossiblyDamaging="possibly damaging",t.ProbablyDamaging="probably damaging",t.Tolerated="tolerated",t.ToleratedLowConfidence="tolerated - low confidence",t.Unknown="unknown"}(g||(g={})),function(t){t.LargeScaleStudy="large_scale_study",t.Mixed="mixed",t.UniProt="uniprot"}(v||(v={}));var y,w,x=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},b=function(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)},_=["G","A","V","L","I","S","T","C","M","D","N","E","Q","R","K","H","F","Y","W","P","d","*"],E=w=class extends((0,o.YD)((0,o.U_)(o.ZP))){constructor(){super(),this.proteinAPI=!1,this.condensedView=!1,y.set(this,void 0),this.colorConfig=t=>"pink",this["margin-top"]=10,this["margin-bottom"]=10}connectedCallback(){super.connectedCallback(),this.yScale=(0,s.q2)().domain(_).range([0,this.height-this["margin-top"]-this["margin-bottom"]])}processData(t){!function(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?i.call(t,n):i?i.value=n:e.set(t,n)}(this,y,t,"f");var e=this.proteinAPI?(t=>{var{sequence:e,features:n}=t,r=n.map((t=>{return Object.assign(Object.assign({},t),{accession:0!==(t.genomicLocation||[]).length?(t.genomicLocation||[])[0]:"",variant:t.alternativeSequence?t.alternativeSequence:h.Empty,start:Number(t.begin),xrefNames:(e=t.xrefs,n=t.sourceType,r=e?e.map((t=>t.name)):[],"uniprot"!==n&&"mixed"!==n||r.push("uniprot"),r),hasPredictions:t.predictions&&t.predictions.length>0,protvistaFeatureId:String(Math.random()),consequenceType:t.consequenceType});var e,n,r}));return r?{sequence:e,variants:r}:null})(t):t;e&&(this.processedData=function(t){var{variants:e,sequence:n}=t||{};if(!n||!e)return null;var r={},i=n.split("").map(((t,e)=>({type:"VARIANT",normal:t,pos:e+1,variants:[]})));return e.forEach((t=>{i[t.start-1]&&(i[t.start-1].variants.push(t),r[t.variant||""]=!0)})),{mutationArray:i,aaPresence:r}}(e))}set data(t){b(this,y,"f")!==t&&(this.processData(t),this.createFeatures())}get data(){return b(this,y,"f")}static get css(){return"\n    <style>\n    nightingale-variation {\n      display: flex;\n      width: 100%;\n    }\n\n    nightingale-variation svg {\n      background-color: #fff;\n    }\n\n    nightingale-variation circle {\n      opacity: 0.6;\n    }\n    nightingale-variation circle:hover {\n      opacity: 1;\n    }\n    nightingale-variation .tick line,\n    nightingale-variation .axis path {\n      opacity: 0.1;\n      pointer-events: none;\n    }\n\n    nightingale-highlight {\n      fill: #ffe999;\n    }\n\n    nightingale-variation .variation-y-right line,\n    nightingale-variation .axis path {\n      fill: none;\n      stroke: none;\n    }\n\n    </style>\n    "}createFeatures(){if(this.svg=(0,l.Ys)(this).selectAll("svg").attr("id","").attr("width",this.width).attr("height",this.height),this.processedData){this.variationPlot=new c;var t=this.svg.select("g.sequence-features").attr("transform","translate(0, "+this["margin-top"]+")"),e=t.select("g.points");e.empty()&&(e=t.append("g").attr("class","points"),this.axisLeft=t.append("g"),this.axisRight=t.append("g")),this.series=e.datum(this.processedData.mutationArray),this.updateScale()}}firstUpdated(){this.createFeatures(),this.createHighlightGroup()}zoomRefreshed(){this.series&&(this.updateScale(),this.variationPlot&&this.series.call(this.variationPlot.drawVariationPlot,this),this.updateHighlight())}updateScale(){var t,e,n;if(this.yScale){var r=_.filter((t=>{var e;return!this.condensedView||(null===(e=this.processedData)||void 0===e?void 0:e.aaPresence[t])}));this.rowHeight&&(this.height=r.length*this.rowHeight+this["margin-top"]+this["margin-bottom"]),this.yScale.range([0,this.height-this["margin-top"]-this["margin-bottom"]]).domain(r),null===(t=this.svg)||void 0===t||t.attr("width",this.width).attr("height",this.height);var i=(0,a.y4)(this.yScale).tickSize(-this.getWidthWithMargins());null===(e=this.axisLeft)||void 0===e||e.attr("class","variation-y-left axis").attr("transform","translate("+this["margin-left"]+",0)").call(i);var o=(0,a.Kh)(this.yScale);null===(n=this.axisRight)||void 0===n||n.attr("transform","translate("+(this.getWidthWithMargins()-this["margin-right"]+2)+", 0)").attr("class","variation-y-right axis").call(o)}}updateData(t){this.series&&this.series.datum(t)}render(){return(0,r.dy)(m||(t=["<style>\n        ",'\n      </style>\n      <svg class="container">\n        <g class="sequence-features" />\n      </svg>'],e||(e=t.slice(0)),t.raw=e,m=t),w.css);var t,e}};y=new WeakMap,x([(0,i.Cb)({type:Boolean,attribute:"protein-api"})],E.prototype,"proteinAPI",void 0),x([(0,i.Cb)({type:Boolean,attribute:"condensed-view"})],E.prototype,"condensedView",void 0),x([(0,i.Cb)({type:Number,attribute:"row-height"})],E.prototype,"rowHeight",void 0),x([(0,i.SB)({})],E.prototype,"colorConfig",void 0);const S=E=w=x([(0,i.Mo)("nightingale-variation")],E)},42402:t=>{t.exports=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";function r(t,e,n,i){this.message=t,this.expected=e,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}(function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n})(r,Error),r.buildMessage=function(t,e){var n={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}return"Expected "+function(t){var e,r,i,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=(i=t[e],n[i.type](i));if(o.sort(),o.length>0){for(e=1,r=1;e<o.length;e++)o[e-1]!==o[e]&&(o[r]=o[e],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."},e.exports={SyntaxError:r,parse:function(e,n){n=void 0!==n?n:{};var i,o={},a={start:B},s=B,l="",c=function(){return[]},h=",",u=F(",",!1),f=function(t,e){return[t].concat(e)},d=function(t){return[t]},p=function(t,e){return{url:t,format:e}},g=function(t){return{url:t}},v="url(",m=F("url(",!1),y=")",w=F(")",!1),x=function(t){return t},b="format(",_=F("format(",!1),E="local(",S=F("local(",!1),C=function(t){return{local:t}},T=/^[^)]/,M=O([")"],!0,!1),A=function(t){return X.extractValue(t.join(""))},P=/^[ \t\r\n\f]/,N=O([" ","\t","\r","\n","\f"],!1,!1),R=0,k=[{line:1,column:1}],D=0,U=[],L=0;if("startRule"in n){if(!(n.startRule in a))throw new Error("Can't start parsing from rule \""+n.startRule+'".');s=a[n.startRule]}function F(t,e){return{type:"literal",text:t,ignoreCase:e}}function O(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function I(t){var n,r=k[t];if(r)return r;for(n=t-1;!k[n];)n--;for(r={line:(r=k[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return k[t]=r,r}function q(t,e){var n=I(t),r=I(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function j(t){R<D||(R>D&&(D=R,U=[]),U.push(t))}function B(){var t,e;return(t=H())===o&&(t=R,(e=l)!==o&&(e=c()),t=e),t}function H(){var t,n,r,i,a,s;if(t=R,(n=W())!==o){for(r=[],i=z();i!==o;)r.push(i),i=z();if(r!==o)if(44===e.charCodeAt(R)?(i=h,R++):(i=o,0===L&&j(u)),i!==o){for(a=[],s=z();s!==o;)a.push(s),s=z();a!==o&&(s=H())!==o?t=n=f(n,s):(R=t,t=o)}else R=t,t=o;else R=t,t=o}else R=t,t=o;return t===o&&(t=R,(n=W())!==o&&(n=d(n)),t=n),t}function W(){var t;return(t=function(){var t,n,r,i;if(t=R,(n=V())!==o){if(r=[],(i=z())!==o)for(;i!==o;)r.push(i),i=z();else r=o;r!==o&&(i=function(){var t,n,r,i;return t=R,e.substr(R,7)===b?(n=b,R+=7):(n=o,0===L&&j(_)),n!==o&&(r=$())!==o?(41===e.charCodeAt(R)?(i=y,R++):(i=o,0===L&&j(w)),i!==o?t=n=x(r):(R=t,t=o)):(R=t,t=o),t}())!==o?t=n=p(n,i):(R=t,t=o)}else R=t,t=o;return t===o&&(t=R,(n=V())!==o&&(n=g(n)),t=n),t}())===o&&(t=function(){var t,n,r,i;return t=R,e.substr(R,6)===E?(n=E,R+=6):(n=o,0===L&&j(S)),n!==o&&(r=$())!==o?(41===e.charCodeAt(R)?(i=y,R++):(i=o,0===L&&j(w)),i!==o?t=n=C(r):(R=t,t=o)):(R=t,t=o),t}()),t}function V(){var t,n,r,i;return t=R,e.substr(R,4)===v?(n=v,R+=4):(n=o,0===L&&j(m)),n!==o&&(r=$())!==o?(41===e.charCodeAt(R)?(i=y,R++):(i=o,0===L&&j(w)),i!==o?t=n=x(r):(R=t,t=o)):(R=t,t=o),t}function $(){var t,n;if(t=[],T.test(e.charAt(R))?(n=e.charAt(R),R++):(n=o,0===L&&j(M)),n!==o)for(;n!==o;)t.push(n),T.test(e.charAt(R))?(n=e.charAt(R),R++):(n=o,0===L&&j(M));else t=o;return t!==o&&(t=A(t)),t}function z(){var t;return P.test(e.charAt(R))?(t=e.charAt(R),R++):(t=o,0===L&&j(N)),t}var G,Y,Z,X=t("../util");if((i=s())!==o&&R===e.length)return i;throw i!==o&&R<e.length&&j({type:"end"}),G=U,Y=D<e.length?e.charAt(D):null,Z=D<e.length?q(D,D+1):q(D,D),new r(r.buildMessage(G,Y),G,Y,Z)}}},{"../util":3}],2:[function(t,e,n){var r=t("./grammar");n.SyntaxError=function(t,e){this.message=t,this.offset=e},n.parse=function(t){try{return r.parse(t)}catch(t){throw new n.SyntaxError(t.message,t.offset)}},n.serialize=function(t){return t.map((function(t){var e;return t.url?(e='url("'+t.url+'")',t.format&&(e+=' format("'+t.format+'")')):e='local("'+t.local+'")',e})).join(", ")}},{"./grammar":1}],3:[function(t,e,n){n.extractValue=function(t){return e=function(t){return t.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1")}(t),r=/^'(.*)'$/,(n=/^"(.*)"$/).test(e)?e.replace(n,"$1"):r.test(e)?e.replace(r,"$1"):e;var e,n,r}},{}]},{},[2])(2)},26860:(t,e,n)=>{"use strict";var r=n(72871);e.extractCssUrl=function(t){var e,n=/^url\(("[^"]+"|'[^']+'|[^\)]+)\)/;if(!n.test(t))throw new Error("Invalid url");return e=n.exec(t)[1],r.unquoteString(e.replace(/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/,"$1"))},e.parse=function(t){return function(t){var e,n="(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+)",r="(?:\\s*"+n+")+",i="^\\s*("+r+")(?:\\s*,\\s*("+r+"))*\\s*$",o=new RegExp(r,"g"),a=[],s=function(t){var e,r=new RegExp(n,"g"),i=[];for(e=r.exec(t);e;)i.push(e[1]),e=r.exec(t);return i};if(t.match(new RegExp(i))){for(e=o.exec(t);e;)a.push(s(e[0])),e=o.exec(t);return a}return[]}(t).map((function(t){var n=function(t){var n;for(n=0;n<t.length;n++)try{return{url:e.extractCssUrl(t[n]),idx:n}}catch(t){}}(t);return n?{preUrl:t.slice(0,n.idx),url:n.url,postUrl:t.slice(n.idx+1)}:{preUrl:t}}))},e.serialize=function(t){return t.map((function(t){var e=[].concat(t.preUrl);return t.url&&e.push('url("'+t.url+'")'),t.postUrl&&(e=e.concat(t.postUrl)),e.join(" ")})).join(", ")}},72871:(t,e)=>{"use strict";e.unquoteString=function(t){var e=/^"(.*)"$/,n=/^'(.*)'$/;return e.test(t)?t.replace(e,"$1"):n.test(t)?t.replace(n,"$1"):t},e.rulesForCssText=function(t){var e,n=document.implementation.createHTMLDocument(""),r=document.createElement("style");return r.textContent=t,n.body.appendChild(r),e=r.sheet.cssRules,Array.prototype.slice.call(e)},e.cssRulesToText=function(t){return t.reduce((function(t,e){return t+e.cssText}),"")},e.exchangeRule=function(t,n,r){var i=t.indexOf(n);t[i]=e.rulesForCssText(r)[0]},e.changeFontFaceRuleSrc=function(t,n,r){var i="@font-face { font-family: "+n.style.getPropertyValue("font-family")+"; ";n.style.getPropertyValue("font-style")&&(i+="font-style: "+n.style.getPropertyValue("font-style")+"; "),n.style.getPropertyValue("font-weight")&&(i+="font-weight: "+n.style.getPropertyValue("font-weight")+"; "),n.style.getPropertyValue("unicode-range")&&(i+="unicode-range: "+n.style.getPropertyValue("unicode-range")+"; "),i+="src: "+r+"}",e.exchangeRule(t,n,i)}},44854:(t,e,n)=>{"use strict";var r=n(40101),i=n(41783),o=n(67591),a=n(61181),s=n(72871),l=function(t){return t.map((function(e,n){var i;return n===t.length-1&&(e={baseUrl:(i=e.baseUrl,r.joinUrl(i,"."))}),JSON.stringify(e)}))},c=function(t,e){return!1!==e.cache&&"none"!==e.cache&&e.cacheBucket?r.memoize(t,l,e.cacheBucket):t},h=function(t,e,n){var r=s.rulesForCssText(t);return a.loadCSSImportsForRules(r,e,n).then((function(e){return a.loadAndInlineCSSResourcesForRules(r,n).then((function(n){var i=e.errors.concat(n.errors),o=e.hasChanges||n.hasChanges;return o&&(t=s.cssRulesToText(r)),{hasChanges:o,content:t,errors:i}}))}))};e.loadAndInlineStyles=function(t,e){var n,i=function(t){var e=t.getElementsByTagName("style");return Array.prototype.filter.call(e,(function(t){return!t.attributes.type||"text/css"===t.attributes.type.value}))}(t),o=[],a=[];return(n=r.clone(e)).baseUrl=n.baseUrl||r.getDocumentBaseUrl(t),Promise.all(i.map((function(t){return function(t,e,n){var i=t.textContent;return c(h,e)(i,n,e).then((function(e){return e.hasChanges&&(t.childNodes[0].nodeValue=e.content),r.cloneArray(e.errors)}))}(t,n,a).then((function(t){o=o.concat(t)}))}))).then((function(){return o}))};var u=function(t,e){return r.ajax(t,e).then((function(t){return{content:t,cssRules:s.rulesForCssText(t)}})).then((function(e){var n=a.adjustPathsOfCssResources(t,e.cssRules);return{content:e.content,cssRules:e.cssRules,hasChanges:n}})).then((function(t){return a.loadCSSImportsForRules(t.cssRules,[],e).then((function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:e.errors}}))})).then((function(t){return a.loadAndInlineCSSResourcesForRules(t.cssRules,e).then((function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:t.errors.concat(e.errors)}}))})).then((function(t){var e=t.content;return t.hasChanges&&(e=s.cssRulesToText(t.cssRules)),{content:e,errors:t.errors}}))};e.loadAndInlineCssLinks=function(t,e){var n=function(t){var e=t.getElementsByTagName("link");return Array.prototype.filter.call(e,(function(t){return t.attributes.rel&&"stylesheet"===t.attributes.rel.value&&(!t.attributes.type||"text/css"===t.attributes.type.value)}))}(t),i=[];return Promise.all(n.map((function(t){return function(t,e){var n=t.attributes.href.value,i=r.getDocumentBaseUrl(t.ownerDocument),o=r.clone(e);return!o.baseUrl&&i&&(o.baseUrl=i),c(u,e)(n,o).then((function(t){return{content:t.content,errors:r.cloneArray(t.errors)}}))}(t,e).then((function(e){var n,r,o,a;n=t,r=e.content+"\n",a=n.parentNode,(r=r.trim())&&((o=n.ownerDocument.createElement("style")).type="text/css",o.appendChild(n.ownerDocument.createTextNode(r)),a.insertBefore(o,n)),a.removeChild(n),i=i.concat(e.errors)}),(function(t){i.push({resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url})}))}))).then((function(){return i}))},e.loadAndInlineImages=i.inline,e.loadAndInlineScript=o.inline,e.inlineReferences=function(t,n){var r=[],i=[e.loadAndInlineImages,e.loadAndInlineStyles,e.loadAndInlineCssLinks];return!1!==n.inlineScripts&&i.push(e.loadAndInlineScript),Promise.all(i.map((function(e){return e(t,n).then((function(t){r=r.concat(t)}))}))).then((function(){return r}))}},61181:(t,e,n)=>{"use strict";var r=n(40101),i=n(72871),o=n(26860),a=n(42402),s=function(t,e,n){t.style.setProperty(e,n,t.style.getPropertyPriority(e))},l=function(t){return t.filter((function(t){return t.type===window.CSSRule.STYLE_RULE&&(t.style.getPropertyValue("background-image")||t.style.getPropertyValue("background"))}))},c=function(t){var e=[];return t.forEach((function(t){t.style.getPropertyValue("background-image")?e.push({property:"background-image",value:t.style.getPropertyValue("background-image"),rule:t}):t.style.getPropertyValue("background")&&e.push({property:"background",value:t.style.getPropertyValue("background"),rule:t})})),e},h=function(t){return t.filter((function(t){return t.type===window.CSSRule.FONT_FACE_RULE&&t.style.getPropertyValue("src")}))},u=function(t){return t.filter((function(t){return t.type===window.CSSRule.IMPORT_RULE&&t.href}))},f=function(t){var e=[];return t.forEach((function(t,n){t.url&&!r.isDataUri(t.url)&&e.push(n)})),e},d=function(t){var e=[];return t.forEach((function(t,n){t.url&&!r.isDataUri(t.url)&&e.push(n)})),e};e.adjustPathsOfCssResources=function(t,e){var n=l(e),p=c(n),g=!1;return p.forEach((function(e){var n,i=o.parse(e.value),a=f(i);a.length>0&&(a.forEach((function(e){var n=i[e].url,o=r.joinUrl(t,n);i[e].url=o})),n=o.serialize(i),s(e.rule,e.property,n),g=!0)})),h(e).forEach((function(n){var o,s,l=n.style.getPropertyValue("src");try{o=a.parse(l)}catch(t){return}(s=d(o)).length>0&&(s.forEach((function(e){var n=o[e].url,i=r.joinUrl(t,n);o[e].url=i})),i.changeFontFaceRuleSrc(e,n,a.serialize(o)),g=!0)})),u(e).forEach((function(n){var o=n.href,a=r.joinUrl(t,o);i.exchangeRule(e,n,"@import url("+a+");"),g=!0})),g};var p=function(t,e,n){var r=t.indexOf(e);t.splice(r,1),n.forEach((function(e,n){t.splice(r+n,0,e)}))};e.loadCSSImportsForRules=function(t,n,o){var a=u(t),s=[],l=!1;return Promise.all(a.map((function(a){return function(t,n,o,a){var s,l=n.href;return l=i.unquoteString(l),s=r.joinUrl(a.baseUrl,l),o.indexOf(s)>=0?(p(t,n,[]),Promise.resolve([])):(o.push(s),r.ajax(l,a).then((function(r){var s=i.rulesForCssText(r);return e.loadCSSImportsForRules(s,o,a).then((function(r){return e.adjustPathsOfCssResources(l,s),p(t,n,s),r.errors}))}),(function(t){throw{resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url}})))}(t,a,n,o).then((function(t){s=s.concat(t),l=!0}),(function(t){s.push(t)}))}))).then((function(){return{hasChanges:l,errors:s}}))};var g=function(t,e){var n=l(t),i=c(n),a=[],h=!1;return Promise.all(i.map((function(t){return function(t,e){var n=o.parse(t),i=f(n),a=!1;return r.collectAndReportErrors(i.map((function(t){var i=n[t].url;return r.getDataURIForImageURL(i,e).then((function(e){n[t].url=e,a=!0}),(function(t){throw{resourceType:"backgroundImage",url:t.url,msg:"Unable to load background-image "+t.url}}))}))).then((function(t){return{backgroundValue:o.serialize(n),hasChanges:a,errors:t}}))}(t.value,e).then((function(e){e.hasChanges&&(s(t.rule,t.property,e.backgroundValue),h=!0),a=a.concat(e.errors)}))}))).then((function(){return{hasChanges:h,errors:a}}))},v=function(t,e){var n=h(t),o=[],s=!1;return Promise.all(n.map((function(n){return function(t,e){var n,i,o=!1;try{n=a.parse(t)}catch(t){n=[]}return i=d(n),r.collectAndReportErrors(i.map((function(t){var i=n[t],a=i.format||"woff";return r.binaryAjax(i.url,e).then((function(t){var e=btoa(t);i.url="data:font/"+a+";base64,"+e,o=!0}),(function(t){throw{resourceType:"fontFace",url:t.url,msg:"Unable to load font-face "+t.url}}))}))).then((function(t){return{srcDeclarationValue:a.serialize(n),hasChanges:o,errors:t}}))}(n.style.getPropertyValue("src"),e).then((function(e){e.hasChanges&&(i.changeFontFaceRuleSrc(t,n,e.srcDeclarationValue),s=!0),o=o.concat(e.errors)}))}))).then((function(){return{hasChanges:s,errors:o}}))};e.loadAndInlineCSSResourcesForRules=function(t,e){var n=!1,r=[];return Promise.all([g,v].map((function(i){return i(t,e).then((function(t){n=n||t.hasChanges,r=r.concat(t.errors)}))}))).then((function(){return{hasChanges:n,errors:r}}))}},41783:(t,e,n)=>{"use strict";var r=n(40101),i=function(t){return Array.prototype.slice.call(t)};e.inline=function(t,e){var n,o=i(t.getElementsByTagName("img")),a=i(t.getElementsByTagName("image")),s=(n=t.getElementsByTagName("input"),Array.prototype.filter.call(n,(function(t){return"image"===t.type}))),l=function(t){return t.filter((function(t){var e=null;return t.hasAttribute("src")?e=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?e=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(e=t.getAttribute("href")),null!==e&&!r.isDataUri(e)}))}(o=(o=o.concat(a)).concat(s));return r.collectAndReportErrors(l.map((function(t){return function(t,e){var n=null;t.hasAttribute("src")?n=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?n=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(n=t.getAttribute("href"));var i=r.getDocumentBaseUrl(t.ownerDocument),o=r.clone(e);return!o.baseUrl&&i&&(o.baseUrl=i),r.getDataURIForImageURL(n,o).then((function(t){return t}),(function(t){throw{resourceType:"image",url:t.url,msg:"Unable to load image "+t.url}}))}(t,e).then((function(e){t.attributes.src?t.attributes.src.value=e:t.attributes["xlink:href"]?t.attributes["xlink:href"].value=e:t.attributes.href&&(t.attributes.href.value=e)}))})))}},67591:(t,e,n)=>{"use strict";var r=n(40101);e.inline=function(t,e){var n=function(t){var e=t.getElementsByTagName("script");return Array.prototype.filter.call(e,(function(t){return!!t.attributes.src}))}(t);return r.collectAndReportErrors(n.map((function(t){return function(t,e){var n=t.attributes.src.value,i=r.getDocumentBaseUrl(t.ownerDocument),o=r.clone(e);return!o.baseUrl&&i&&(o.baseUrl=i),r.ajax(n,o).catch((function(t){throw{resourceType:"script",url:t.url,msg:"Unable to load script "+t.url}}))}(t,e).then((function(e){!function(t,e){t.attributes.removeNamedItem("src"),t.textContent=e.replace(/<\//g,"<\\/")}(t,e)}))})))}},40101:(t,e,n)=>{"use strict";var r=n(8575);e.getDocumentBaseUrl=function(t){return"about:blank"!==t.baseURI?t.baseURI:null},e.clone=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},e.cloneArray=function(t){return Array.prototype.slice.apply(t,[0])},e.joinUrl=function(t,e){return t?r.resolve(t,e):e},e.isDataUri=function(t){return/^data:/.test(t)},e.collectAndReportErrors=function(t){var e=[];return Promise.all(t.map((function(t){return t.catch((function(t){e.push(t)}))}))).then((function(){return e}))};var i=null;e.ajax=function(t,n){return new Promise((function(r,o){var a,s=new window.XMLHttpRequest,l=e.joinUrl(n.baseUrl,t),c=function(){o({msg:"Unable to load url",url:l})};a=function(t,e){return!1===e||"none"===e||"repeated"===e?(null!==i&&"repeated"===e||(i=Date.now()),t+"?_="+i):t}(l,n.cache),s.addEventListener("load",(function(){200===s.status||0===s.status?r(s.response):c()}),!1),s.addEventListener("error",c,!1);try{s.open("GET",a,!0),s.overrideMimeType(n.mimeType),s.send(null)}catch(t){c()}}))},e.binaryAjax=function(t,n){var r=e.clone(n);return r.mimeType="text/plain; charset=x-user-defined",e.ajax(t,r).then((function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e}))},e.getDataURIForImageURL=function(t,n){return e.binaryAjax(t,n).then((function(t){var e=btoa(t),n=function(t){var e=function(t,e){return t.substring(0,e.length)===e};return e(t,"<?xml")||e(t,"<svg")?"image/svg+xml":"image/png"}(t);return"data:"+n+";base64,"+e}))};var o=[];e.memoize=function(t,e,n){if("object"!=typeof n)throw new Error("cacheBucket is not an object");return function(){var r,i,a=Array.prototype.slice.call(arguments),s=e(a),l=(i=t,o.indexOf(i)<0&&o.push(i),o.indexOf(i));return n[l]&&n[l][s]?n[l][s]:(r=t.apply(null,a),n[l]=n[l]||{},n[l][s]=r,r)}}},18151:function(t,e,n){var r,i,o;void 0===(o=this)&&void 0!==window&&(o=window),r=[n(8575),n(1347),n(65722),n(44854)],i=function(t,e,n,r){return o.rasterizeHTML=(i=e,a=n,s=r,l=function(t){"use strict";var e={},n=[];e.joinUrl=function(e,n){return e?t.resolve(e,n):n},e.getConstantUniqueIdFor=function(t){return n.indexOf(t)<0&&n.push(t),n.indexOf(t)},e.clone=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n};return e.parseOptionalParameters=function(t){var n,r={canvas:null,options:{}};return null==t[0]||function(t){return"object"==typeof t&&null!==t}(n=t[0])&&Object.prototype.toString.apply(n).match(/\[object (Canvas|HTMLCanvasElement)\]/i)?(r.canvas=t[0]||null,r.options=e.clone(t[1])):r.options=e.clone(t[0]),r},e}(t),c=function(t){"use strict";var e={},n=function(t,e,n){var r=t[e];return t[e]=function(){var t=Array.prototype.slice.call(arguments);return n.apply(this,[t,r])},r};return e.baseUrlRespectingXhr=function(e,r){return function(){var i=new e;return n(i,"open",(function(e,n){var i=e.shift(),o=e.shift(),a=t.joinUrl(r,o);return n.apply(this,[i,a].concat(e))})),i}},e.finishNotifyingXhr=function(t){var e,r=0,i=0,o=!1,a=new Promise((function(t){e=function(){r-i<=0&&o&&t({totalCount:r})}})),s=function(){var o=new t;return n(o,"send",(function(t,e){return r+=1,e.apply(this,arguments)})),o.addEventListener("load",(function(){i+=1,e()})),o};return s.waitForRequestsToFinish=function(){return o=!0,e(),a},s},e}(l),h=function(){"use strict";var t={},e=function(t){return Array.prototype.slice.call(t)};t.addClassName=function(t,e){t.className+=" "+e},t.addClassNameRecursively=function(e,n){t.addClassName(e,n),e.parentNode!==e.ownerDocument&&t.addClassNameRecursively(e.parentNode,n)};var n=function(t,n){var r=t.cssText.replace(/^[^\{]+/,"");!function(t,n){var r=t.parentStyleSheet,i=e(r.cssRules).indexOf(t);r.insertRule(n,i+1),r.deleteRule(i)}(t,n+" "+r)},r=function(t){var n;t.textContent=(n=t.sheet.cssRules,e(n).reduce((function(t,e){return t+e.cssText}),""))},i=function(t,i,o){var a=function(t){return"((?:^|[^.#:\\w])|(?=\\W))("+t.join("|")+")(?=\\W|$)"}(i);e(t.querySelectorAll("style")).forEach((function(t){var i,s,l;void 0===t.sheet&&(i=t,s=document.implementation.createHTMLDocument(""),(l=document.createElement("style")).textContent=i.textContent,s.body.appendChild(l),i.sheet=l.sheet);var c=e(t.sheet.cssRules).filter((function(t){return t.selectorText&&new RegExp(a,"i").test(t.selectorText)}));c.length&&(c.forEach((function(t){var e=t.selectorText.replace(new RegExp(a,"gi"),(function(t,e,n){return e+o(n)}));e!==t.selectorText&&n(t,e)})),r(t))}))};return t.rewriteCssSelectorWith=function(t,e,n){i(t,[e],(function(){return n}))},t.lowercaseCssTypeSelectors=function(t,e){i(t,e,(function(t){return t.toLowerCase()}))},t.findHtmlOnlyNodeNames=function(t){var e,n=t.ownerDocument.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),r={},i={};do{e=n.currentNode.tagName.toLowerCase(),"http://www.w3.org/1999/xhtml"===n.currentNode.namespaceURI?r[e]=!0:i[e]=!0}while(n.nextNode());return Object.keys(r).filter((function(t){return!i[t]}))},t}(),u=function(t){"use strict";var e={},n=function(t){return Array.prototype.slice.call(t)},r={active:!0,hover:!0,focus:!1,target:!1};return e.fakeUserAction=function(e,n,i){var o=e.querySelector(n),a=":"+i,s="rasterizehtml"+i;o&&(r[i]?t.addClassNameRecursively(o,s):t.addClassName(o,s),t.rewriteCssSelectorWith(e,a,"."+s))},e.persistInputValues=function(t){var e=t.querySelectorAll("input"),r=t.querySelectorAll("textarea"),i=function(t){return"checkbox"===t.type||"radio"===t.type};n(e).filter(i).forEach((function(t){t.checked?t.setAttribute("checked",""):t.removeAttribute("checked")})),n(e).filter((function(t){return!i(t)})).forEach((function(t){t.setAttribute("value",t.value)})),n(r).forEach((function(t){t.textContent=t.value}))},e.rewriteTagNameSelectorsToLowerCase=function(e){t.lowercaseCssTypeSelectors(e,t.findHtmlOnlyNodeNames(e))},e}(h),f=function(t,e,n,r){"use strict";var i={};i.executeJavascript=function(t,n){return new Promise((function(i){var o=function(t,e,n,r){var i=t.createElement(e);return i.style.visibility="hidden",i.style.width=n+"px",i.style.height=r+"px",i.style.position="absolute",i.style.top=-1e4-r+"px",i.style.left=-1e4-n+"px",t.getElementsByTagName("body")[0].appendChild(i),i}(r.document,"iframe",n.width,n.height),a=t.outerHTML,s=[],l=n.executeJsTimeout||0,c=function(){r.document.getElementsByTagName("body")[0].removeChild(o)},h=function(){var t=o.contentDocument;i({document:t,errors:s,cleanUp:c})},u=o.contentWindow.XMLHttpRequest,f=e.finishNotifyingXhr(u),d=e.baseUrlRespectingXhr(f,n.baseUrl);o.onload=function(){var t;(t=l,t>0?new Promise((function(e){setTimeout(e,t)})):Promise.resolve()).then(f.waitForRequestsToFinish).then(h)},o.contentDocument.open(),o.contentWindow.XMLHttpRequest=d,o.contentWindow.onerror=function(t){s.push({resourceType:"scriptExecution",msg:t})},o.contentDocument.write("<!DOCTYPE html>"),o.contentDocument.write(a),o.contentDocument.close()}))};var o=function(t,e,n,i,o){var a,s,l,c,h,u,f,d=Math.max(t.scrollWidth,t.clientWidth),p=Math.max(t.scrollHeight,t.clientHeight);return e?(a=(u=function(t,e){var n=t.querySelector(e);if(n)return n;if(t.ownerDocument.querySelector(e)===t)return t;throw{message:"Clipping selector not found"}}(t,e).getBoundingClientRect()).top,s=u.left,l=u.width,c=u.height):(a=0,s=0,l=d,c=p),f=function(t,e,n,r){return{width:Math.max(t.width*r,e),height:Math.max(t.height*r,n)}}({width:l,height:c},n,i,o),h=r.getComputedStyle(t.ownerDocument.documentElement).fontSize,{left:s,top:a,width:f.width,height:f.height,viewportWidth:d,viewportHeight:p,rootFontSize:h}};i.calculateDocumentContentSize=function(t,e){return new Promise((function(n,i){var a,s=e.zoom||1;a=function(t,e,n){var i=Math.floor(t/n),o=Math.floor(e/n);return function(t,e,n){var r=t.createElement("iframe");return r.style.width=e+"px",r.style.height=n+"px",r.style.visibility="hidden",r.style.position="absolute",r.style.top=-1e4-n+"px",r.style.left=-1e4-e+"px",r.style.borderWidth=0,r.sandbox="allow-same-origin",r.scrolling="no",r}(r.document,i,o)}(e.width,e.height,s),r.document.getElementsByTagName("body")[0].appendChild(a),a.onload=function(){var l,c=a.contentDocument;try{l=o(function(t,e){var n=t.tagName;return e.querySelector(n)}(t,c),e.clip,e.width,e.height,s),n(l)}catch(t){i(t)}finally{r.document.getElementsByTagName("body")[0].removeChild(a)}},a.contentDocument.open(),a.contentDocument.write("<!DOCTYPE html>"),a.contentDocument.write(function(t){var e=t.tagName.toLowerCase();return"html"===e||"body"===e?t.outerHTML:'<body style="margin: 0;">'+t.outerHTML+"</body>"}(t)),a.contentDocument.close()}))},i.parseHtmlFragment=function(t){var e=r.document.implementation.createHTMLDocument("");e.documentElement.innerHTML=t;var n=e.querySelector("body").firstChild;if(!n)throw"Invalid source";return n};i.parseHTML=function(t){var e=r.document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t,function(t,e){var n,i,o,a,s=/<html((?:\s+[^>]*)?)>/im.exec(e),l=r.document.implementation.createHTMLDocument("");if(s)for(n="<div"+s[1]+"></div>",l.documentElement.innerHTML=n,o=l.querySelector("div"),i=0;i<o.attributes.length;i++)a=o.attributes[i],t.documentElement.setAttribute(a.name,a.value)}(e,t),e};var a=function(t){try{return n.failOnParseError(t)}catch(t){throw{message:"Invalid source",originalError:t}}};i.validateXHTML=function(t){var e=(new DOMParser).parseFromString(t,"application/xml");a(e)};var s=null,l=function(e,n){return new Promise((function(r,i){var o=new window.XMLHttpRequest,a=function(t,e){return"none"===e||"repeated"===e?(null!==s&&"repeated"===e||(s=Date.now()),t+"?_="+s):t}(t.joinUrl(n.baseUrl,e),n.cache),l=function(t){i({message:"Unable to load page",originalError:t})};o.addEventListener("load",(function(){200===o.status||0===o.status?r(o.responseXML):l(o.statusText)}),!1),o.addEventListener("error",(function(t){l(t)}),!1);try{o.open("GET",a,!0),o.responseType="document",o.send(null)}catch(t){l(t)}}))};return i.loadDocument=function(t,e){return l(t,e).then((function(t){return a(t)}))},i}(l,c,a,window),d=function(t){"use strict";var e,n={},r=function(t,e){return e?URL.createObjectURL(new Blob([t],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(t)},i=function(t){t instanceof Blob&&URL.revokeObjectURL(t)},o='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',a=function(t){return new Promise((function(e,n){var r=document.createElement("canvas"),i=new Image;i.onload=function(){var t=r.getContext("2d");try{t.drawImage(i,0,0),r.toDataURL("image/png"),e(!0)}catch(t){e(!1)}},i.onerror=n,i.src=t}))},s=function(){return new Promise((function(e,n){var s;(function(){if(t.Blob)try{return new Blob(["<b></b>"],{type:"text/xml"}),!0}catch(t){}return!1})()&&t.URL?(s=r(o,!0),a(s).then((function(t){return i(s),!t&&a(r(o,!1)).then((function(t){return t}))}),(function(){return!1}))).then((function(t){e(!t)}),(function(){n()})):e(!1)}))},l=function(t){return(void 0===e&&(e=s()),e).then((function(e){return r(t,e)}))};return n.renderSvg=function(t){return new Promise((function(e,n){var r,o,a=function(){r&&i(r)};(o=new Image).onload=function(){o.onload=null,o.onerror=null,a(),e(o)},o.onerror=function(){a(),n()},l(t).then((function(t){r=t,o.src=r}),n)}))},n}(window),p=function(t,e,n,r){"use strict";var i={},o=function(t){var e=Object.keys(t);return e.length?" "+e.map((function(e){return e+'="'+t[e]+'"'})).join(" "):""},a=function(t,n,i){var a=r.serializeToString(t);e.validateXHTML(a);var s,l,c=function(t){var e,n;return e=Math.round(t.viewportWidth),n=Math.round(t.viewportHeight),{x:-t.left,y:-t.top,width:e,height:n}}(n);return l=(s=c).style||"",s.style=l+"float: left;",function(t){t.externalResourcesRequired=!0}(c),'<svg xmlns="http://www.w3.org/2000/svg"'+o(function(t,e){var n=e||1,r={width:t.width,height:t.height,"font-size":t.rootFontSize};return 1!==n&&(r.style="transform:scale("+n+"); transform-origin: 0 0;"),r}(n,i))+'><style scoped="">html::-webkit-scrollbar { display: none; }</style><foreignObject'+o(c)+">"+a+"</foreignObject></svg>"};return i.getSvgForDocument=function(t,e,r){return n.rewriteTagNameSelectorsToLowerCase(t),a(t,e,r)},i.drawDocumentAsSvg=function(t,r){return["hover","active","focus","target"].forEach((function(e){r[e]&&n.fakeUserAction(t,r[e],e)})),e.calculateDocumentContentSize(t,r).then((function(e){return i.getSvgForDocument(t,e,r.zoom)}))},i}(0,f,u,i),g=function(t,e,n,r,i,o){"use strict";var a={},s=function(t){return{message:"Error rendering page",originalError:t}},l=function(t){return i.renderSvg(t).then((function(e){return{image:e,svg:t}}),(function(t){throw s(t)}))},c=function(t,e,n){return r.drawDocumentAsSvg(t,n).then(l).then((function(t){return e&&function(t,e){try{e.getContext("2d").drawImage(t,0,0)}catch(t){throw s(t)}}(t.image,e),t}))};return a.rasterize=function(r,i,a){var s;return(s=t.clone(a)).inlineScripts=!0===a.executeJs,o.inlineReferences(r,s).then((function(t){return a.executeJs?function(t,r){return e.executeJavascript(t,r).then((function(t){var e=t.document;return n.persistInputValues(e),{document:e,errors:t.errors,cleanUp:t.cleanUp}}))}(r,a).then((function(e){return{element:e.document.documentElement,errors:t.concat(e.errors),cleanUp:e.cleanUp}})):{element:r,errors:t,cleanUp:function(){}}})).then((function(t){return c(t.element,i,a).then((function(e){return t.cleanUp(),{image:e.image,svg:e.svg,errors:t.errors}}))}))},a}(l,f,u,p,d,s),v=function(t,e,n){"use strict";var r={};r.drawDocument=function(){var e=arguments[0],r=Array.prototype.slice.call(arguments,1),i=t.parseOptionalParameters(r),o=e.documentElement?e.documentElement:e;return n.rasterize(o,i.canvas,function(e){var n,r=function(t,e){var n=t?t.width:300,r=t?t.height:200;return{width:void 0!==e.width?e.width:n,height:void 0!==e.height?e.height:r}}(e.canvas,e.options);return(n=t.clone(e.options)).width=r.width,n.height=r.height,n}(i))};r.drawHTML=function(){var n=arguments[0],i=Array.prototype.slice.call(arguments,1),o=t.parseOptionalParameters(i);return function(t,n,i){var o=e.parseHTML(t);return r.drawDocument(o,n,i)}(n,o.canvas,o.options)};var i=function(n,i,o){return e.loadDocument(n,o).then((function(e){var a=function(e,n,r){var i=document.implementation.createHTMLDocument("");i.replaceChild(e.documentElement,i.documentElement);var o=r?t.clone(r):{};return r.baseUrl||(o.baseUrl=n),{document:i,options:o}}(e,n,o);return r.drawDocument(a.document,i,a.options)}))};return r.drawURL=function(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1),r=t.parseOptionalParameters(n);return i(e,r.canvas,r.options)},r}(l,f,g),v);var i,a,s,l,c,h,u,f,d,p,g,v}.apply(e,r),void 0===i||(t.exports=i)},65722:(t,e)=>{"use strict";var n=[new RegExp("^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\n?</div>"),new RegExp("^(.+)\n")];e.failOnParseError=function(t){return function(t){var e;if(null===t)throw new Error("Parse error");var r=function(t){return"parsererror"===t.documentElement.tagName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"===t.documentElement.namespaceURI?t.documentElement:("xml"===t.documentElement.tagName||"html"===t.documentElement.tagName)&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"parsererror"===t.documentElement.childNodes[0].nodeName?t.documentElement.childNodes[0]:"html"===t.documentElement.tagName&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"body"===t.documentElement.childNodes[0].nodeName&&t.documentElement.childNodes[0].childNodes&&t.documentElement.childNodes[0].childNodes.length&&"parsererror"===t.documentElement.childNodes[0].childNodes[0].nodeName?t.documentElement.childNodes[0].childNodes[0]:void 0}(t);if(void 0!==r)throw e=function(t){var e,r,i,o,a=(e=t,r=new XMLSerializer,Array.prototype.map.call(e.childNodes,(function(t){return r.serializeToString(t)})).join(""));for(i=0;i<n.length;i++)if(o=n[i].exec(a))return o[1]}(r)||"Parse error",new Error(e)}(t),t}},1347:function(t,e){var n,r;void 0===(r="function"==typeof(n=function(){var t=function(t){var e=t.tagName;return"http://www.w3.org/1999/xhtml"===t.namespaceURI&&(e=e.toLowerCase()),e},e=function(t){return Array.prototype.map.call(t.childNodes,(function(t){return r(t)})).join("")},n=function(n,r){var i="<"+t(n);return i+=function(t,e){return Array.prototype.map.call(t.attributes||t.attrs,(function(t){return t.name})).indexOf("xmlns")>=0||!e&&t.namespaceURI===t.parentNode.namespaceURI?"":' xmlns="'+t.namespaceURI+'"'}(n,r),Array.prototype.forEach.call(n.attributes||n.attrs,(function(t){i+=function(t){var e=t.value;return" "+t.name+'="'+function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}(e)+'"'}(t)})),n.childNodes.length>0?(i+=">",i+=e(n),i+="</"+t(n)+">"):i+="/>",i},r=function(t,r){var i=r&&r.rootNode;return"#document"===t.nodeName||"#document-fragment"===t.nodeName?e(t):t.tagName?n(t,i):"#text"===t.nodeName?function(t){var e=t.nodeValue||t.value||"";return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t):"#comment"===t.nodeName?function(t){return"\x3c!--"+t.data.replace(/-/g,"&#45;")+"--\x3e"}(t):"#cdata-section"===t.nodeName?function(t){return"<![CDATA["+t.nodeValue+"]]>"}(t):void 0};return{serializeToString:function(t){return r(t,{rootNode:!0}).replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")}}})?n.apply(e,[]):n)||(t.exports=r)},36409:(t,e,n)=>{"use strict";var r=n(79989),i=n(53931),o=n(17919),a=n(3689),s=n(76058),l=n(69985),c=n(76373),h=n(72945),u=n(11880),f=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){f.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),n=l(t);return this.then(n?function(n){return h(e,t()).then((function(){return n}))}:t,n?function(n){return h(e,t()).then((function(){throw n}))}:t)}}),!i&&l(o)){var d=s("Promise").prototype.finally;f.finally!==d&&u(f,"finally",d,{unsafe:!0})}},24808:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=function(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}},63381:(t,e,n)=>{"use strict";n.d(e,{Z:()=>b});var r=n(43023),i=n(24808);n(52003),n(64043),n(12826);var o=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const a=function(t){return o.test(t)};n(22462);var s="\\ud800-\\udfff",l="["+s+"]",c="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",h="\\ud83c[\\udffb-\\udfff]",u="[^"+s+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",p="(?:"+c+"|"+h+")?",g="[\\ufe0e\\ufe0f]?",v=g+p+"(?:\\u200d(?:"+[u,f,d].join("|")+")"+g+p+")*",m="(?:"+[u+c+"?",c,f,d,l].join("|")+")",y=RegExp(h+"(?="+h+")|"+m+v,"g");const w=function(t){return a(t)?function(t){return t.match(y)||[]}(t):function(t){return t.split("")}(t)},x=function(t){t=(0,r.Z)(t);var e,n,o,s,l=a(t)?w(t):void 0,c=l?l[0]:t.charAt(0),h=l?(e=l,n=1,s=e.length,o=void 0===o?s:o,!n&&o>=s?e:(0,i.Z)(e,n,o)).join(""):t.slice(1);return c.toUpperCase()+h},b=function(t){return x((0,r.Z)(t).toLowerCase())}},8873:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{LL:()=>v,y4:()=>m,Kh:()=>g});var i=1,o=2,a=3,s=4,l=1e-6;function c(t){return"translate("+t+",0)"}function h(t){return"translate(0,"+t+")"}function u(t){return e=>+t(e)}function f(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function d(){return!this.__axis}function p(t,e){var n=[],p=null,g=null,v=6,m=6,y=3,w="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,x=t===i||t===s?-1:1,b=t===s||t===o?"x":"y",_=t===i||t===a?c:h;function E(c){var h=null==p?e.ticks?e.ticks.apply(e,n):e.domain():p,E=null==g?e.tickFormat?e.tickFormat.apply(e,n):r:g,S=Math.max(v,0)+y,C=e.range(),T=+C[0]+w,M=+C[C.length-1]+w,A=(e.bandwidth?f:u)(e.copy(),w),P=c.selection?c.selection():c,N=P.selectAll(".domain").data([null]),R=P.selectAll(".tick").data(h,e).order(),k=R.exit(),D=R.enter().append("g").attr("class","tick"),U=R.select("line"),L=R.select("text");N=N.merge(N.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),R=R.merge(D),U=U.merge(D.append("line").attr("stroke","currentColor").attr(b+"2",x*v)),L=L.merge(D.append("text").attr("fill","currentColor").attr(b,x*S).attr("dy",t===i?"0em":t===a?"0.71em":"0.32em")),c!==P&&(N=N.transition(c),R=R.transition(c),U=U.transition(c),L=L.transition(c),k=k.transition(c).attr("opacity",l).attr("transform",(function(t){return isFinite(t=A(t))?_(t+w):this.getAttribute("transform")})),D.attr("opacity",l).attr("transform",(function(t){var e=this.parentNode.__axis;return _((e&&isFinite(e=e(t))?e:A(t))+w)}))),k.remove(),N.attr("d",t===s||t===o?m?"M"+x*m+","+T+"H"+w+"V"+M+"H"+x*m:"M"+w+","+T+"V"+M:m?"M"+T+","+x*m+"V"+w+"H"+M+"V"+x*m:"M"+T+","+w+"H"+M),R.attr("opacity",1).attr("transform",(function(t){return _(A(t)+w)})),U.attr(b+"2",x*v),L.attr(b,x*S).text(E),P.filter(d).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===o?"start":t===s?"end":"middle"),P.each((function(){this.__axis=A}))}return E.scale=function(t){return arguments.length?(e=t,E):e},E.ticks=function(){return n=Array.from(arguments),E},E.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),E):n.slice()},E.tickValues=function(t){return arguments.length?(p=null==t?null:Array.from(t),E):p&&p.slice()},E.tickFormat=function(t){return arguments.length?(g=t,E):g},E.tickSize=function(t){return arguments.length?(v=m=+t,E):v},E.tickSizeInner=function(t){return arguments.length?(v=+t,E):v},E.tickSizeOuter=function(t){return arguments.length?(m=+t,E):m},E.tickPadding=function(t){return arguments.length?(y=+t,E):y},E.offset=function(t){return arguments.length?(w=+t,E):w},E}function g(t){return p(o,t)}function v(t){return p(a,t)}function m(t){return p(s,t)}},79906:(t,e,n)=>{"use strict";n.d(e,{ET:()=>c,y$:()=>l});const r=Math.PI,i=2*r,o=1e-6,a=i-o;function s(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class l{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?s:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return s;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,i,a){if(t=+t,e=+e,n=+n,i=+i,(a=+a)<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-t,h=i-e,u=s-t,f=l-e,d=u*u+f*f;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(d>o)if(Math.abs(f*c-h*u)>o&&a){let p=n-s,g=i-l,v=c*c+h*h,m=p*p+g*g,y=Math.sqrt(v),w=Math.sqrt(d),x=a*Math.tan((r-Math.acos((v+d-m)/(2*y*w)))/2),b=x/w,_=x/y;Math.abs(b-1)>o&&this._append`L${t+b*u},${e+b*f}`,this._append`A${a},${a},0,0,${+(f*p>u*g)},${this._x1=t+_*c},${this._y1=e+_*h}`}else this._append`L${this._x1=t},${this._y1=e}`}arc(t,e,n,s,l,c){if(t=+t,e=+e,c=!!c,(n=+n)<0)throw new Error(`negative radius: ${n}`);let h=n*Math.cos(s),u=n*Math.sin(s),f=t+h,d=e+u,p=1^c,g=c?s-l:l-s;null===this._x1?this._append`M${f},${d}`:(Math.abs(this._x1-f)>o||Math.abs(this._y1-d)>o)&&this._append`L${f},${d}`,n&&(g<0&&(g=g%i+i),g>a?this._append`A${n},${n},0,1,${p},${t-h},${e-u}A${n},${n},0,1,${p},${this._x1=f},${this._y1=d}`:g>o&&this._append`A${n},${n},0,${+(g>=r)},${p},${this._x1=t+n*Math.cos(l)},${this._y1=e+n*Math.sin(l)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function c(){return new l}c.prototype=l.prototype},89040:(t,e,n)=>{"use strict";n.d(e,{IC:()=>b});var r=n(49531),i=n(4447);const o=Math.PI/180,a=180/Math.PI;var s=-.14861,l=1.78277,c=-.29227,h=-.90649,u=1.97294,f=u*h,d=u*l,p=l*c-h*s;function g(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof v)return new v(t.h,t.s,t.l,t.opacity);t instanceof i.Ss||(t=(0,i.SU)(t));var e=t.r/255,n=t.g/255,r=t.b/255,o=(p*r+f*e-d*n)/(p+f-d),s=r-o,l=(u*(n-o)-c*s)/h,g=Math.sqrt(l*l+s*s)/(u*o*(1-o)),m=g?Math.atan2(l,s)*a-120:NaN;return new v(m<0?m+360:m,g,o,t.opacity)}(t):new v(t,e,n,null==r?1:r)}function v(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}(0,r.Z)(v,g,(0,r.l)(i.Il,{brighter(t){return t=null==t?i.J5:Math.pow(i.J5,t),new v(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?i.xV:Math.pow(i.xV,t),new v(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*o,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new i.Ss(255*(e+n*(s*r+l*a)),255*(e+n*(c*r+h*a)),255*(e+n*(u*r)),this.opacity)}}));var m=n(98280);function y(t){return function e(n){function r(e,r){var i=t((e=g(e)).h,(r=g(r)).h),o=(0,m.ZP)(e.s,r.s),a=(0,m.ZP)(e.l,r.l),s=(0,m.ZP)(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}y(m.wx);var w=y(m.ZP),x=(w(g(-100,.75,.35),g(80,1.5,.8)),w(g(260,.75,.35),g(80,1.5,.8)),g());function b(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return x.h=360*t-100,x.s=1.5-1.5*e,x.l=.8-.9*e,x+""}}}]);
//# sourceMappingURL=8678.module.8678.6ce.js.map