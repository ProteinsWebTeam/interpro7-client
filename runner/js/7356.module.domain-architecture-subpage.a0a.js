"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[7356],{7877:(e,t,a)=>{a.d(t,{Z:()=>b}),a(268);var n=a(67294),s=a(29643),i=a(719),c=(a(752),a(76265),a(34287)),o=a(10838),r=a(19119),l=a(8575),d=a(41220),m=a(30048),u=(0,r.P1)((e=>e.settings.api),((e,t)=>t),((e,t)=>{var{protocol:a,hostname:n,port:s,root:i}=e;if(!t.shouldLoad)return null;var c={main:{key:t.type},[t.type]:{accession:t.accession,db:t.source}};return(0,l.format)({protocol:a,hostname:n,port:s,pathname:i+(0,o.Z)(c)})})),p=(0,c.Z)(u)((e=>{var{data:t,onLoad:a,databases:s,locations:i}=e;return(0,n.useEffect)((()=>{if(t&&!t.loading&&t.payload&&t.payload.metadata){var{accession:e,name:{name:c},source_database:o}=t.payload.metadata;a((()=>n.createElement(m.Z,{locations:i,accession:e,dbName:s[o].name,name:c})))}})),null}));const h=e=>{var{type:t,source:a,accession:s,children:i,databases:c,locations:o}=e,[r,l]=(0,n.useState)(!1),[m,u]=(0,n.useState)((()=>n.createElement("b",null,s))),[h,_]=(0,n.useState)(o);return n.createElement(n.Fragment,null,n.createElement(d.Z,{message:m,onMouseOverFeature:e=>{l(!0),_(e)}},i),n.createElement(p,{accession:s,type:t,source:a,onLoad:u,databases:c,locations:h,shouldLoad:r}))};var _=a(16772),g=a(55733),y=a(76371),v=a(44543),f=(0,y.Z)(v.Z);const b=e=>{var{matches:t,length:a,maxLength:c,databases:o,highlight:r=[]}=e,l=80*a/c+"%";return n.createElement("div",{className:f("ida-protvista")},t.map(((e,t)=>n.createElement("div",{key:e.accession+"-"+t,className:f("track-row")},n.createElement("div",{className:f("track-component",{highlight:r.indexOf(e.accession)>=0}),style:{width:l}},n.createElement(h,{type:"entry",source:e.accession.toLowerCase().startsWith("ipr")?"interpro":"pfam",accession:""+e.accession,databases:o,locations:e.locations},n.createElement(g.Z,{length:a,"display-start":1,"display-end":a,data:[e],shape:"roundRectangle","margin-color":"#fafafa",expanded:!0,"use-ctrl-to-zoom":!0,height:22,color:(0,_.mt)({accession:e.accession},_.tK.ACCESSION)}))),n.createElement("div",{className:f("track-accession")},n.createElement(s.Z,{to:{description:{main:{key:"entry"},entry:{db:e.accession.toLowerCase().startsWith("ipr")?"InterPro":"pfam",accession:e.accession}}}},e.name))))),n.createElement("div",{className:f("track-row")},n.createElement("div",{className:f("track-length"),style:{width:l}},n.createElement("div",{className:f("note")}),n.createElement("div",{className:f("length")},n.createElement(i.ZP,{noTitle:!0},a)))))}},65013:(e,t,a)=>{a.d(t,{Z:()=>w}),a(64043),a(61514),a(60429),a(86544);var n=a(67294),s=a(19119),i=a(45007),c=a(8575),o=a(10838),r=a(87616),l=a(2191),d=a(76820),m=a(21164),u=a(16392),p=a(35096),h=(0,s.P1)((e=>e.customLocation.description.entry),(e=>e.customLocation.search),((e,t)=>({entryLocation:e,search:t})));const _=(0,i.$j)(h)((e=>{var{entryLocation:t,search:a,fileType:s,count:i}=e;return n.createElement(p.Z,{fileType:s,name:"ida-search-results."+s,count:i,customLocationDescription:{main:{key:"entry"},entry:Object.assign(Object.assign({},t||{}),{detail:void 0})},search:(null==t?void 0:t.accession)?{ida:""}:a,endpoint:"ida"})}));var g=a(76371),y=a(83373),v=a(72694),f=(0,g.Z)({"options-panel":"Options_style__options-panel___b5","accession-selector-panel":"Options_style__accession-selector-panel___bb"},y.Z),b=(e,t,a)=>{var{protocol:n,hostname:s,port:i,root:r}=e,l={main:{key:"entry"},entry:Object.assign(Object.assign({},t||{}),{detail:void 0})};return(0,c.format)({protocol:n,hostname:s,port:i,pathname:r+(0,o.Z)(l),query:(null==t?void 0:t.accession)?{ida:""}:a})},E=(0,s.P1)((e=>e.settings.api),(e=>e.customLocation.description.entry),(e=>e.customLocation.search),(e=>e.settings.ui),((e,t,a,n)=>{var{idaAccessionDB:s}=n;return{api:e,entryLocation:t,search:a,idaAccessionDB:s}}));const w=(0,i.$j)(E,{changeSettingsRaw:r.Ft})((e=>{var{changeSettingsRaw:t,idaAccessionDB:a,api:s,count:i=0,showDBSelector:c=!0,showExporter:o=!0,search:r,entryLocation:p}=e;return n.createElement("nav",{className:f("options-panel")},c&&n.createElement("div",{className:f("accession-selector-panel")},n.createElement("label",null,"Database:"," ",n.createElement(l.Z,{title:"Switch between domain architectures based on Pfam and InterPro entries"},n.createElement(d.Z,{switchCond:"pfam"===a,name:"accessionDB",id:"accessionDB-input",SRLabel:"Use accessions from",onValue:"Pfam",offValue:"InterPro",handleChange:()=>{t("ui","idaAccessionDB","pfam"===a?"interpro":"pfam")},addAccessionStyle:!0})))),o&&n.createElement(m.Z,{includeSettings:!1},n.createElement("div",{className:f("menu-grid")},n.createElement(_,{count:i,fileType:"json"}),n.createElement(_,{count:i,fileType:"tsv"}),s&&n.createElement(u.Z,{type:"api",url:(0,v.Y2)(b(s,p,r))}))))}))},77180:(e,t,a)=>{a.d(t,{Z:()=>c}),a(268);var n=a(67294),s=a(29643),i=(0,a(76371).Z)({"ida-text-domain":"TextIDA_style__ida-text-domain___ce"});const c=e=>{var{accessions:t}=e;return n.createElement("div",{style:{display:"flex"}},n.createElement("div",null,t.map(((e,t)=>n.createElement(n.Fragment,{key:t},0!==t&&" - ",n.createElement("span",{className:i("ida-text-domain")},n.createElement(s.Z,{to:{description:{main:{key:"entry"},entry:{db:e.toLowerCase().startsWith("ipr")?"InterPro":"pfam",accession:e}}}}," ",e)))))))}},96753:(e,t,a)=>{a.d(t,{HR:()=>D,ZP:()=>O,rg:()=>P}),a(752),a(73964),a(76265),a(278),a(60429),a(64043),a(61514),a(86544),a(57267);var n=a(67294),s=a(19119),i=a(8575),c=a(10838),o=a(29643),r=a(85869),l=a(65455),d=a(95524),m=a(40730),u=a(5064),p=a(65013),h=a(7877),_=a(77180),g=a(34287),y=a(21105),v=a(9033),f=a(63139),b=a(76371),E=a(82806),w=a(44543),Z=(0,b.Z)({svgContainer:"DomainArchitectures_style__svgContainer___a2",svg:"DomainArchitectures_style__svg___ae",guidelines:"DomainArchitectures_style__guidelines___f5",highlight:"DomainArchitectures_style__highlight___ee","ida-protvista":"DomainArchitectures_style__ida-protvista___e2","track-component":"DomainArchitectures_style__track-component___f7","track-placehoder":"DomainArchitectures_style__track-placehoder___f2","track-accession":"DomainArchitectures_style__track-accession___bc"},w.Z,E.Z),k=(0,y.Z)({loader:()=>a.e(1169).then(a.bind(a,25392)),loading:()=>null}),S=1e3,L=e=>({"@id":"@additionalProperty","@type":"PropertyValue",name:"isContainedIn",value:[{"@type":"CreativeWork",additionalType:"DomainArchitecture",identifier:e.ida_id,name:e.ida}]}),P=(e,t,a)=>{var n=e.split("-"),s=n.length,i=(S-5*(s+1))/s,c=t?[...t.domains]:[],o=n.map(((e,n)=>{var[s,o]=e.split(":"),[r,l]=e.split(":"),d=[{fragments:[{start:5+n*(5+i),end:(n+1)*(5+i)}]}];if(t){var[m,u]=c.splice(0,o?2:1);(null==m?void 0:m.name)&&(r=m.name),(null==u?void 0:u.name)&&(l=u.name),d="pfam"===a?null==m?void 0:m.coordinates:(null==u?void 0:u.coordinates)||(null==m?void 0:m.coordinates)}return{accession:"pfam"===a?s:o||s,name:"pfam"===a?r:l||r,unintegrated:!o,locations:d}})),r=o.reduce(((e,t)=>(e[t.accession]?e[t.accession].locations.push(t.locations[0]):e[t.accession]=Object.assign(Object.assign({},t),{locations:[...t.locations]}),e)),{});return{length:(null==t?void 0:t.length)||S,domains:Object.values(r),accessions:o.map((e=>e.accession))}},D=e=>{var{data:t,mainAccession:a,search:s,dataDB:i,highlight:c=[],idaAccessionDB:g,database:y}=e,{loading:v,payload:b,status:E}=t||{};if(v||(null==i?void 0:i.loading))return n.createElement(r.Z,null);var w=m.dG.get(E||0);if(w)return n.createElement(u.ZP,{text:w,status:E||0});if(!(null==b?void 0:b.results))return null;var D,A=0===c.length&&a?[a]:c;D=0===b.count?n.createElement(l.Z,{type:"warning"},"No domain architectures found. Domain architectures are determined for Pfam entries, and InterPro entries that integrate Pfam entries."):n.createElement("h4",null,b.count," domain architectures");var N,O,T=(N=b.results||[],0===(O=Math.max(...N.map((e=>{var t;return(null===(t=null==e?void 0:e.representative)||void 0===t?void 0:t.length)||0}))))?S:100*Math.ceil(O/100));return n.createElement("div",{className:Z("vf-stack","vf-stack--400")},D,n.createElement(p.Z,{showDBSelector:!y,count:b.count}),(b.results||[]).map((e=>{var t,s,c=(y||g||"").toLowerCase(),r=P(e.ida,e.representative,c),l=null===(t=null==e?void 0:e.representative)||void 0===t?void 0:t.accession;return n.createElement("div",{key:e.ida_id,className:Z("margin-bottom-large")},n.createElement(k,{data:e,processData:L}),n.createElement("div",null,n.createElement(o.Z,{to:{description:{main:{key:"protein"},protein:{db:"UniProt"},entry:{db:y||g,accession:a}},search:{ida:e.ida_id}}},"There ",e.unique_proteins>1?"are":"is"," ",e.unique_proteins," ",(0,f.iZ)("protein",e.unique_proteins)," "),"with this architecture",l&&n.createElement(n.Fragment,null," ","(represented by"," ",n.createElement(o.Z,{to:{description:{main:{key:"protein"},protein:{db:"uniprot",accession:l}}}},l),")"),":"),n.createElement(_.Z,{accessions:r.accessions}),n.createElement(h.Z,{matches:r.domains,length:r.length,maxLength:T,databases:(null===(s=null==i?void 0:i.payload)||void 0===s?void 0:s.databases)||{},highlight:A}))})),n.createElement(d.Z,{withPageSizeSelector:!0,actualSize:b.count,pagination:s||{},nextAPICall:b.next,previousAPICall:b.previous,notFound:!1}))},A=(0,s.P1)((e=>e.settings.api),(e=>e.customLocation.description),(e=>e.customLocation.search),((e,t,a)=>{var{protocol:n,hostname:s,port:o,root:r}=e,{type:l,search:d}=a,m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]])}return a}(a,["type","search"]);return m.ida="",(0,i.format)({protocol:n,hostname:s,port:o,pathname:r+(0,c.Z)(t).replace("domain_architecture",""),query:m})})),N=(0,s.P1)((e=>e.customLocation.description.main.key&&e.customLocation.description[e.customLocation.description.main.key].accession),(e=>e.customLocation.search),(e=>e.settings.ui),((e,t,a)=>{var{idaAccessionDB:n}=a;return{mainAccession:e,search:t,idaAccessionDB:n}}));const O=(0,g.Z)({getUrl:v.g$,propNamespace:"DB"})((0,g.Z)({getUrl:A,mapStateToProps:N})(D))},76820:(e,t,a)=>{a.d(t,{Z:()=>o}),a(752),a(76265),a(60429);var n=a(67294),s=a(76371),i=a(82806),c=(0,s.Z)(i.Z,{"new-switch":"ToggleSwitch_style__new-switch___f6","switch-input":"ToggleSwitch_style__switch-input___b8","switch-paddle":"ToggleSwitch_style__switch-paddle___c6","switch-active":"ToggleSwitch_style__switch-active___d8","switch-inactive":"ToggleSwitch_style__switch-inactive___d2",tiny:"ToggleSwitch_style__tiny___a1",small:"ToggleSwitch_style__small___d3",large:"ToggleSwitch_style__large___e1",disabled:"ToggleSwitch_style__disabled___fa","accession-selector":"ToggleSwitch_style__accession-selector___cc"});const o=e=>{var{name:t="switch",id:a,size:s="large",switchCond:i,disabled:o=!1,label:r,SRLabel:l,onValue:d="On",offValue:m="Off",handleChange:u,addAccessionStyle:p=!1,width:h}=e,[_,g]=(0,n.useState)(i);(0,n.useEffect)((()=>{g(i)}),[i]);var y=h?{width:h}:{};return n.createElement("div",{className:c("new-switch",s)},n.createElement("label",{htmlFor:a},n.createElement("input",{type:"checkbox",checked:_,className:c("switch-input"),name:t,id:a,onChange:e=>{u?u(e):g(!_)},disabled:o}),r,n.createElement("label",{className:c("switch-paddle",p?"accession-selector":"",o?"disabled":""),style:Object.assign({},y),htmlFor:a},l?n.createElement("span",{className:c("show-for-sr")},l,":"):null,n.createElement("span",{className:c("switch-active"),"aria-hidden":"true"},d),n.createElement("span",{className:c("switch-inactive"),"aria-hidden":"true"},m))))}},61334:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r}),a(86544);var n=a(67294),s=a(45007),i=a(19119),c=a(96753),o=(0,i.P1)((e=>e.customLocation.description.main.key),(e=>e.customLocation.description[e.customLocation.description.main.key].db),((e,t)=>({mainType:e,database:t})));const r=(0,s.$j)(o)((e=>{var{mainType:t,database:a}=e;return"entry"===t&&a?n.createElement(c.ZP,{database:a}):null}))}}]);
//# sourceMappingURL=7356.module.domain-architecture-subpage.a0a.js.map