"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[977],{85345:(e,t,a)=>{a.r(t),a.d(t,{BlogEntries:()=>b,BlogEntry:()=>m,default:()=>f}),a(752),a(76265),a(60429);var s=a(67294),r=a(34287),i=a(29643),o=a(2191),n=a(53477),l=a(12062),c=a(96597),g=a(76371),d=a(82806),u=a(29143),h=a(35395),p=(0,g.Z)(d.Z,{content:"BlogEntries_styles__content___f6","read-all":"BlogEntries_styles__read-all___a2","blogs-container":"BlogEntries_styles__blogs-container___bd",description:"BlogEntries_styles__description___e6","image-blog-default":"BlogEntries_styles__image-blog-default___f5","image-blog-biology":"BlogEntries_styles__image-blog-biology___f1","image-blog-protein":"BlogEntries_styles__image-blog-protein___cb","image-blog-technical":"BlogEntries_styles__image-blog-technical___f8","image-blog-website":"BlogEntries_styles__image-blog-website___b0","image-blog-newweb":"BlogEntries_styles__image-blog-newweb___f0","image-blog-newskin":"BlogEntries_styles__image-blog-newskin___d0","image-blog-iceberg":"BlogEntries_styles__image-blog-iceberg___a6","image-blog-type":"BlogEntries_styles__image-blog-type___cc"},u.Z,h.Z),_="https://proteinswebteam.github.io/interpro-blog",m=e=>{var{category:t,author:a,excerpt:r,title:l,url:g,published:d,image_category:u}=e;return s.createElement(n.C,{imageIconClass:p("image-blog-"+(u||"default")),imageComponent:s.createElement("div",{className:p("card-tag","tag-"+("focus"===t?"focus":"blog"))},s.createElement(o.Z,{title:"View all "+("focus"===t?"Protein focus":"Blog articles")},s.createElement(i.Z,{href:_+"/categories/"+t+"/",target:"_blank",className:p("white-link")},"focus"===t?"Protein focus":"Blog"))),title:s.createElement(i.Z,{href:g,target:"_blank"},l),subHeader:s.createElement(s.Fragment,null,a&&s.createElement("div",{className:p("card-info-author")},s.createElement("em",{className:p("icon","icon-common"),"data-icon":""})," ",a&&" "+a," "),d&&s.createElement("div",{className:p("icon","icon-common"),"data-icon":"","aria-label":"Date"}," ",d.substring(0,10))),linkForMore:g},s.createElement("div",{className:p("description"),dangerouslySetInnerHTML:{__html:(0,c.AK)(r)}}))},b=e=>{var{data:t}=e;if(!t)return null;var{loading:a,payload:r}=t;return a?"Loading…":r?s.createElement("section",null,s.createElement(l.Z,{measurements:["width"],element:"div"},(e=>{var{width:t}=e;return s.createElement("div",{className:p("blogs-container","vf-grid")},Object.entries(r).slice(0,Math.min(t/300)).map((e=>{var[t,a]=e;return s.createElement(m,Object.assign({},a,{key:t}))})))})),s.createElement("div",{className:p("blogs-container","vf-grid","read-all")},s.createElement(i.Z,{href:""+_,target:"_blank",buttonType:"primary"},"Read all articles"))):null};const f=(0,r.Z)({getUrl:()=>_+"/feed.json",fetchOptions:{responseType:"json",useCache:!1}})(b)},34287:(e,t,a)=>{a.d(t,{Z:()=>_}),a(73964),a(60429),a(752),a(51090),a(76265);var s=a(67294),r=a(45007),i=a(19119),o=a(74482),n=a(66467),l=a(87616),c=a(94028),g=a(72004),d=a(27262),u=function(e,t,a,s,r){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?r.call(e,a):r?r.value=a:t.set(e,a),a},h=function(e,t,a,s){if("a"===a&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?s:"a"===a?s.call(e):s?s.value:t.get(e)},p=(0,i.P1)((e=>e),(e=>({appState:e})));const _=e=>{var{getUrl:t,fetchOptions:a,propNamespace:i,weight:_,mapStateToProps:m,mapDispatchToProps:b}=(0,c.Z)(e),f=(0,g.Z)(a),v=e=>({loading:!!e,progress:0,ok:!0,status:null,payload:null,url:e});return e=>{var c,g;class y extends s.PureComponent{constructor(e){super(e),c.set(this,void 0),g.set(this,void 0),this.timeoutID=0,this._cancel=()=>{var e,t;h(this,g,"f")&&h(this,g,"f").cancel(),null===(t=(e=this.props).dataProgressUnload)||void 0===t||t.call(e,h(this,c,"f"))},this._progress=e=>{var t,a;this.setState((t=>{var{data:a}=t;return{data:Object.assign(Object.assign({},a),{progress:e})}})),null===(a=(t=this.props).dataProgressInfo)||void 0===a||a.call(t,h(this,c,"f"),e,_)},this._load=e=>{return t=this,s=void 0,i=function*(){var t,s,r,i,o,l,d;if(e){null===(s=(t=this.props).dataProgressInfo)||void 0===s||s.call(t,h(this,c,"f"),0,_),u(this,g,(0,n.Z)((t=>f(e,Object.assign(Object.assign({},a),{signal:t}),this._progress,this.props.addToast))),"f");var p=h(this,g,"f");try{var m=yield p.promise;gtag("event","data",{event_category:"data",event_response:m.status,event_label:e,event_clientcache:m.headers.has("Client-Cache")?1:0,event_cache:m.headers.has("Cached")?1:0}),this.setState((e=>{var{data:t}=e,a=Object.assign(Object.assign(Object.assign({},t),m),{progress:1,loading:!1});return{data:a,staleData:a}})),null===(i=(r=this.props).dataProgressInfo)||void 0===i||i.call(r,h(this,c,"f"),1,_);var b=1e3*((null===(o=this.props.appState)||void 0===o?void 0:o.settings.navigation.secondsToRetry)||0);408===m.status&&(this.timeoutID=window.setTimeout((()=>{console.log("Retrying the Timed out query"),this.setState({retries:this.state.retries+1})}),b))}catch(t){p.canceled||(gtag("event","error",{event_category:"data",event_status:"fail",event_label:e,event_online:window.navigator.onLine?1:0}),this.setState((e=>{var{data:a}=e;return{data:Object.assign(Object.assign({},a),{loading:!1,progress:1,ok:!1,error:t})}})),null===(d=(l=this.props).dataProgressInfo)||void 0===d||d.call(l,h(this,c,"f"),1,_))}}else this.setState({staleData:Object.assign({},this.state.data)})},new((r=void 0)||(r=Promise))((function(e,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function n(e){try{l(i.throw(e))}catch(e){a(e)}}function l(t){var a;t.done?e(t.value):(a=t.value,a instanceof r?a:new r((function(e){e(a)}))).then(o,n)}l((i=i.apply(t,s||[])).next())}));var t,s,r,i},u(this,c,(0,o.Z)("data-loader"),"f");var s=(null==t?void 0:t(e.appState||{},e))||"";this.state={url:s,data:v(s),staleData:void 0,retries:0}}static getDerivedStateFromProps(e,a){var s=(null==t?void 0:t(e.appState||{},e))||"";return a.url===s?null:{data:v(s),url:s}}componentDidMount(){this._load(this.state.url)}componentDidUpdate(e,t){t.url===this.state.url&&t.retries===this.state.retries||(this._cancel(),this._load(this.state.url))}componentWillUnmount(){this._cancel(),this.timeoutID&&window.clearTimeout(this.timeoutID)}render(){var t=this.props,{dataProgressInfo:a,dataProgressUnload:r,addToast:o,appState:n}=t,l=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(a[s[r]]=e[s[r]])}return a}(t,["dataProgressInfo","dataProgressUnload","addToast","appState"]),c="isStale"+i,g={["data"+i]:this.state.staleData||this.state.data,[c]:this.state.staleData!==this.state.data};return this.state.data&&!this.state.data.loading&&this.state.data.url===this.state.url&&(g["isStale"+i]=!1),s.createElement(d.m,{customLocation:null==n?void 0:n.customLocation},s.createElement(e,Object.assign({},l,g,(null==m?void 0:m(n,Object.assign(Object.assign({},l),g)))||{})))}}c=new WeakMap,g=new WeakMap,y.displayName="loadData("+(e.displayName||e.name)+")";var w=Object.assign({dataProgressInfo:l.fF,dataProgressUnload:l.ks,addToast:l.fz},b);return(0,r.$j)(p,w)(y)}}}}]);
//# sourceMappingURL=977.module.blog-entries.6cc.js.map