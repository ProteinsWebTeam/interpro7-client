"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[1602],{57359:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(67294),r=a(2191),s=a(29643),l=a(719),o=a(5647),c=a(63139),i=a(76371),m=a(40025),u=a(82806),_=(0,i.Z)(m.Z,u.Z),d={entry:"icon-entries",protein:"icon-proteins",proteome:"icon-count-proteome",taxonomy:"icon-count-species",structure:"icon-structures",set:"icon-count-set","domain architecture":"icon-count-ida"};const p=e=>{var{count:t,endpoint:a,name:i,to:m,db:u,signature:p}=e;return n.createElement(r.Z,{title:p?u+" signature: "+p:t+" "+(0,c.iZ)(a,t,!0)+" matching "+i,className:_("icon-link"),style:{display:"flex"}},n.createElement(s.Z,{to:m,className:_(t?null:"ico-disabled"),disabled:!t||!m},n.createElement("div",{className:_("icon","icon-conceptual","icon-wrapper",d[a])},"entry"===a&&n.createElement("div",{style:{position:"relative",top:"7px",left:"-2px"}},n.createElement(o.Z,{type:u||"all",className:_("md-small")})),0!==t&&n.createElement("div",{className:_("icon-over-animation")})),!p&&n.createElement(l.ZP,{abbr:!0},t)))}},53477:(e,t,a)=>{a.d(t,{C:()=>i});var n=a(67294),r=a(29643),s=a(76371),l=a(29143),o=a(82806),c=(0,s.Z)(l.Z,o.Z);const i=e=>{var{title:t,imageComponent:a,imageIconClass:s,subHeader:l,footer:o,linkForMore:i,labelForMore:m,compact:u=!1,className:_="",children:d}=e;return n.createElement("div",{className:c("new-card",_,{compact:u})},(a||s||t||l)&&n.createElement("header",null,(a||s)&&n.createElement("div",{className:c("image",s,{icon:!!s})},a),t&&n.createElement("div",{className:c("title")},t),l&&n.createElement("div",{className:c("subheader")},l)),n.createElement("section",{className:c("content")},d),(o||i)&&n.createElement(n.Fragment,null,n.createElement("div",{className:c("footer")},o,i&&n.createElement("div",{className:c("card-more")},n.createElement(r.Z,{href:i,target:"_blank",buttonType:"tertiary"},n.createElement("span",{className:c("icon","icon-common","icon-right"),"data-icon":""})," ",m||"See more"))," ")))}},7464:(e,t,a)=>{a.d(t,{Q:()=>r}),a(752),a(76265);var n=new Map([["x-ray","X-ray"],["nmr","NMR"],["all","All"],["em","Cryo-EM"]]),r=e=>n.get((e||"").toLowerCase())||e.toUpperCase()},62868:(e,t,a)=>{a.r(t),a.d(t,{default:()=>we}),a(752),a(73964),a(76265),a(86544),a(64043),a(61514),a(60429);var n=a(67294),r=a(29643),s=a(18677),l=a(55402),o=a(67289),c=(a(65137),a(19119)),i=a(8575),m=a(719),u=a(7464),_=a(34287),d=a(10838),p=a(87616),b=a(76371),h=a(73467),y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},g=(0,b.Z)(h.Z),v=(0,c.P1)((e=>e.settings.api),(e=>e.customLocation.description),(e=>e.customLocation.search),((e,t,a)=>{var{protocol:n,hostname:r,port:s,root:l}=e,{experiment_type:o,search:c,cursor:m}=a,u=y(a,["experiment_type","search","cursor"]);return u.group_by="experiment_type",(0,i.format)({protocol:n,hostname:r,port:s,pathname:l+(0,d.Z)(t),query:u})})),E=(0,c.P1)((e=>e.customLocation),(e=>({customLocation:e})));const f=(0,_.Z)({getUrl:v,mapStateToProps:E,mapDispatchToProps:{goToCustomLocation:p.xb}})((e=>{var{data:t,isStale:a,customLocation:r,goToCustomLocation:s}=e;if(!t||!r)return null;var{loading:l,payload:c}=t,i=r.search,_=(0,o.uQ)(Object.assign(Object.assign({},{"x-ray":NaN,nmr:NaN,em:NaN}),c),l,a),d=Object.entries(_).filter((e=>{var[t,a]=e;return!!a})).sort(((e,t)=>{var[,a]=e,[,n]=t;return n-a}));l||d.unshift(["All",NaN]);var p=e=>{var{target:t}=e,a=t.value,n=r.search,{page:l,cursor:o,experiment_type:c}=n,i=y(n,["page","cursor","experiment_type"]);"All"!==a&&(i.experiment_type=a),"nmr"===a&&i.resolution&&delete i.resolution,null==s||s(Object.assign(Object.assign({},r),{search:i}))};return n.createElement("div",{style:{overflowX:"hidden"},className:g("list-experiment",{stale:a})},n.createElement("div",{className:g("filter")},d.map((e=>{var[t,r]=e,s=!i.experiment_type&&"All"===t||i.experiment_type===t;return n.createElement("label",{key:t,className:g("radio-btn-label",{checked:s})},n.createElement("input",{type:"radio",name:"experiment_type",className:g("radio-btn"),value:t,disabled:a,onChange:p,checked:s,style:{margin:"0.25em"}}),n.createElement("span",null,(0,u.Q)(t)),void 0===r||isNaN(r)?null:n.createElement(m.ZP,{label:!0,loading:l,className:g("filter-label"),abbr:!0},r))}))))}));a(22462);var x=a(45007),C=a(85724),Z=a(45697),N=a.n(Z),w=a(19845),O=["min","max","minValue","maxValue","aria-label","style","className","disabled"];function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},k.apply(this,arguments)}var j=a.n(w)().bind({"multirange-wrapper":"MultipleInput_style__multirange-wrapper___bb",original:"MultipleInput_style__original___a4",ghost:"MultipleInput_style__ghost___de","label-max":"MultipleInput_style__label-max___c0","label-min":"MultipleInput_style__label-min___d2"}),L=N().oneOfType([N().number,N().string]);class P extends n.PureComponent{render(){var e=this.props,{min:t,max:a,minValue:r,maxValue:s,"aria-label":l,className:o,disabled:c}=e,i=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,O);return n.createElement("div",{className:j("multirange-wrapper","label-off",o)},n.createElement("div",{className:j("small","label-min"),style:{left:20}},"length range"===l?n.createElement("span",null,Math.round(Math.exp(r))):n.createElement("span",null,r)),n.createElement("div",{className:j("small","label-max"),style:{right:0}},"length range"===l?n.createElement("span",null,Math.round(Math.exp(s))):n.createElement("span",null,s)),n.createElement("input",k({},i,{type:"range",min:t,max:a,name:"min",value:r,className:j("original"),"aria-label":l&&l+" lower bound",disabled:c})),n.createElement("input",k({},i,{type:"range",min:t,max:a,name:"max",value:s,className:j("ghost"),"aria-label":l&&l+" higher bound",disabled:c})))}}P.propTypes={min:L,max:L,minValue:L.isRequired,maxValue:L.isRequired,"aria-label":N().string,style:N().object,className:N().string,disabled:N().bool};const T=P;var M=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},I=(0,b.Z)({range:"ResolutionFilter_style__range___f7",hideable:"ResolutionFilter_style__hideable___f1",hidden:"ResolutionFilter_style__hidden___e8"},h.Z),S=0,R=100,A=-1,F=[[0,2],[2,4],[4,100]],D=/^(\d*(\.\d+)?)-(\d*(\.\d+)?)$/;class V extends n.PureComponent{constructor(e){var t;super(e),this._updateLocation=(0,C.Z)((e=>{var{min:t,max:a}=this.state,{goToCustomLocation:n,customLocation:r}=this.props;if(r){var s=r.search,{page:l,cursor:o,resolution:c}=s,i=M(s,["page","cursor","resolution"]);e&&l&&(i.page=l),t===S&&a===R||(i.resolution=t+"-"+a),r.search.page===i.page&&r.search.resolution===i.resolution||null==n||n(Object.assign(Object.assign({},r),{search:i}),!0)}}),500),this._handleSelection=e=>{var t,a,{target:n}=e;if(this.props.customLocation){var r=n.value,s=this.props.customLocation.search,{page:l,cursor:o,resolution:c}=s,i=M(s,["page","cursor","resolution"]);if(+r!==A&&+r<F.length){var[m,u]=F[+r];i.resolution=m+"-"+u,this.setState({min:m,max:u,selectedRange:+r})}else this.setState({min:S,max:R,selectedRange:A});null===(a=(t=this.props).goToCustomLocation)||void 0===a||a.call(t,Object.assign(Object.assign({},this.props.customLocation),{search:i}))}},this._handleChange=e=>{var{target:t}=e;if(this.props.customLocation){var{value:a,name:n}=t,r=n;this.setState((e=>{var{min:t,max:n}=e;return{[r]:"min"===r?Math.min(n,Math.max(S,+a)):Math.max(t,Math.min(R,+a))}}),(()=>{var e;(null===(e=this.props.customLocation)||void 0===e?void 0:e.search.resolution)&&this._updateLocation()}))}};var[,a=S,,n=R]=((null===(t=e.customLocation)||void 0===t?void 0:t.search.resolution)||"").match(D)||[],r=this._getSelectedRange(Number(a),Number(n));this.state={min:Math.min(R,Math.max(S,+a)),max:Math.max(S,Math.min(R,+n)),selectedRange:r}}componentDidMount(){this._updateLocation(!0),this._updateLocation.flush()}componentWillUnmount(){this._updateLocation.cancel()}_getSelectedRange(e,t){if(e!==S||t!==R)for(var a=0;a<F.length;a++)if(e<F[a][1])return a;return A}render(){if(!this.props.customLocation)return null;var{customLocation:{search:{resolution:e}}}=this.props,{min:t,max:a,selectedRange:r}=this.state,s=!1;return"nmr"===this.props.customLocation.search.experiment_type&&(s=!s),n.createElement("div",{className:I("filter")},n.createElement("label",{className:I("radio-btn-label",{checked:r===A})},n.createElement("input",{type:"radio",name:"resolution",value:A,onChange:this._handleSelection,checked:r===A,className:I("radio-btn"),disabled:s}),n.createElement("span",null,"All")),F.map(((e,t)=>n.createElement("label",{key:t,className:I("radio-btn-label",{checked:r===t})},n.createElement("input",{type:"radio",name:"resolution",value:t,className:I("radio-btn"),onChange:this._handleSelection,checked:r===t,disabled:s}),n.createElement("span",null,e[0]," - ",e[1]," Å")))),n.createElement(T,{min:r===A?S:F[r][0],max:r===A?R:F[r][1],minValue:t,maxValue:a,step:r>1?1:.05,onChange:this._handleChange,"aria-label":"resolution range",className:I("range"),disabled:!e}))}}var q=(0,c.P1)((e=>e.customLocation),(e=>({customLocation:e})));const B=(0,x.$j)(q,{goToCustomLocation:p.xb})(V),H=()=>n.createElement(o.ZP,null,n.createElement(f,{label:"Experiment Type"}),n.createElement(B,{label:"Resolution (Å)"}));var K=a(53477),U=a(35692),X=a(2191),Q=a(57359),$=a(40025),z=(0,b.Z)($.Z);const W=e=>{var{entryDB:t,structureName:a,structureAccession:r,counters:s}=e,{entries:l,proteins:o,taxa:c}=s;return n.createElement("div",{className:z("card-counter-block")},n.createElement(Q.Z,{endpoint:"entry",count:l,name:a,db:t,to:{description:{main:{key:"structure"},structure:{db:"pdb",accession:r},entry:{isFilter:!0,db:t||"all"}}}}),n.createElement(Q.Z,{endpoint:"protein",count:o,name:a,to:{description:{main:{key:"structure"},structure:{db:"pdb",accession:r},protein:{isFilter:!0,db:"UniProt"}}}}),n.createElement(Q.Z,{endpoint:"taxonomy",count:c,name:a})," ")};var Y=a(85869),G=(0,b.Z)({container:"TaxnameStructures_style__container___aa",marquee:"TaxnameStructures_style__marquee___bf"}),J=(0,c.P1)((e=>e.settings.api),((e,t)=>t.accession),((e,t)=>{var{protocol:a,hostname:n,port:r,root:s}=e;return(0,i.format)({protocol:a,hostname:n,port:r,pathname:s+(0,d.Z)({main:{key:"taxonomy"},taxonomy:{db:"uniprot"},structure:{isFilter:!0,db:"pdb",accession:t}})})}));const ee=(0,_.Z)(J)((e=>{var{data:t}=e;if(!t)return null;var{loading:a,payload:r}=t;return a?n.createElement(Y.Z,{inline:!0}):r?n.createElement("div",{className:G("container")},n.createElement("div",{className:G({marquee:r.results.length>1})},r.results.map((e=>{var t=e.metadata.name,a=e.metadata.accession;return n.createElement("div",{key:a},n.createElement(X.Z,{title:t+" (Tax ID: "+a+")"},t))})))):null}));var te=a(66681);const ae=e=>{var{data:t,search:a,entryDB:s}=e;return n.createElement(K.C,{title:n.createElement(r.Z,{to:{description:{main:{key:"structure"},structure:{db:t.metadata.source_database,accession:t.metadata.accession}}}},n.createElement(U.Z,{text:t.metadata.name,textToHighlight:a})),imageComponent:n.createElement(X.Z,{title:"3D visualisation of "+t.metadata.accession},n.createElement(l.Z,{src:"//www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/getimg.pl?source=pdbsum&pdb_code="+t.metadata.accession+"&file=traces.jpg",alt:"PDBe entry "+t.metadata.accession})),subHeader:n.createElement(n.Fragment,null,"x-ray"===t.metadata.experiment_type&&n.createElement(X.Z,{title:"X-ray, resolution "+t.metadata.resolution+" Å"},t.metadata.experiment_type,": ",t.metadata.resolution,"Å"),"nmr"===t.metadata.experiment_type&&n.createElement(X.Z,{title:"Nuclear Magnetic Resonance"},t.metadata.experiment_type)),footer:n.createElement(n.Fragment,null,n.createElement(te.Z,null,(e=>e?n.createElement(ee,{accession:t.metadata.accession}):null)),n.createElement("div",null,n.createElement(U.Z,{text:t.metadata.accession||"",textToHighlight:a})))},t.extra_fields&&t.metadata&&t.extra_fields.counters&&n.createElement(W,{structureName:t.metadata.name,structureAccession:t.metadata.accession,entryDB:s,counters:t.extra_fields.counters}))};var ne=a(41089),re=a(35096),se=a(16392),le=a(21105),oe=a(63294),ce=a(61759),ie=a(43596),me=a(52727),ue=a(45913),_e=a(82806),de=a(77222),pe=a(83373),be=a(29239),he=a(21223),ye=a(72694),ge=(0,b.Z)(ue.Z,de.Z,_e.Z,pe.Z,be.Z,he.Z),ve=(0,le.Z)({loader:()=>Promise.all([a.e(7591),a.e(8810)]).then(a.bind(a,86503)),loading:()=>null}),Ee=(0,le.Z)({loader:()=>a.e(1169).then(a.bind(a,25392)),loading:()=>null}),fe=e=>{var{description:t,search:a,count:r,fileType:s,name:l}=e;return n.createElement(re.Z,{fileType:s,name:"structures."+s,count:r,customLocationDescription:t,search:a,endpoint:"structure"})},xe=e=>{var t,{data:a,customLocation:o,isStale:c,dataBase:i}=e;if(!a||!o)return null;var{payload:m,loading:_,ok:p,url:b,status:h}=a,{description:y,search:g}=o,{structure:{db:v}}=y,E=y.entry.db,f=m,x=!_&&200!==h,C=null===(t=null==i?void 0:i.payload)||void 0===t?void 0:t.databases;(_||x)&&(f={results:[],count:0,next:null,previous:null});var Z=(null==f?void 0:f.count)||0,N=b;return n.createElement("div",{className:ge("row","filters-and-table")},n.createElement("nav",null,n.createElement("div",{className:ge("browse-side-panel")},n.createElement("div",{className:ge("selector-container")},n.createElement(s.Z,{contentType:"structure",className:"pp-left-side-db-selector"})),n.createElement("hr",{style:{paddingTop:"0.5rem"}}),n.createElement(H,null))),n.createElement("section",null,C&&v&&C[v.toLowerCase()]&&n.createElement(Ee,{data:{data:{db:C[v.toLowerCase()]},location:window.location},processData:oe.B5}),n.createElement(ne.ZP,{dataTable:null==f?void 0:f.results,contentType:"structure",loading:_,ok:p,status:h,isStale:c,actualSize:Z,query:g,notFound:x,withGrid:!!N,databases:C,nextAPICall:null==f?void 0:f.next,previousAPICall:null==f?void 0:f.previous,currentAPICall:b},n.createElement(ne.uX,null,n.createElement("div",{className:ge("menu-grid")},n.createElement(fe,{name:"json",description:y,search:g,count:Z,fileType:"json"}),n.createElement(fe,{name:"tsv",description:y,search:g,count:Z,fileType:"tsv"}),n.createElement(se.Z,{type:"api",url:(0,ye.Y2)(b)}),n.createElement(se.Z,{search:g,type:"scriptgen",subpath:(0,d.Z)(y)}))),n.createElement(ne.xw,null),n.createElement(ne.Zb,null,(e=>n.createElement(ae,{data:e,search:g.search,entryDB:E}))),n.createElement(ne.Rj,{loading:c},"Search structures"),n.createElement(ne.kY,null),n.createElement(ne.sg,{dataKey:"accession",headerClassName:ge("table-center"),cellClassName:ge("table-center"),renderer:(e,t)=>n.createElement(r.Z,{to:t=>Object.assign(Object.assign({},t),{description:{main:{key:"structure"},structure:{db:t.description.structure.db,accession:e}},search:{}})},n.createElement(Ee,{data:{data:{row:t,endpoint:"structure"},location:window.location},processData:oe.sX}),n.createElement(U.Z,{text:e||"",textToHighlight:g.search}))},"Accession"),n.createElement(ne.sg,{dataKey:"name",renderer:(e,t)=>{var{accession:a}=t;return n.createElement(r.Z,{to:e=>Object.assign(Object.assign({},e),{description:{main:{key:"structure"},structure:{db:e.description.structure.db,accession:a}},search:{}})},n.createElement(U.Z,{text:e.toUpperCase(),textToHighlight:g.search}))}},"Name"),n.createElement(ne.sg,{dataKey:"experiment_type",headerClassName:ge("table-center"),cellClassName:ge("table-center"),renderer:e=>(0,u.Q)(e)},"Experiment type"),n.createElement(ne.sg,{dataKey:"resolution",headerClassName:ge("table-center"),cellClassName:ge("table-center"),renderer:e=>e?e+("number"==typeof e?" Å":""):""},"Resolution"),n.createElement(ne.sg,{dataKey:"accession",headerClassName:ge("table-center"),cellClassName:ge("table-center"),defaultKey:"structureAccession",renderer:e=>n.createElement(r.Z,{to:t=>Object.assign(Object.assign({},t),{description:{main:{key:"structure"},structure:{db:t.description.structure.db,accession:e}},search:{}})},n.createElement(l.Z,{src:"//www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/getimg.pl?source=pdbsum&pdb_code="+e+"&file=traces.jpg",alt:"structure with accession "+e,style:{maxWidth:"33%"}}))},"Structure"))))},Ce=new Map;for(var Ze of me.default.pages.structure.subPages)Ce.set(Ze,ie.Z.get(Ze));var Ne=/^[a-z\d]{4}$/i;const we=()=>n.createElement(ce.Z,{subpagesRoutes:Ne,listOfEndpointEntities:xe,SummaryAsync:ve,subPagesForEndpoint:Ce})},40025:(e,t,a)=>{a.d(t,{Z:()=>n});const n={"icon-link":"CounterIcon_styles__icon-link___c3","icon-over-animation":"CounterIcon_styles__icon-over-animation___ef","icon-wrapper":"CounterIcon_styles__icon-wrapper___b8","md-small":"CounterIcon_styles__md-small___a8","mod-img-pos":"CounterIcon_styles__mod-img-pos___c0",icon:"CounterIcon_styles__icon___e4","icon-count-species":"CounterIcon_styles__icon-count-species___e0","icon-count-ida":"CounterIcon_styles__icon-count-ida___ce","icon-count-set":"CounterIcon_styles__icon-count-set___de","icon-count-hmm":"CounterIcon_styles__icon-count-hmm___c7","icon-count-proteome":"CounterIcon_styles__icon-count-proteome___ad","card-counter-block":"CounterIcon_styles__card-counter-block___de"}},29143:(e,t,a)=>{a.d(t,{Z:()=>n});const n={"new-card":"Card_styles__new-card___df",image:"Card_styles__image___b8","card-tag":"Card_styles__card-tag___bf",icon:"Card_styles__icon___d1",title:"Card_styles__title___fb",subheader:"Card_styles__subheader___ca",content:"Card_styles__content___f0",footer:"Card_styles__footer___fe","card-more":"Card_styles__card-more___c3","button-more":"Card_styles__button-more___f8",compact:"Card_styles__compact___e9","tag-publi":"Card_styles__tag-publi___f0","tag-tuto":"Card_styles__tag-tuto___b1","tag-tool":"Card_styles__tag-tool___dd","tag-focus":"Card_styles__tag-focus___e5","tag-blog":"Card_styles__tag-blog___a7","white-link":"Card_styles__white-link___a2","card-info-author":"Card_styles__card-info-author___e9",button:"Card_styles__button___ee",hollow:"Card_styles__hollow___d5",secondary:"Card_styles__secondary___d8","margin-bottom-large":"Card_styles__margin-bottom-large___d8"}},29239:(e,t,a)=>{a.d(t,{Z:()=>n});const n={label:"styles_theme-interpro__label___ce",special:"styles_theme-interpro__special___ed",button:"styles_theme-interpro__button___ca",primary:"styles_theme-interpro__primary___ba",menu:"styles_theme-interpro__menu___a8",active:"styles_theme-interpro__active___fc",tag:"styles_theme-interpro__tag___e6",disabled:"styles_theme-interpro__disabled___b8",warning:"styles_theme-interpro__warning___aa","local-masthead":"styles_theme-interpro__local-masthead___fd","switch-paddle":"styles_theme-interpro__switch-paddle___ac","white-color":"styles_theme-interpro__white-color___b3"}}}]);
//# sourceMappingURL=1602.module.structure-page.6ed.js.map