"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[6414],{1809:(e,t,n)=>{n.d(t,{Z:()=>l}),n(86544),n(60429);var a=n(67294),r=n(29643);const l=e=>{var t,{metadata:{length:n,fragment:l},orf:o}=e;return l&&(t=" ("+("N"===l?"complete":"fragment")+")"),a.createElement(r.Z,{to:e=>{var{description:t}=e;return{description:Object.assign(Object.assign({},t),{[t.main.key]:Object.assign(Object.assign({},t[t.main.key]),{detail:"sequence"})}),search:{orf:o}}}},n," amino acids",t)}},94583:(e,t,n)=>{n.d(t,{Z:()=>_}),n(73964),n(752),n(76265),n(64043),n(57267),n(52003),n(12826);var a=n(67294),r=n(45007),l=n(19119),o=n(31793),s=n(87616),c=n(4267),i=n(25070),m=n(52727),u=[],d=e=>{var{hierarchy:t,accessions:n,hrefroot:r,goToCustomLocation:l,ready:s,includeChildren:c=!1}=e,u=(0,a.useRef)(null);return(0,a.useEffect)((()=>{var e;if(u.current&&s){if((0,o.Z)(null===(e=u.current)||void 0===e?void 0:e._hierarchy,t))return;u.current.hierarchy=t,u.current.addEventListener("click",(e=>{var t,n=e.composedPath()[0];n.classList.contains("link")&&(e.preventDefault(),null==l||l({description:(0,i.Z)(null===(t=(null==n?void 0:n.getAttribute("href"))||"")||void 0===t?void 0:t.replace(new RegExp("^"+m.default.root.website.path),""))}))}))}})),a.createElement("interpro-hierarchy",{accessions:n,hrefroot:r,ref:u,displaymode:"pruned"+(c?"":" no-children")})},p=e=>{var{entries:t,goToCustomLocation:r,includeChildren:l=!1}=e,[o,s]=(0,a.useState)(!1);function i(){return e=this,t=void 0,r=function*(){return yield(()=>{if(!u.length){var e=()=>n.e(5085).then(n.bind(n,93841));u.push((0,c.Z)((()=>e().then((e=>e.InterproHierarchy)))).as("interpro-hierarchy")),u.push((0,c.Z)((()=>e().then((e=>e.InterproEntry)))).as("interpro-entry")),u.push((0,c.Z)((()=>e().then((e=>e.InterproType)))).as("interpro-type"))}return Promise.all(u)})()},new((a=void 0)||(a=Promise))((function(n,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function s(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}));var e,t,a,r}(0,a.useEffect)((()=>{i().then((()=>{s(!0)}))}),[]);var p=(e=>Array.from(new Map(e.map((e=>[e.accession,e]))).values()))(t.map((e=>e.hierarchy)).filter(Boolean));return o?a.createElement("div",null,p.length?p.map((e=>a.createElement(d,{hierarchy:e,accessions:t.map((e=>e.accession)),hrefroot:m.default.root.website.path+"/entry/interpro",goToCustomLocation:r,key:e.accession,ready:o,includeChildren:l}))):null):null},h=(0,l.P1)((e=>e.settings.api),(e=>({api:e})));const _=(0,r.$j)(h,{goToCustomLocation:s.xb})(a.memo(p))},48189:(e,t,n)=>{n.d(t,{Z:()=>u}),n(752),n(76265),n(78730),n(79307);var a=n(67294),r=n(80866),l=n(76371),o=n(82806),s=n(5931),c=n(44166),i=n(35395),m=(0,l.Z)(s.Z,c.Z,o.Z,i.Z);const u=e=>{var{accession:t,sequence:n}=e;return a.createElement("a",{className:m("vf-button","vf-button--secondary","vf-button--sm"),style:{display:"block",minWidth:"200px",width:"100%"},download:t+".fa",href:URL.createObjectURL(new Blob([(0,r.P)(n,t,!1)],{type:"text/plain"}))},a.createElement("span",{className:m("icon","icon-common","icon-download"),"data-icon":""})," Download sequence (FASTA)")}},14309:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(67294),r=n(45007),l=n(87616),o=n(29643),s=n(76371),c=n(44115),i=n(82806),m=n(35395),u=(0,s.Z)(c.Z,i.Z,m.Z);const d=(0,r.$j)(null,{goToCustomLocation:l.xb})((e=>{var{goToCustomLocation:t,sequence:n,title:r,minWidth:l}=e;return a.createElement(o.Z,{to:{description:{main:{key:"search"},search:{type:"sequence"}}},onClick:e=>{e.preventDefault();var a="function"==typeof n?n():n;t({description:{main:{key:"search"},search:{type:"sequence",value:a}}})}},a.createElement("div",{className:u("sequence-link","vf-button","vf-button--secondary","vf-button--sm"),"data-icon":"",style:{minWidth:l,marginRight:"1rem"}},a.createElement("div",{className:u("shape","ips","gray")}),a.createElement("div",{className:u("shape","ips","green")}),a.createElement("div",{className:u("shape","ips","pale-green")}),a.createElement("div",{className:u("shape","ips","red")}),a.createElement("div",{className:u("shape","ips","blue")}),a.createElement("span",null,r)))}))},41438:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(67294),r=n(29643);const l=e=>{var{taxID:t,fullName:n}=e;return a.createElement(r.Z,{to:{description:{main:{key:"taxonomy"},taxonomy:{db:"uniprot",accession:""+t}}}},n)}},20804:(e,t,n)=>{n.r(t),n.d(t,{SummaryProtein:()=>oe,default:()=>ce}),n(752),n(73964),n(76265),n(62795),n(13383),n(86544),n(64043),n(61514);var a=n(67294),r=n(45007),l=n(19119),o=n(31793),s=n(38588),c=n(1809),i=n(41438),m=n(29643),u=n(94583),d=n(63147),p=n(79078),h=n(21105),_=n(63294),f=(n(57267),n(52003),n(12826),n(60429),n(38043)),v=n(3817),E=n(76371),y=n(44166),g=n(53261),b=n(82806),Z=(0,E.Z)(g.Z,b.Z,y.Z);class q extends a.PureComponent{constructor(e){super(e),this.state={showMore:!1}}render(){var{text:e="",minNumberOfCharToShow:t=1/0,patternToRemove:n}=this.props,{showMore:r}=this.state,l=e;return n&&(l=l.replace(new RegExp(n,"g"),"")),l=r||t>l.length?l:l.slice(0,t)+"...",a.createElement(a.Fragment,null,a.createElement(f.ZP,Object.assign({textBlocks:[l]},this.props)),t<e.length&&a.createElement(v.z,{type:"tertiary",onClick:()=>this.setState({showMore:!r})},"Show"," ",r?a.createElement("span",null,"Less"," ",a.createElement("i",{className:Z("icon","icon-common","font-s"),"data-icon":""})):a.createElement("span",null,"More"," ",a.createElement("i",{className:Z("icon","icon-common","font-s"),"data-icon":""}))))}}const k=q;n(65137),n(21552),n(2918);var S=n(8575),N=n(34287),w=n(10838),x=n(87616),F=n(85869);const L={placeholder:"Isoforms_style__placeholder___a8","isoform-panel":"Isoforms_style__isoform-panel___a6",key:"Isoforms_style__key___c6",id:"Isoforms_style__id___d2"};var P=(0,E.Z)(L),C=(0,l.P1)((e=>e.customLocation),(e=>e.customLocation.search),((e,t)=>{var{isoform:n}=t;return{customLocation:e,isoform:n}})),T=(0,l.P1)((e=>e.settings.api),(e=>e.customLocation.description),((e,t)=>{var{protocol:n,hostname:a,port:r,root:l}=e,{protein:{accession:o}}=t,s={main:{key:"protein"},protein:{db:"uniprot",accession:o}};return(0,S.format)({protocol:n,hostname:a,port:r,pathname:l+(0,w.Z)(s),query:{isoforms:""}})}));const I=(0,N.Z)({getUrl:T,mapStateToProps:C,mapDispatchToProps:{goToCustomLocation:x.xb}})((e=>{var{data:t,isoform:n="",goToCustomLocation:r,customLocation:l}=e;if(!t||t.loading||!t.payload)return a.createElement(F.Z,null);var o=t.payload.results;return a.createElement("select",{onChange:e=>{var t;if(l){var n=Object.assign(Object.assign({},l),{search:{}});(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)&&(n.search.isoform=e.target.value),null==r||r(n)}},value:n,className:P("vf-form__select")},a.createElement("option",{className:P("placeholder"),value:""},"Select an isoform"),o.sort(((e,t)=>Number.parseInt(e.split("-")[1])-Number.parseInt(t.split("-")[1]))).map((e=>a.createElement("option",{value:e,key:e},e.endsWith("-1")?"Canonical":e))))}));n(268);var O=n(719),R=n(57591),j=n(14760),D=(0,E.Z)(L),B=(0,h.Z)({loader:()=>Promise.all([n.e(8457),n.e(824),n.e(5562),n.e(8678),n.e(1950)]).then(n.bind(n,23508)),loading:null}),M=e=>{var{accession:t,length:n}=e;return a.createElement("header",null,a.createElement("span",{className:D("key")},"Isoform:")," ",a.createElement("span",{className:D("id")},t)," ",a.createElement("br",null),a.createElement("span",{className:D("key")},"Length:")," ",a.createElement(O.ZP,null,n))},U=(0,l.P1)((e=>e.customLocation.search),(e=>{var{isoform:t}=e;return{isoform:t}})),W=(0,l.P1)((e=>e.settings.api),(e=>e.customLocation.description),(e=>e.customLocation.search),((e,t,n)=>{var{protocol:a,hostname:r,port:l,root:o}=e,{protein:{accession:s}}=t,{isoform:c}=n,i={main:{key:"protein"},protein:{db:"uniprot",accession:s}};return(0,S.format)({protocol:a,hostname:r,port:l,pathname:o+(0,w.Z)(i),query:{isoforms:c}})}));const A=(0,N.Z)({getUrl:W,mapStateToProps:U})((e=>{var{isoform:t,data:n}=e;if(!t)return null;if(!n||n.loading||!n.payload||!n.payload.accession||t!==n.payload.accession)return a.createElement(F.Z,null);var{accession:r,length:l,sequence:o,features:s}=n.payload,c=(e=>{var t,n=Object.values(e||{}),a=[];for(var r of n)if(r&&(r.short_name||(r.short_name=r.name),r.integrated&&r.integrated in e)){var l=e[r.integrated];"children"in l||(l.children=[]),-1===(null===(t=l.children)||void 0===t?void 0:t.indexOf(r))&&l.children.push(r),a.push(r)}var o=n.filter((e=>{var{accession:t}=e;return t.toLowerCase().startsWith("ipr")})),s=(0,p.Hi)(o),c=n.filter((e=>-1===o.indexOf(e)&&-1===a.indexOf(e))),i=[...Object.entries(s),["unintegrated",c]].sort(R.r2),m=(0,j.S)(n,"locations","domain");return(null==m?void 0:m.length)&&i.splice(0,0,["representative domains",m]),i})(s);return a.createElement("div",{className:D("isoform-panel")},a.createElement(M,{accession:r,length:l}),a.createElement(B,{protein:{sequence:o,length:o.length},data:c,title:"Entry matches to this isoform"}))}));var G=n(2191),H=n(14309),z=n(68225),$=(0,E.Z)({"go-terms":"PantherGoTerms_style__go-terms___d3"}),V=(0,l.P1)((e=>e.settings.api),((e,t)=>t.subfamily),((e,t)=>{var{protocol:n,hostname:a,port:r,root:l}=e;return(0,S.format)({protocol:n,hostname:a,port:r,pathname:l+(0,w.Z)({main:{key:"entry"},entry:{db:"panther",accession:t}}),query:{subfamily:""}})})),Y=(0,N.Z)(V)((e=>{var t,n,r,{data:l,onFoundGOTerms:o=(()=>null)}=e,{loading:c,payload:i}=l||{};return(0,a.useEffect)((()=>{var e,t;(null===(t=null===(e=null==i?void 0:i.metadata)||void 0===e?void 0:e.go_terms)||void 0===t?void 0:t.length)&&o()}),[null===(t=null==i?void 0:i.metadata)||void 0===t?void 0:t.go_terms]),c?a.createElement(F.Z,{inline:!0}):(null===(r=null===(n=null==i?void 0:i.metadata)||void 0===n?void 0:n.go_terms)||void 0===r?void 0:r.length)?a.createElement("details",{className:$("go-terms")},a.createElement("summary",null,i.metadata.accession),a.createElement(s.Z,{terms:null==i?void 0:i.metadata.go_terms,type:"protein",withoutTitle:!0})):null}));const J=e=>{var{subfamilies:t}=e,[n,r]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{r(!1)}),[t]),(null==t?void 0:t.length)?a.createElement("section",null,n&&a.createElement("h5",null,"Panther GO terms"),t.map((e=>a.createElement(Y,{key:e,subfamily:e,onFoundGOTerms:()=>r(!0)})))):null};var K=n(55814),Q=n(48189),X=n(80866),ee=n(5931),te=n(12898),ne=(0,E.Z)(ee.Z,b.Z,y.Z,{splitfullscreen:"Summary_style__splitfullscreen___ae","comparison-button":"Summary_style__comparison-button___da",disabled:"Summary_style__disabled___be"}),ae=(0,h.Z)({loader:()=>n.e(1169).then(n.bind(n,25392)),loading:()=>null}),re="200px",le=e=>{var{entriesCounter:t,families:n,matchesLoaded:r}=e;return(null==n?void 0:n.length)?a.createElement(u.Z,{entries:n}):a.createElement("div",{className:ne("margin-bottom-medium")},0===t||r?"None predicted":a.createElement(F.Z,{inline:!0}))},oe=e=>{var t,{data:n,loading:r,isoform:l}=e,u=(0,a.useRef)(null),[h,f]=(0,a.useState)(!1),[v,E]=(0,a.useState)(!1),[y,g]=(0,a.useState)(!1),[b,Z]=(0,a.useState)(null),[q,S]=(0,a.useState)(null);if((0,a.useEffect)((()=>{f(!0)}),[u]),r||!n||!n.metadata)return a.createElement(F.Z,null);var N=n.metadata;return a.createElement("div",{className:ne("vf-stack","vf-stack--400")},N.gene&&a.createElement(ae,{data:{gene:N.gene},processData:_.ey}),N.source_organism&&a.createElement(ae,{data:N.source_organism,processData:_.Gi}),a.createElement("section",{className:ne("vf-grid","summary-grid")},a.createElement("div",{className:ne("vf-stack")},a.createElement("table",{className:ne("vf-table","left-headers")},a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",{style:{maxWidth:"50%"}},"Short name"),a.createElement("td",null,a.createElement("i",{className:ne("shortname"),"data-testid":"protein-shortname"},N.id))),a.createElement("tr",null,a.createElement("td",null,"Length"),a.createElement("td",{"data-testid":"protein-length"},a.createElement(c.Z,{metadata:N}))),a.createElement("tr",null,a.createElement("td",null,"Species"),a.createElement("td",{"data-testid":"protein-species"},a.createElement(i.Z,{fullName:N.source_organism.fullName,taxID:N.source_organism.taxId}))),N.proteome&&N.proteome.length>0&&a.createElement("tr",null,a.createElement("td",null,"Proteome"),a.createElement("td",{"data-testid":"protein-proteome"},a.createElement(m.Z,{to:{description:{main:{key:"proteome"},proteome:{db:"uniprot",accession:N.proteome}}}},N.proteome))),N.gene&&a.createElement("tr",null,a.createElement("td",null,"Gene"),a.createElement("td",null,N.gene)),N.description&&N.description.length?a.createElement("tr",null,a.createElement("td",{"data-testid":"protein-function"},"Function"," ",a.createElement(G.Z,{title:"Provided By UniProt"},a.createElement("span",{className:ne("small","icon","icon-common"),"data-icon":"","aria-label":"Provided By UniProt"}))),a.createElement("td",null,a.createElement(k,{text:N.description[0],minNumberOfCharToShow:250,patternToRemove:"\\s?\\(PubMed:\\d+\\)\\s?"}))):null,a.createElement("tr",null,a.createElement("td",null,"Family membership"),a.createElement("td",null,a.createElement(le,{entriesCounter:N.counters.entries,families:b,matchesLoaded:y}))),(null===(t=null==N?void 0:N.counters)||void 0===t?void 0:t.isoforms)&&N.counters.isoforms>0?a.createElement("tr",null,a.createElement("td",{"data-testid":"protein-function"},"Isoforms"," ",a.createElement(G.Z,{title:"This protein has "+N.counters.isoforms+" isoforms"},a.createElement("span",{className:ne("small","icon","icon-common"),"data-icon":"","aria-label":"This protein has "+N.counters.isoforms+" isoforms"}))),a.createElement("td",{style:{display:"flex"}},a.createElement(I,null),h?a.createElement(K.Z,{element:u.current,className:ne("vf-button","vf-button--secondary","vf-button--sm","comparison-button","icon","icon-common",{disabled:!l}),disabled:!l,dataIcon:"icon-columns",tooltip:"Compare side-by-side with canonical sequence",onFullScreenHook:()=>E(!0),onExitFullScreenHook:()=>E(!1)}):null)):null))),a.createElement("div",{className:ne("vf-stack")},a.createElement("section",null,a.createElement("section",null,a.createElement("h5",null,"External Links"),a.createElement("ul",{className:ne("no-bullet")},a.createElement("li",null,a.createElement(d.RY,{id:N.accession,className:ne("ext")},"UniProt")),N.in_alphafold?a.createElement(a.Fragment,null,a.createElement("li",null,a.createElement(te.Z,{id:N.accession,target:"_blank",pattern:"https://alphafold.ebi.ac.uk/entry/{id}",className:ne("ext")},"AlphaFold")),a.createElement("li",null,a.createElement(te.Z,{id:N.accession,target:"_blank",pattern:"https://search.foldseek.com/search?accession={id}&source=AlphaFoldDB",className:ne("ext")},"Foldseek"))):null)),a.createElement("hr",{style:{margin:"0.8em"}}),a.createElement(H.Z,{sequence:(0,X.P)(N.sequence,N.id||""),title:"Search sequence with InterProScan",minWidth:re}),a.createElement("label",{style:{marginBottom:"0.4rem"}},a.createElement(z.Z,{description:{main:{key:"protein"},protein:{db:N.source_database,accession:N.accession},entry:{integration:"all"}},count:N.counters.entries,fileType:"tsv",primary:"entry",secondary:"protein",minWidth:re,label:"Download matches (TSV)"})),a.createElement(Q.Z,{sequence:N.sequence,accession:N.accession})))),a.createElement("section",{ref:u,className:ne("vf-stack","vf-stack--200",{splitfullscreen:v})},a.createElement(A,null),a.createElement("section",null,l?a.createElement(M,{accession:"Canonical",length:N.length}):null,a.createElement(p.ZP,{mainData:n,onMatchesLoaded:e=>{g(!0),(null==e?void 0:e.length)?S(e.filter((e=>{var{metadata:{source_database:t}}=e;return"panther"===(null==t?void 0:t.toLowerCase())})).map((e=>{var{proteins:t}=e,n=[];return t.forEach((e=>{(e.entry_protein_locations||[]).forEach((e=>{var{subfamily:t}=e;n.push(null==t?void 0:t.accession)}))})),n.filter(Boolean)})).flat()):S(null)},onFamiliesFound:e=>{(0,o.Z)(e,b)||Z(e)}}))),N.go_terms&&a.createElement(s.Z,{terms:N.go_terms,type:"protein"}),a.createElement(J,{subfamilies:q||[]}))},se=(0,l.P1)((e=>e.customLocation.search),(e=>{var{isoform:t}=e;return{isoform:t}}));const ce=(0,r.$j)(se)(oe)},55814:(e,t,n)=>{n.d(t,{Z:()=>m}),n(752),n(76265);var a=n(67294),r=n(76853),l=n(2191),o=n(3817),s=n(76371),c=n(82806),i=(0,s.Z)(c.Z);const m=e=>{var{element:t,tooltip:n,className:s,dataIcon:c,disabled:m=!1,onFullScreenHook:u=r.Z,onExitFullScreenHook:d=r.Z}=e,[p,h]=(0,a.useState)(null),[_,f]=(0,a.useState)(!1),v=()=>{null===document.fullscreenElement&&(f(!1),d())};if((0,a.useEffect)((()=>(document.addEventListener("fullscreenchange",v),()=>document.removeEventListener("fullscreenchange",v))),[]),(0,a.useEffect)((()=>{h("string"==typeof t?document.getElementById(t):t)}),[t]),!p)return null;var E=s||i("margin-bottom-none","icon","icon-common"),y=c||(_?"icon-fullscreen-collapse":"icon-fullscreen");return a.createElement(l.Z,{title:n},a.createElement(o.Z,{type:"inline",onClick:()=>{_?("exitFullscreen"in document?document.exitFullscreen():"webkitExitFullscreen"in document?document.webkitExitFullscreen():"mozExitFullScreen"in document?document.mozExitFullScreen():"msExitFullscreen"in document&&document.msExitFullscreen(),d()):(e=>"requestFullscreen"in e?e.requestFullscreen():"webkitRequestFullscreen"in e?e.webkitRequestFullscreen():"mozRequestFullScreen"in e?e.mozRequestFullScreen():"msRequestFullscreen"in e?e.msRequestFullscreen():void 0)(p).then((()=>u())),f(!_)},icon:y,title:n,className:E,disabled:m}))}},80866:(e,t,n)=>{n.d(t,{P:()=>a}),n(64043),n(57267),n(28436);var a=function(e,t,n){void 0===n&&(n=!0);var a=e.length,r=e.slice(Math.max(0,0),a).replace(/(.{1,80})/g,"$1\n"),l=(">"+t+" 1-"+a).trim()+"\n"+r;return n?encodeURIComponent(l):l}},44115:(e,t,n)=>{n.d(t,{Z:()=>a});const a={"raw-sequence-viewer":"Sequence_style__raw-sequence-viewer___c9","raw-sequence-header":"Sequence_style__raw-sequence-header___f1",sequence_word:"Sequence_style__sequence_word___c7","light-sequence":"Sequence_style__light-sequence___a6",sequence_word_spacer:"Sequence_style__sequence_word_spacer___d7","sequence-link":"Sequence_style__sequence-link___e1",shape:"Sequence_style__shape___fb",hmmer:"Sequence_style__hmmer___db",yellow:"Sequence_style__yellow___a9",red:"Sequence_style__red___e5",blue:"Sequence_style__blue___cb",ips:"Sequence_style__ips___d0",gray:"Sequence_style__gray___ec",green:"Sequence_style__green___d3","pale-green":"Sequence_style__pale-green___ff"}},21552:(e,t,n)=>{var a=n(79989),r=n(67897);a({target:"Number",stat:!0,forced:Number.parseInt!==r},{parseInt:r})}}]);
//# sourceMappingURL=6414.module.protein-summary.46d.js.map