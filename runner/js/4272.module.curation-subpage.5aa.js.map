{"version":3,"file":"js/4272.module.curation-subpage.5aa.js","mappings":"8UAsBMA,GAAIC,EAAAA,EAAAA,GAAkBC,EAAAA,EAAMC,EAAAA,EAAiBC,EAAAA,GAM7CC,EAAkBC,IAAc,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GAAb,KAAEC,GAAMV,GACzB,QAAEW,EAAO,QAAEC,GAAYF,EAE7B,GAAIC,EAAS,OAAOE,EAAAA,cAACC,EAAAA,EAAO,MAE5B,IAAMC,EAAiB,MAAPH,GAAqB,OAAdX,EAAPW,EAASI,mBAAY,EAArBf,EAAuBc,QAEvC,IAAKA,EAAS,OAAO,KAGrB,IAAME,GAAmC,OAAhBf,EAAAa,EAAQG,eAAQ,EAAhBhB,EAAkBiB,oBAAqB,GAChE,OACEN,EAAAA,cAAA,OAAKO,UAAW1B,EAAE,MAAO,WACvBmB,EAAAA,cAAA,UAAI,YACJA,EAAAA,cAAA,SAAOO,UAAW1B,EAAE,QAAS,cAC3BmB,EAAAA,cAAA,aACEA,EAAAA,cAAA,UACEA,EAAAA,cAAA,UAAI,UACJA,EAAAA,cAAA,MAAIO,UAAW1B,EAAE,uBACG,OAAhBS,EAAAY,EAAQG,eAAQ,EAAhBf,EAAkBkB,UAAW,IAC5BC,KAAKC,IACJ,IAAIC,EAAgBD,EAAOA,OAgB3B,OAfIA,EAAOE,QACTD,EACEX,EAAAA,cAAA,KACEa,KAAI,qBAAuBH,EAAOE,MAClCE,OAAO,SACPC,IAAI,cAEHL,EAAOA,OACRV,EAAAA,cAAA,KACEO,UAAW1B,EAAE,OAAQ,eACrB,YAAU,MACT,MAIFmB,EAAAA,cAAA,QAAMgB,IAAKN,EAAOA,QAASC,EAAqB,IAExDM,QAAO,CAACC,EAAMC,IAAS,CAACD,EAAM,KAAMC,OAG3CnB,EAAAA,cAAA,UACEA,EAAAA,cAAA,UAAI,qBACJA,EAAAA,cAAA,MAAIO,UAAW1B,EAAE,qBACfmB,EAAAA,cAAA,KACEa,KAAI,mEAAqEX,EAAQG,SAASC,kBAC1FQ,OAAO,SACPC,IAAI,cAEHX,OAMXJ,EAAAA,cAAA,UAAI,mBACJA,EAAAA,cAAA,SAAOO,UAAW1B,EAAE,QAAS,cAC3BmB,EAAAA,cAAA,aACEA,EAAAA,cAAA,UACEA,EAAAA,cAAA,UAAI,sBACJA,EAAAA,cAAA,UAAI,kBACwB,OAAXT,EAAAW,EAAQkB,MAAa,OAAV7B,EAAXA,EAAa8B,eAAQ,EAArB9B,EAAuB+B,QAAS,GAC/CtB,EAAAA,cAAA,WAAM,mBACqB,OAAXR,EAAAU,EAAQkB,MAAa,OAAV5B,EAAXA,EAAa6B,eAAQ,EAArB7B,EAAuB+B,SAAU,KAGrDvB,EAAAA,cAAA,UACEA,EAAAA,cAAA,UAAI,uBACJA,EAAAA,cAAA,UAAI,cACoB,OAAXP,EAAAS,EAAQkB,MAAY,OAAT3B,EAAXA,EAAa+B,UAAkB,OAAX/B,EAApBA,EAAsBgC,gBAAS,EAA/BhC,EAAiCiC,WAAY,GACxD1B,EAAAA,cAAA,WAAM,YACc,OAAXN,EAAAQ,EAAQkB,MAAY,OAAT1B,EAAXA,EAAa8B,UAAkB,OAAX9B,EAApBA,EAAsB+B,gBAAS,EAA/B/B,EAAiCiC,SAAU,KAGxD3B,EAAAA,cAAA,UACEA,EAAAA,cAAA,UAAI,YACJA,EAAAA,cAAA,UACEA,EAAAA,cAAC4B,EAAAA,EAAI,CACHf,KAASgB,EAAAA,QAAOC,KAAKC,IAAIlB,KAAI,gBAAsB,MAAPd,GAAiB,OAAVJ,EAAPI,EAASiC,eAAQ,EAAjBrC,EAAmBsC,WAAS,kBACxEC,WACS,MAAPnC,GAAiB,OAAVH,EAAPG,EAASiC,eAAQ,EAAjBpC,EAAmBqC,YAAa,YAAU,WAG5CjC,EAAAA,cAAA,QACEO,UAAW1B,EAAE,OAAQ,cAAe,iBACpC,YAAU,MACT,IAAI,YAED,IAAI,kCAMhB,EAGVK,EAAgBiD,UAAY,CAC1BtC,KAAMuC,IAAAA,OAASC,YAGjB,IAAMC,GAAqBC,EAAAA,EAAAA,KACxBC,GAAUA,EAAMC,SAASC,MACzBF,GAAUA,EAAMG,eAAeC,YAAYC,KAAK7B,MAChDwB,GACCA,EAAMG,eAAeC,YAAYC,KAAK7B,KACtCwB,EAAMG,eAAeC,YAAYJ,EAAMG,eAAeC,YAAYC,KAAK7B,KACpE8B,KACJN,GACCA,EAAMG,eAAeC,YAAYJ,EAAMG,eAAeC,YAAYC,KAAK7B,KACpEiB,YACL,CAAAc,EAAqCC,EAAUF,EAAIb,KAAc,IAAhE,SAAEgB,EAAQ,SAAEC,EAAQ,KAAEC,EAAI,KAAErB,GAAMiB,EACjC,GAAKd,EACL,OAAOmB,EAAAA,EAAAA,QAAO,CACZH,WACAC,WACAC,OACAE,SACEvB,GACAwB,EAAAA,EAAAA,GAAkB,CAChBT,KAAM,CAAE7B,IAAKgC,GACb,CAACA,GAAW,CACVF,KACAb,eAGNsB,MAAO,CAAEpD,aAAc,YACvB,IAIN,SAAeqD,EAAAA,EAAAA,GAASlB,EAAxB,CAA4CpD,E","sources":["webpack://interpro7-client/./src/subPages/Curation/index.js"],"sourcesContent":["// @flow\nimport React from 'react';\nimport T from 'prop-types';\n\nimport { createSelector } from 'reselect';\nimport { format } from 'url';\n\nimport config from 'config';\n\nimport Loading from 'components/SimpleCommonComponents/Loading';\nimport Link from 'components/generic/Link';\nimport loadData from 'higherOrder/loadData';\n\n// $FlowFixMe\nimport descriptionToPath from 'utils/processDescription/descriptionToPath';\n\nimport { foundationPartial } from 'styles/foundation';\n\nimport ipro from 'styles/interpro-new.css';\nimport ebiGlobalStyles from 'ebi-framework/css/ebi-global.css';\nimport fonts from 'EBI-Icon-fonts/fonts.css';\n\nconst f = foundationPartial(ipro, ebiGlobalStyles, fonts);\n\n/*:: type Props = {\n  data: Object,\n}; */\n\nconst CurationSubPage = ({ data }) => {\n  const { loading, payload } = data;\n\n  if (loading) return <Loading />;\n  // eslint-disable-next-line camelcase\n  const details = payload?.extra_fields?.details;\n\n  if (!details) return null;\n\n  // eslint-disable-next-line camelcase\n  const sequenceOntology = details.curation?.sequence_ontology || '';\n  return (\n    <div className={f('row', 'column')}>\n      <h4>Curation</h4>\n      <table className={f('light', 'table-sum')}>\n        <tbody>\n          <tr>\n            <td>Author</td>\n            <td className={f('first-letter-cap')}>\n              {(details.curation?.authors || [])\n                .map((author) => {\n                  let preferredName = author.author;\n                  if (author.orcid) {\n                    preferredName = (\n                      <a\n                        href={`https://orcid.org/${author.orcid}`}\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                      >\n                        {author.author}\n                        <i\n                          className={f('icon', 'icon-common')}\n                          data-icon=\"&#xf112;\"\n                        />{' '}\n                      </a>\n                    );\n                  }\n                  return <span key={author.author}>{preferredName}</span>;\n                })\n                .reduce((prev, curr) => [prev, ', ', curr])}\n            </td>\n          </tr>\n          <tr>\n            <td>Sequence Ontology</td>\n            <td className={f('first-letter-cap')}>\n              <a\n                href={`http://www.sequenceontology.org/browser/current_release/term/SO:${details.curation.sequence_ontology}`}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {sequenceOntology}\n              </a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <h4>HMM Information</h4>\n      <table className={f('light', 'table-sum')}>\n        <tbody>\n          <tr>\n            <td>HMM build commands</td>\n            <td>\n              Build method: {details.hmm?.commands?.build || ''}\n              <br />\n              Search method: {details.hmm?.commands?.search || ''}\n            </td>\n          </tr>\n          <tr>\n            <td>Gathering threshold</td>\n            <td>\n              Sequence: {details.hmm?.cutoffs?.gathering?.sequence || ''}\n              <br />\n              Domain: {details.hmm?.cutoffs?.gathering?.domain || ''}\n            </td>\n          </tr>\n          <tr>\n            <td>Download</td>\n            <td>\n              <Link\n                href={`${config.root.API.href}/entry/pfam/${payload?.metadata?.accession}?annotation=hmm`}\n                download={`${\n                  payload?.metadata?.accession || 'download'\n                }.hmm.gz`}\n              >\n                <span\n                  className={f('icon', 'icon-common', 'icon-download')}\n                  data-icon=\"&#xf019;\"\n                />{' '}\n                Download\n              </Link>{' '}\n              the raw HMM for this family\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  );\n};\nCurationSubPage.propTypes = {\n  data: T.object.isRequired,\n};\n\nconst getPfamCurationUrl = createSelector(\n  (state) => state.settings.api,\n  (state) => state.customLocation.description.main.key,\n  (state) =>\n    state.customLocation.description.main.key &&\n    state.customLocation.description[state.customLocation.description.main.key]\n      .db,\n  (state) =>\n    state.customLocation.description[state.customLocation.description.main.key]\n      .accession,\n  ({ protocol, hostname, port, root }, mainType, db, accession) => {\n    if (!accession) return;\n    return format({\n      protocol,\n      hostname,\n      port,\n      pathname:\n        root +\n        descriptionToPath({\n          main: { key: mainType },\n          [mainType]: {\n            db,\n            accession,\n          },\n        }),\n      query: { extra_fields: 'details' },\n    });\n  },\n);\n\nexport default loadData(getPfamCurationUrl)(CurationSubPage);\n"],"names":["f","foundationPartial","ipro","ebiGlobalStyles","fonts","CurationSubPage","_ref","_payload$extra_fields","_details$curation","_details$curation2","_details$hmm","_details$hmm2","_details$hmm3","_details$hmm4","_payload$metadata","_payload$metadata2","data","loading","payload","React","Loading","details","extra_fields","sequenceOntology","curation","sequence_ontology","className","authors","map","author","preferredName","orcid","href","target","rel","key","reduce","prev","curr","hmm","commands","build","search","cutoffs","gathering","sequence","domain","Link","config","root","API","metadata","accession","download","propTypes","T","isRequired","getPfamCurationUrl","createSelector","state","settings","api","customLocation","description","main","db","_ref2","mainType","protocol","hostname","port","format","pathname","descriptionToPath","query","loadData"],"sourceRoot":""}