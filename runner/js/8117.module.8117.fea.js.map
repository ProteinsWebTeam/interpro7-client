{"version":3,"file":"js/8117.module.8117.fea.js","mappings":"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","sources":["webpack://interpro7-client/./node_modules/taxonomy-visualisation/node_modules/classnames/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/node_modules/d3-array/src/max.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/tree.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/hierarchy/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/update-size/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/zooming/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/collapse/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/focus/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/toggle/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/draw-focus/draw-description/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/theme/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/draw-focus/draw-histogram/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/node_modules/d3-shape/src/array.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/node_modules/d3-shape/src/constant.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/node_modules/d3-shape/src/curve/bump.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/node_modules/d3-shape/src/point.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/node_modules/d3-shape/src/link.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/draw-tree/draw-links/index.js","webpack://interpro7-client/./node_modules/d3-ease/src/math.js","webpack://interpro7-client/./node_modules/d3-ease/src/elastic.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/draw-tree/draw-focus-ring/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/fisheye/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/draw-tree/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/draw-tree/draw-nodes/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/draw/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/draw-focus/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/taxonomy-visualisation/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/get-max-depth/index.js","webpack://interpro7-client/./node_modules/taxonomy-visualisation/src/get-depth-counts/index.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://interpro7-client/./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://interpro7-client/./node_modules/d3-path/src/path.js"],"sourcesContent":["/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-’s ancestor is a sibling of v, returns vi-’s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.’s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","import { hierarchy } from 'd3-hierarchy';\n\nhierarchy.prototype.sibling = function (offset) {\n  const parent = this.parent;\n  if (!parent) return null;\n  const siblings = parent.children;\n  const indexTmp = siblings.indexOf(this) + offset + siblings.length;\n  return siblings[indexTmp % siblings.length];\n};\n\nexport default hierarchy;\n","const getSize = (element) => {\n  const { width, height } = element.getBoundingClientRect();\n\n  return { width, height };\n};\n\nconst getMargin = (width) => width / 14;\nexport const updateFocusSize = (focusSelection) => {\n  if (!focusSelection) return;\n  const { height } = getSize(focusSelection.node());\n\n  focusSelection.select('svg').style('width', 2 * height);\n};\n\nexport const updateTreeSize = (treeSelection, global) => {\n  if (!treeSelection) return;\n  const { width, height } = getSize(treeSelection.node());\n\n  const margin = getMargin(width);\n\n  treeSelection.attr('width', width);\n  treeSelection.attr('height', height);\n  treeSelection.attr('viewBox', `${-global.margin} 0 ${width} ${height}`);\n\n  global.tree.size([height, width - 2 * margin]);\n};\n\nexport const updateWidth = (width, global) => {\n  const [h] = global.tree.size();\n  global.tree.size([h, width - 2 * getMargin(width)]);\n  global.selection.tree.attr('viewBox', `${-global.margin} 0 ${width} ${h}`);\n};\n","import { zoom, zoomIdentity } from 'd3-zoom';\n\nexport const resetZooming = (treeSelection, global) => {\n  treeSelection.call(global._zoom.transform, zoomIdentity);\n};\n\nexport default (treeSelection, global) => {\n  let tmpX = global.margin;\n  let tmpY = 0;\n\n  const zooming = (event) => {\n    const { width, height } = treeSelection.node().getBoundingClientRect();\n    if (event.sourceEvent) {\n      if (event.sourceEvent.movementX) tmpX += event.sourceEvent.movementX;\n      if (event.sourceEvent.movementY) tmpY += event.sourceEvent.movementY;\n    } else {\n      // If the sourceEvent is null we assume the reset has been triggered.\n      tmpX = global.margin;\n      tmpY = 0;\n    }\n    const k = (global.scale = event.transform.k);\n    const edges = {\n      right: width - global.margin,\n      left: k * (-width + 10 * global.margin),\n      top: k * (-height + 4 * global.margin),\n      bottom: height - 4 * k * global.margin,\n    };\n    if (tmpX > edges.right) tmpX = edges.right;\n    if (tmpX < edges.left) tmpX = edges.left;\n    if (tmpY > edges.bottom) tmpY = edges.bottom;\n    if (tmpY < edges.top) tmpY = edges.top;\n    treeSelection.attr('viewBox', `${-tmpX} ${-tmpY} ${width} ${height}`);\n    global.instance.redraw();\n  };\n  global._zoom = zoom()\n    .filter((event) => {\n      // WheelEvent is associated to Zooming. To allow panning, mouse events except WheelEvent should be allowed\n      if (!(event instanceof WheelEvent)) return true;\n      return !global.useCtrlToZoom || event.ctrlKey;\n    })\n    .on('zoom', zooming)\n    .scaleExtent([1, 5]);\n\n  treeSelection.call(global._zoom);\n};\n","const collapse = node => {\n  if (typeof node !== 'object' || Array.isArray(node)) {\n    throw new Error('\"collapse\" function was not passed a valid tree');\n  }\n  if (node.children) {\n    node._children = node.children;\n    node.children = null;\n    node._children.forEach(collapse);\n  }\n};\n\nexport default collapse;\n","const removeFocus = node => (node.inPath = node.focused = false);\n\nconst setFocusPath = node => (node.inPath = true);\n\nconst setFocus = node => {\n  node.focused = true;\n  node.ancestors().forEach(setFocusPath);\n  node.descendants().forEach(setFocusPath);\n};\n\nconst dispatchFocus = ({ selection, instance, focused: { data } }) => {\n  // Emit event for the DOM nodes\n  for (const sel of Object.values(selection)) {\n    if (!sel) continue;\n    const node = sel.node();\n    node.dispatchEvent(new CustomEvent('focus', { detail: data }));\n  }\n  // Emit event from the instance registrations\n  for (const listeners of instance._listenersPerType.get('focus').values()) {\n    listeners(new CustomEvent('focus', { detail: data }));\n  }\n};\n\nexport default (global, node) => {\n  if (!node) return;\n  global.all.forEach(removeFocus);\n  setFocus(node);\n  global.focused = node;\n  dispatchFocus(global);\n};\n","import collapse from '../collapse';\nimport focus from '../focus';\n\nexport default (global, event, node) => {\n  try {\n    event.stopPropagation();\n  } catch (_) {}\n  if (node.children) {\n    collapse(node);\n  } else {\n    [node.children, node._children] = [node._children, node.children];\n  }\n  // refocus, to be sure to have all paths drawn correctly\n  focus(global, global.focused);\n};\n","import cn from 'classnames';\n\nimport focus from '../../focus';\n\nexport default (global) => {\n  const { selection, focused } = global;\n  const lineage = selection.focus.select('.lineage');\n  const ancestors = lineage\n    .selectAll(`.${global.classnames.ancestor}`)\n    .data(focused.ancestors().reverse());\n  ancestors\n    .enter()\n    .append('a')\n    .on('click', (_event, node) => {\n      focus(global, node);\n      global.instance.redraw();\n    })\n    .merge(ancestors)\n    .attr('class', ({ focused }) =>\n      cn(global.classnames.ancestor, { [global.classnames.focused]: focused })\n    )\n    .text((node) => ` → ${node.data.name}`);\n  ancestors.exit().remove();\n\n  const name = selection.focus\n    .selectAll(`.${global.classnames.name}`)\n    .data([focused]);\n  name.text(\n    ({ data: { name, hitcount } }) => name + (hitcount ? ` (${hitcount})` : '')\n  );\n};\n","export const colors = {\n  off: 'steelblue',\n  focus: '#a24',\n};\n","import { colors } from '../../theme';\n\nconst WIDTH = 200;\nconst HEIGHT = 100;\n\nconst DELAY_OFFSET = 10;\n\nexport default ({\n  selection: { focus },\n  focused,\n  nBins,\n  maxCountBin,\n  classnames: { bin, hits },\n}) => {\n  const binWidth = WIDTH / nBins;\n\n  const histogram = focus.selectAll(`.${hits}`).data([focused]);\n\n  const bins = histogram\n    .data([focused])\n    .selectAll(`.${bin}`)\n    .data(({ data: { hitdist = [] } }) => hitdist);\n  bins\n    .enter()\n    .append('rect')\n    .attr('class', bin)\n    .attr('fill', colors.off)\n    .attr('x', (_, index) => index * binWidth)\n    .attr('width', binWidth)\n    .attr('height', HEIGHT)\n    .attr('y', HEIGHT)\n    .merge(bins)\n    .transition()\n    .delay((_, index) => index * DELAY_OFFSET)\n    .attr('y', bin => HEIGHT - (bin * HEIGHT) / maxCountBin);\n};\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","import pointRadial from \"../pointRadial.js\";\n\nclass Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nclass BumpRadial {\n  constructor(context) {\n    this._context = context;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {}\n  point(x, y) {\n    x = +x, y = +y;\n    if (this._point++ === 0) {\n      this._x0 = x, this._y0 = y;\n    } else {\n      const p0 = pointRadial(this._x0, this._y0);\n      const p1 = pointRadial(this._x0, this._y0 = (this._y0 + y) / 2);\n      const p2 = pointRadial(x, this._y0);\n      const p3 = pointRadial(x, y);\n      this._context.moveTo(...p0);\n      this._context.bezierCurveTo(...p1, ...p2, ...p3);\n    }\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n\nexport function bumpRadial(context) {\n  return new BumpRadial(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport {bumpX, bumpY, bumpRadial} from \"./curve/bump.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nexport function link(curve) {\n  let source = linkSource;\n  let target = linkTarget;\n  let x = pointX;\n  let y = pointY;\n  let context = null;\n  let output = null;\n\n  function link() {\n    let buffer;\n    const argv = slice.call(arguments);\n    const s = source.apply(this, argv);\n    const t = target.apply(this, argv);\n    if (context == null) output = curve(buffer = path());\n    output.lineStart();\n    argv[0] = s, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    argv[0] = t, output.point(+x.apply(this, argv), +y.apply(this, argv));\n    output.lineEnd();\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), link) : context;\n  };\n\n  return link;\n}\n\nexport function linkHorizontal() {\n  return link(bumpX);\n}\n\nexport function linkVertical() {\n  return link(bumpY);\n}\n\nexport function linkRadial() {\n  const l = link(bumpRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import { linkHorizontal } from 'd3-shape';\nimport cn from 'classnames';\n\nimport { colors } from '../../theme';\n\nexport default (global) => {\n  // Each link\n  const link = global.selection.tree\n    .selectAll(`.${global.classnames.link}`)\n    .data(\n      global.root.links(),\n      ({\n        source: {\n          data: { id: sid },\n        },\n        target: {\n          data: { id: tid },\n        },\n      }) => `${sid}_${tid}`\n    );\n\n  // Link enter\n  link\n    .enter()\n    .insert('path', ':first-child')\n    .attr('opacity', 0)\n    // Link enter + update\n    .merge(link)\n    .attr('class', ({ target: { inPath } }) =>\n      cn(global.classnames.link, { [global.classnames.inPath]: inPath })\n    )\n    .attr('fill', 'none')\n    .transition()\n    .attr(\n      'd',\n      linkHorizontal()\n        .x(({ y }) => y)\n        .y(({ x }) => x)\n    )\n    .attr(\n      'stroke',\n      ({ target: { inPath } }) => colors[inPath ? 'focus' : 'off']\n    )\n    .attr('stroke-width', ({ target: { inPath } }) => (inPath ? 2 : 1))\n    .attr('opacity', 1);\n\n  // Link exit\n  link.exit().remove();\n};\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import { easeElastic } from 'd3-ease';\n\nimport { colors } from '../../theme';\n\nexport default ({ selection: { tree }, focused, classnames }) => {\n  // Each focus ring (only ever going to be one)\n  const focusRing = tree.selectAll(`.${classnames.focusRing}`).data([focused]);\n\n  // Focus ring enter\n  focusRing\n    .enter()\n    .append('circle')\n    .attr('class', classnames.focusRing)\n    .attr('fill', colors.focus)\n    .attr('transform', ({ x, y }) => `translate(${y},${x})`)\n    // Focus ring enter + update\n    .merge(focusRing)\n    .transition()\n    .ease(easeElastic.period(1))\n    .attr(\n      'r',\n      ({ data: { hitcount = 1 } }) =>\n        Math.log(typeof hitcount === 'number' ? hitcount : 1) + 1 + 5\n    )\n    .attr('transform', ({ x, y }) => `translate(${y},${x})`);\n};\n","/**\n * Calculates the new value for a single axis point.\n * @param {number} x - The value to be recalculated.\n * @param {number} x0 - Fisheye center.\n * @param {number} d - Distance after calculation of the closest point to the fishye center.\n *                     f(x0+1,x0,d) === d.\n * @return The new value for the given coordinate\n */\nconst f = (x, x0, d) =>\n  x0 + (x > x0 ? 1 : -1) * d * Math.sqrt(Math.abs(x - x0));\n\n/**\n * Default factor for transformation in X axis\n */\nconst DEFAULT_DX = 15;\n/**\n * Default factor for transformation in Y axis\n */\nconst DEFAULT_DY = 20;\n\n/**\n * Recalculates positions for a node based on the fisheye calculation.\n * It calls itself recursively to calculate positions of its childrent\n * @param {object} node - The minimal object is `{x:0, y:0, children:[]}`.\n * @param {number} x0 - X coordinate of the Fisheye center.\n * @param {number} y0 - Y coordinate of the Fisheye center.\n */\nconst recalculatePos = (node, x0, y0) => {\n  const x = node.x || 0;\n  const y = node.y || 0;\n  const newX = f(x, x0, DEFAULT_DX);\n  const newY = f(y, y0, DEFAULT_DY);\n  if ((x < x0 && x > newX) || (x > x0 && x < newX)) node.x = newX;\n  if ((y < y0 && y > newY) || (y > y0 && y < newY)) node.y = newY;\n  if (node.children) node.children.forEach(ch => recalculatePos(ch, x0, y0));\n};\n\nconst OVER = 1;\nconst UNDER = 2;\n/**\n * It changes the order among the sibilings of the focused node.\n * if there are nodes among its sibilings that are out of the scope it will move\n * the focused node to either the top or the bottom, forcing the other nodes to\n * be in scope.\n * @param {object} global - The common object of all the components of the library.\n * @param {int} type - 1: correct nodes over. 2: correct nodes under.\n */\nconst correctNodesOutOfWorkspace = (global, type) => {\n  const { root, focused } = global;\n  if (focused.parent) {\n    const parent = focused.parent;\n    const i = parent.children.indexOf(focused);\n    if (i == 0 || i == parent.children.length - 1) return;\n    if (type == OVER) {\n      parent.children = [\n        focused,\n        ...parent.children.slice(i + 1),\n        ...parent.children.slice(0, i),\n      ];\n    } else {\n      parent.children = [\n        ...parent.children.slice(i + 1),\n        ...parent.children.slice(0, i),\n        focused,\n      ];\n    }\n    global.tree(root);\n    const x = global.focused.x || 0;\n    const y = global.focused.y || 0;\n    if (x) recalculatePos(global.root, x, y);\n  }\n};\n\nconst correctNodesOutside = global => {\n  const height = global.svg.getBoundingClientRect().height;\n  const targetNodeDescendants = (\n    global.focused.parent || global.focused\n  ).descendants();\n  const overOutlayers = targetNodeDescendants.filter(({ x }) => x < 0);\n  const underOutlayers = targetNodeDescendants.filter(({ x }) => x > height);\n  if (overOutlayers.length) {\n    correctNodesOutOfWorkspace(global, OVER);\n  } else if (underOutlayers.length) {\n    correctNodesOutOfWorkspace(global, UNDER);\n  }\n};\n/**\n * Applies the fisheye recalculations to the root object in the global attribute.\n * It only gets executed if fissheye is enabled and there is a focused node other than the root.\n * @param {object} global - The common object of all the components of the library.\n */\nexport default global => {\n  if (global.fisheye && global.focused && global.focused !== global.root) {\n    const x = global.focused.x || 0;\n    const y = global.focused.y || 0;\n    if (x) recalculatePos(global.root, x, y);\n    if (global.shouldCorrectNodesOutside) correctNodesOutside(global);\n  }\n};\n","import drawLinks from './draw-links';\nimport drawFocusRing from './draw-focus-ring';\nimport drawNodes from './draw-nodes';\nimport applyFisheyeIfEnabled from '../fisheye';\n\nexport default global => {\n  global.tree(global.root);\n  applyFisheyeIfEnabled(global);\n  if (global.enableZooming)\n    global.root.descendants().forEach(d => {\n      d.x *= global.scale;\n      d.y *= global.scale;\n    });\n  drawLinks(global);\n  drawFocusRing(global);\n  drawNodes(global);\n};\n","import cn from 'classnames';\n\nimport toggle from '../../toggle';\nimport focus from '../../focus';\n\nimport { colors } from '../../theme';\n\nexport default (global) => {\n  const descendants = global.root.descendants();\n  // Each node\n  const node = global.selection.tree\n    .selectAll(`.${global.classnames.node}`)\n    .data(descendants, ({ data: { id } }) => id);\n\n  // Node enter\n  const nodeEnter = node\n    .enter()\n    .append('g')\n    .attr('opacity', 0)\n    .attr('transform', ({ x, y }) => `translate(${y},${x})`)\n    // Event listeners\n    .on('dblclick', (event, n) => {\n      toggle(global, event, n);\n      global.instance.redraw();\n    });\n  // Node enter + update\n  nodeEnter\n    .merge(node)\n    .attr('class', ({ focused, inPath }) =>\n      cn(global.classnames.node, {\n        [global.classnames.focused]: focused,\n        [global.classnames.inPath]: inPath,\n      })\n    )\n    .style('cursor', 'pointer')\n    .transition()\n    .attr('opacity', 1)\n    .attr('transform', (d) => `translate(${d.y},${d.x})`);\n\n  // Node circle\n  nodeEnter\n    .append('circle')\n    .attr(\n      'r',\n      global.fixedNodeSize === false\n        ? ({ data: { hitcount = 1 } }) =>\n            Math.log(typeof hitcount === 'number' ? hitcount : 1) + 1\n        : global.fixedNodeSize\n    )\n    .attr('fill', colors.off)\n    .on('click', (_event, n) => {\n      try {\n        // Making sure is the same reference\n        const tmpNode = global.root\n          .descendants()\n          .filter(({ data: { id } }) => id === n.data.id)[0];\n        focus(global, tmpNode);\n        global.instance.redraw();\n      } catch (_) {}\n    });\n\n  // Node info group\n  const nodeInfo = nodeEnter\n    .append('g')\n    .attr('transform', ({ depth }) => `translate(0,${depth % 2 ? 10 : -8})`);\n\n  // Node info group label\n  const label = nodeInfo\n    .append('text')\n    .attr('class', global.classnames.label)\n    .attr('y', 4)\n    .attr('font-size', '0.8em')\n    .attr('text-anchor', 'middle')\n    .style(\n      'text-shadow',\n      '0 1px 0 #fff, 0 -1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff'\n    )\n    .on('click', (_event, node) => {\n      // Emit event from the instance registrations\n      for (const listeners of global.instance._listenersPerType\n        .get('click')\n        .values()) {\n        listeners(new CustomEvent('click', { detail: node.data }));\n      }\n    });\n  // Label name\n  label\n    .append('tspan')\n    .attr('class', global.classnames.name)\n    .attr('fill', (node) => {\n      if (global.searchTerm) {\n        const name = node.data.name ? node.data.name.toLowerCase() : '';\n        if (name.startsWith(global.searchTerm.toLowerCase())) return '#8B0000';\n      }\n      return '#000000';\n    });\n  // Label arrow\n  label\n    .append('tspan')\n    .attr('class', global.classnames.arrow)\n    .on('click', (event, node) => {\n      toggle(global, event, node);\n      global.instance.redraw();\n    });\n\n  if (global.root.data.hitdist && global.root.data.hitdist.length) {\n    // Node info histogram group\n    const hits = nodeInfo\n      .append('g')\n      .attr('class', global.classnames.hits) // mirror transform\n      .attr('transform', 'scale(1,-1)');\n    // Histogram background\n    hits\n      .append('rect')\n      .attr('class', global.classnames.hitsBg)\n      .attr('fill', '#fff')\n      .attr('opacity', 0.5)\n      .attr('x', -global.nBins)\n      .attr('y', -20)\n      .attr('width', global.nBins * 2)\n      .attr('height', 10);\n    // Histogram bars\n    const bins = hits\n      .selectAll(`.${global.classnames.bin}`)\n      // .data(({ focused, data: { hitdist = [] } }) =>\n      //   hitdist.map(bin => ({ focused, bin })),\n      // );\n      .data(({ data: { hitdist = [] } }) => hitdist);\n    bins\n      .enter()\n      .append('rect')\n      .attr('class', global.classnames.bin)\n      .attr('x', (_, index) => index * 2 - global.nBins)\n      .attr('y', -20)\n      .attr('width', 2)\n      // .attr('height', ({ bin }) => bin * 10 / global.maxCountBin)\n      .attr('height', (bin) => (bin * 10) / global.maxCountBin)\n      .attr('fill', colors.off);\n  }\n\n  node.selectAll(`.${global.classnames.name}`).attr('fill', (node) => {\n    if (global.searchTerm) {\n      const name = node.data.name ? node.data.name.toLowerCase() : '';\n      if (name.startsWith(global.searchTerm.toLowerCase())) return '#8B0000';\n    }\n    return '#000000';\n  });\n\n  // Node exit\n  node.exit().remove();\n\n  // Get label names\n  global.selection.tree\n    .selectAll(`.${global.classnames.label} > .${global.classnames.name}`)\n    .text(\n      ({ data: { name, hitcount } }) =>\n        `${name}${typeof hitcount === 'undefined' ? '' : `\\n(${hitcount})`}`\n    );\n  // Get label arrows\n  global.selection.tree\n    .selectAll(`.${global.classnames.label} > .${global.classnames.arrow}`)\n    .text(({ _children }) => (_children ? ' →' : ''));\n};\n","import drawFocus from '../draw-focus';\nimport drawTree from '../draw-tree';\n\nconst draw = global => {\n  if (global.selection.focus) drawFocus(global);\n  if (global.selection.tree) drawTree(global);\n};\n\n// let isDrawPlanned = false;\n\nexport default global => {\n  // Bail if a draw is already planned for the next frame, no need to draw twice\n  if (global._isDrawPlanned) return;\n  global._isDrawPlanned = true;\n  if (!global.test) global.test = 1;\n  requestAnimationFrame(() => {\n    draw(global);\n    global._isDrawPlanned = false;\n  });\n  global.test++;\n};\n","import drawDescription from './draw-description';\nimport drawHistogram from './draw-histogram';\n\nexport default global => {\n  drawDescription(global);\n  drawHistogram(global);\n};\n","import { max } from 'd3-array';\nimport { tree as d3Tree } from 'd3-hierarchy';\nimport { select } from 'd3-selection';\n\n// extending d3's defaults\nimport hierarchy from '../hierarchy';\n\nimport { updateFocusSize, updateTreeSize, updateWidth } from '../update-size';\nimport addZoominPanning, { resetZooming } from '../zooming';\nimport collapse from '../collapse';\nimport focus from '../focus';\nimport toggle from '../toggle';\nimport getDepthCounts from '../get-depth-counts';\nimport getMaxDepth from '../get-max-depth';\n\nimport draw from '../draw';\n\nconst DEFAULT_INITIAL_MAX_NODES = 10;\n\nconst DEFAULT_CLASSNAMES = {\n  ancestor: 'ancestor',\n  arrow: 'arrow',\n  bin: 'bin',\n  focusRing: 'focus-ring',\n  focused: 'focused',\n  hits: 'hits',\n  hitsBg: 'hits-bg',\n  inPath: 'in-path',\n  label: 'label',\n  link: 'link',\n  name: 'name',\n  node: 'node',\n};\n\nexport default class TaxonomyVisualisation {\n  constructor(\n    data,\n    {\n      tree,\n      focus,\n      initialMaxNodes = DEFAULT_INITIAL_MAX_NODES,\n      fixedNodeSize = false,\n      fisheye = false,\n      classnames = {},\n      shouldCorrectNodesOutside = false,\n      enableZooming = false,\n      useCtrlToZoom = false,\n      searchTerm = '',\n    } = {}\n  ) {\n    this._global = {\n      tree: d3Tree(),\n      selection: {\n        tree: null,\n        focus: null,\n      },\n      initialMaxNodes: +initialMaxNodes || DEFAULT_INITIAL_MAX_NODES,\n      instance: this,\n      fixedNodeSize,\n      fisheye,\n      shouldCorrectNodesOutside,\n      enableZooming,\n      useCtrlToZoom,\n      searchTerm,\n      classnames: Object.assign({}, DEFAULT_CLASSNAMES, classnames),\n      scale: 1,\n      margin: 20,\n    };\n    this._listenersPerType = new Map([\n      ['click', new Set()],\n      ['focus', new Set()],\n    ]);\n    // call the setters, this is on purpose to share sanity checking logic\n    this.data = data;\n    this.tree = tree;\n    this.focus = focus;\n\n    // Observer for a direct change in the width attibute of the svg\n    this.observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (\n          mutation.type === 'attributes' &&\n          mutation.attributeName === 'width' &&\n          this._global?.selection?.tree\n        ) {\n          const width = Number(mutation.target.getAttribute('width'));\n          updateWidth(width, this._global);\n          this.redraw();\n        }\n      });\n    });\n\n    // bind methods to this instance\n    // private\n    this._keyDownEventListener = this._keyDownEventListener.bind(this);\n    this._eventListenerCommon = this._eventListenerCommon.bind(this);\n    // public\n    this.redraw = this.redraw.bind(this);\n    this.focusNodeWithID = this.focusNodeWithID.bind(this);\n    this.addEventListener = this.addEventListener.bind(this);\n    this.removeEventListener = this.removeEventListener.bind(this);\n    this.cleanup = this.cleanup.bind(this);\n  }\n\n  // private methods\n  _keyDownEventListener(e) {\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        // Focus next sibling\n        focus(this._global, this._global.focused.sibling(1));\n        this.redraw();\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        // Focus previous sibling\n        focus(this._global, this._global.focused.sibling(-1));\n        this.redraw();\n        break;\n      case 'ArrowLeft':\n        e.preventDefault();\n        // Focus parent\n        focus(this._global, this._global.focused.parent);\n        this.redraw();\n        break;\n      case 'ArrowRight':\n        e.preventDefault();\n        // If collapsed, open\n        if (this._global.focused._children) {\n          toggle(this._global, e, this._global.focused);\n        }\n        // Focus first child\n        focus(\n          this._global,\n          this._global.focused.children && this._global.focused.children[0]\n        );\n        this.redraw();\n        break;\n      case 'Enter':\n        e.preventDefault();\n        toggle(this._global, e, this._global.focused);\n        this.redraw();\n        break;\n      default:\n        return;\n    }\n  }\n\n  // public methods\n  // 'redraw' forces the redrawing of the graphics\n  redraw() {\n    draw(this._global);\n  }\n\n  getDataFromEvent(event) {\n    if (!event.target) return null;\n    const node = select(event.target).datum();\n    if (!node) return null;\n    return node.data;\n  }\n\n  // getters/setters\n  // data\n  set data(data) {\n    if (Array.isArray(data)) throw new Error('Input data cant be an array');\n\n    this._global.data = data || {};\n    this._global.root = hierarchy(this._global.data);\n    // Specific cases\n    // A hit count has been defined\n    if (this._global.root.data.hitcount) {\n      this._global.root.sort((a, b) => b.data.hitcount - a.data.hitcount);\n    }\n    this._global.all = this._global.root.descendants();\n    // Initial node collapse\n    const maxDepth = getMaxDepth(\n      getDepthCounts(this._global.all),\n      this._global.initialMaxNodes\n    );\n    for (const node of this._global.all) {\n      if (node.depth >= maxDepth) collapse(node);\n    }\n\n    // Set focus to root\n    focus(this._global, this._global.root);\n\n    // Specific cases\n    // A hit distribution has been defined\n    if (\n      this._global.root.data.hitdist &&\n      this._global.root.data.hitdist.length\n    ) {\n      this._global.maxCountBin = max(this._global.all, (node) =>\n        max(node.data.hitdist)\n      );\n      this._global.nBins = this._global.root.data.hitdist.length;\n    }\n\n    this.redraw();\n  }\n\n  get data() {\n    return this._global.data;\n  }\n\n  // tree\n  set tree(element) {\n    if (!element) {\n      this._global.selection.tree = null;\n      return;\n    }\n    if (element.tagName.toLowerCase() !== 'svg') {\n      throw new Error('Root element for the tree needs to be an SVG element');\n    }\n    this._global.selection.tree = select(element).attr('tabindex', 0);\n    this._global.svg = element;\n\n    // move focus according to keyboard\n    element.addEventListener('keydown', this._keyDownEventListener.bind(this));\n    // resize according to available size\n    updateTreeSize(this._global.selection.tree, this._global);\n    // ... and corresponding resizes\n    window.addEventListener('resize', () => {\n      updateTreeSize(this._global.selection.tree, this._global);\n      this.redraw();\n    });\n\n    this.observer.observe(element, { attributes: true });\n    if (this._global.enableZooming)\n      addZoominPanning(this._global.selection.tree, this._global);\n\n    this.redraw();\n  }\n  resetZoom() {\n    if (this._global.enableZooming)\n      resetZooming(this._global.selection.tree, this._global);\n  }\n\n  get tree() {\n    return this._global.selection.tree\n      ? this._global.selection.tree.node()\n      : undefined;\n  }\n\n  // focus\n  set focus(element) {\n    if (!element) {\n      this._global.selection.focus = null;\n      return;\n    }\n    // Replace possible loading elements\n    for (const child of element.children) {\n      element.removeChild(child);\n    }\n    const root = (this._global.selection.focus = select(element));\n\n    const desc = root\n      .append('div')\n      .attr('class', 'desc')\n      .style('display', 'inline-block');\n    desc.append('p').attr('class', 'lineage').append('span').text('Lineage:');\n    desc.append('p').attr('class', 'name');\n    // Histogram\n    root\n      .append('svg')\n      .attr('class', 'hits')\n      .attr('width', 200)\n      .attr('height', 100)\n      .attr('viewBox', '0 0 200 100')\n      .style('float', 'right')\n      .style('height', '100%')\n      // Background\n      .append('rect')\n      .attr('class', 'hits-bg')\n      .attr('fill', '#fff')\n      .attr('width', 200)\n      .attr('height', 100);\n\n    // resize according to available size\n    updateFocusSize(this._global.selection.focus);\n\n    this.redraw();\n  }\n\n  get focus() {\n    return this._global.selection.tree\n      ? this._global.selection.tree.node()\n      : undefined;\n  }\n\n  set fisheye(value) {\n    const _value = !!value;\n    if (this._global.fisheye !== _value) {\n      this._global.fisheye = _value;\n      this.redraw();\n    }\n  }\n\n  get fisheye() {\n    return this._global.fisheye;\n  }\n\n  set searchTerm(value) {\n    if (this._global.searchTerm !== value) {\n      this._global.searchTerm = value;\n      this.redraw();\n    }\n  }\n\n  get searchTerm() {\n    return this._global.searchTerm;\n  }\n\n  _eventListenerCommon(type, fun) {\n    if (typeof fun !== 'function') throw new Error('Did not pass a function');\n    const listeners = this._listenersPerType.get(type);\n    if (!listeners) throw new Error(`'${type}' is not a supported event type`);\n    return listeners;\n  }\n\n  focusNodeWithID(id) {\n    // Try to find the node with the corresponding ID\n    const toBeFocused = this._global.all.find((node) => node.data.id === id);\n    // Just returns without doing anything if didn't find\n    if (!toBeFocused) return;\n    // Set focus to found node\n    focus(this._global, toBeFocused);\n  }\n\n  addEventListener(type, fun) {\n    const listeners = this._eventListenerCommon(type, fun);\n    listeners.add(fun);\n    return fun;\n  }\n\n  removeEventListener(type, fun) {\n    const listeners = this._eventListenerCommon(type, fun);\n    listeners.delete(fun);\n  }\n\n  cleanup() {\n    for (const [, listeners] of this._listenersPerType) listeners.clear();\n    this._listenersPerType.clear();\n    this.observer.disconnect();\n    // remove references\n    this._global.instance = null;\n  }\n}\n","import TaxonomyVisualisation from './taxonomy-visualisation';\n\nexport default TaxonomyVisualisation;\n","export default (depthCounts, maxCount) => {\n  for (const [depth, count] of depthCounts.entries()) {\n    if (count > maxCount) return depth - 1;\n  }\n  return depthCounts.length - 1;\n};\n","export default nodes => {\n  const depthCounts = [];\n  for (const node of nodes) {\n    depthCounts[node.depth] = (depthCounts[node.depth] || 0) + 1;\n  }\n  return depthCounts;\n};\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","module","exports","default","max","values","valueof","undefined","value","index","defaultSeparation","a","b","parent","nextLeft","v","children","t","nextRight","moveSubtree","wm","wp","shift","change","c","s","z","m","nextAncestor","vim","ancestor","TreeNode","node","this","_","A","separation","dx","dy","nodeSize","tree","root","child","n","nodes","pop","treeRoot","eachAfter","firstWalk","eachBefore","secondWalk","sizeNode","left","right","bottom","x","depth","tx","kx","ky","y","siblings","w","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","size","create","hierarchy","sibling","offset","indexTmp","indexOf","getSize","element","width","height","getBoundingClientRect","getMargin","updateTreeSize","treeSelection","global","margin","attr","collapse","Error","_children","forEach","removeFocus","inPath","focused","setFocusPath","all","ancestors","descendants","setFocus","selection","instance","data","sel","dispatchEvent","CustomEvent","detail","listeners","_listenersPerType","get","dispatchFocus","event","stopPropagation","colors","off","focus","HEIGHT","slice","Bump","constructor","context","_context","_x","areaStart","_line","areaEnd","NaN","lineStart","_point","lineEnd","closePath","point","lineTo","moveTo","bezierCurveTo","_x0","_y0","bumpX","p","linkSource","d","source","linkTarget","target","link","selectAll","classnames","links","id","sid","tid","enter","insert","merge","transition","curve","output","buffer","argv","path","constant","exit","remove","tpmt","Math","pow","tau","PI","elasticOut","custom","asin","elasticIn","sin","amplitude","period","elasticInOut","f","x0","sqrt","abs","recalculatePos","y0","newX","newY","ch","correctNodesOutOfWorkspace","type","fisheye","shouldCorrectNodesOutside","svg","targetNodeDescendants","overOutlayers","filter","underOutlayers","correctNodesOutside","enableZooming","scale","focusRing","append","ease","hitcount","log","nodeEnter","on","toggle","redraw","style","fixedNodeSize","_event","tmpNode","nodeInfo","label","name","searchTerm","toLowerCase","startsWith","arrow","hitdist","hits","hitsBg","nBins","bin","maxCountBin","text","_isDrawPlanned","test","requestAnimationFrame","select","reverse","binWidth","bins","delay","draw","DEFAULT_CLASSNAMES","initialMaxNodes","useCtrlToZoom","_global","assign","Map","Set","observer","MutationObserver","mutations","mutation","attributeName","h","updateWidth","Number","getAttribute","_keyDownEventListener","bind","_eventListenerCommon","focusNodeWithID","addEventListener","removeEventListener","cleanup","e","preventDefault","getDataFromEvent","datum","sort","maxDepth","depthCounts","maxCount","count","entries","tagName","window","observe","attributes","tmpX","tmpY","_zoom","WheelEvent","ctrlKey","sourceEvent","movementX","movementY","k","transform","edges","top","scaleExtent","resetZoom","removeChild","desc","focusSelection","updateFocusSize","_value","fun","toBeFocused","find","add","delete","clear","disconnect","sum","mapChildren","objectChildren","childs","Node","from","computeHeight","copyData","each","callback","that","next","compare","end","start","aNodes","bNodes","leastCommonAncestor","splice","leaves","copy","Symbol","iterator","current","pi","epsilon","tauEpsilon","strings","Path","digits","_x1","_y1","_append","floor","round","appendRound","quadraticCurveTo","x1","y1","x2","y2","arcTo","r","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","cos","cw","da","rect"],"sourceRoot":""}