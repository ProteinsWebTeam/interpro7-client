"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[4847],{98296:(e,t,a)=>{a.d(t,{Z:()=>d}),a(752),a(76265);var r=a(67294),n=a(45697),l=a.n(n),o=a(9495),s=a(9033),i=a(85869),c=a(65455),u=e=>{var t,a,{data:n,ipScanVersion:l,callback:o}=e,s=null==n||null==(t=n.payload)||null==(t=t.databases)||null==(t=t.interpro)?void 0:t.version,u=new Date((null==n||null==(a=n.payload)||null==(a=a.databases)||null==(a=a.interpro)?void 0:a.releaseDate)||0),[d,m]=(l||"").split("-");if((0,r.useEffect)((()=>{o&&o(s!==m)}),[s,m,o]),!n||n.loading||!l)return r.createElement(i.Z,{inline:!0});var p=Math.round(((new Date).getTime()-u.getTime())/864e5);return s!==m?r.createElement(c.Z,{type:"info"},r.createElement("h4",null,"Mismatched Version"),r.createElement("p",null,"InterProScan version: ",r.createElement("code",null,l),"."),r.createElement("p",null,"Some links might not work as the results are from a previous release of InterPro ",m?r.createElement("code",null,m):null," and some of the data might have been deleted or changed in the current version"," ",r.createElement("code",null,s),"."),p<5?r.createElement("p",null,r.createElement("b",null,"Note:"),"InterPro version ",r.createElement("code",null,s)," has been released on"," ",r.createElement("i",null,u.toLocaleDateString()),". We are still in the process of updating the InterProScan web service which might take up to 5 days. This might explain version mismatches of recently submitted jobs."):null):null};u.propTypes={data:l().shape({loading:l().bool,payload:l().object}),ipScanVersion:l().string,callback:l().func};const d=(0,o.Z)(s.g$)(u)},15039:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(67294),n=a(45697),l=a.n(n),o=a(45007),s=a(42152),i=a.n(s),c=a(2191),u=a(87616),d=a(3817),m=e=>{var{textToCopy:t,tooltipText:a,addToast:n}=e,l=(0,r.useRef)(null);return(0,r.useEffect)((()=>{new(i())(l.current,{text:()=>t}).on("success",(()=>n({title:"Copy successful",ttl:1e3},"clipboard")))})),r.createElement(c.Z,{title:a},r.createElement(d.Z,{type:"inline",ref:l,icon:"icon-copy"}))};m.propTypes={textToCopy:l().string,tooltipText:l().string,addToast:l().func};const p=(0,o.$j)(void 0,{addToast:u.fz})(m)},99132:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(67294),n=(0,a(3509).D)({loader:"spinningCircle_style__loader___cf","awesome-spin":"spinningCircle_style__awesome-spin___f9"});const l=()=>r.createElement("div",{className:n("loader","awesome-spin")})},9495:(e,t,a)=>{a.d(t,{Z:()=>b}),a(73964),a(60429);var r=a(67294),n=a(45697),l=a.n(n),o=a(45007),s=a(19119),i=a(74482),c=a(66467),u=a(87616),d=a(94028),m=a(72004),p=a(27262),h=["dataProgressInfo","dataProgressUnload","appState"];function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_.apply(this,arguments)}function v(e,t,a,r,n,l,o){try{var s=e[l](o),i=s.value}catch(e){return void a(e)}s.done?t(i):Promise.resolve(i).then(r,n)}var f=(0,s.P1)((e=>e),(e=>({appState:e}))),g=e=>({loading:!!e,progress:0,ok:!0,status:null,payload:null,url:e});const b=e=>{var{getUrl:t,fetchOptions:a,propNamespace:n,weight:s,mapStateToProps:b,mapDispatchToProps:y}=(0,d.Z)(e),E=(0,m.Z)(a);return e=>{class d extends r.PureComponent{constructor(e){var r;super(e),r=this,this._cancel=()=>{this._request&&this._request.cancel(),this.props.dataProgressUnload(this._id)},this._progress=e=>{this.setState((t=>{var{data:a}=t;return{data:Object.assign({},a,{progress:e})}})),this.props.dataProgressInfo(this._id,e,s)},this._load=function(){var e,t=(e=function*(e){if(e){r.props.dataProgressInfo(r._id,0,s),r._request=(0,c.Z)((t=>E(e,Object.assign({},a,{signal:t}),r._progress,r.props.addToast)));var t=r._request;try{var n=yield t.promise;gtag("event","data",{event_category:"data",event_response:n.status,event_label:e,event_clientcache:n.headers.has("Client-Cache")?1:0,event_cache:n.headers.has("Cached")?1:0}),r.setState((e=>{var{data:t}=e,a=Object.assign({},t,n,{progress:1,loading:!1});return{data:a,staleData:a}})),r.props.dataProgressInfo(r._id,1,s);var l=1e3*r.props.appState.settings.navigation.secondsToRetry;408===n.status&&(r.timeoutID=setTimeout((()=>{console.log("Retrying the Timed out query"),r.setState({retries:r.state.retries+1})}),l))}catch(a){t.canceled||(gtag("event","error",{event_category:"data",event_status:"fail",event_label:e,event_online:window.navigator.onLine?1:0}),r.setState((e=>{var{data:t}=e;return{data:Object.assign({},t,{loading:!1,progress:1,ok:!1,error:a})}})),r.props.dataProgressInfo(r._id,1,s))}}else r.setState({staleData:Object.assign({},r.state.data)})},function(){var t=this,a=arguments;return new Promise((function(r,n){var l=e.apply(t,a);function o(e){v(l,r,n,o,s,"next",e)}function s(e){v(l,r,n,o,s,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),this._id=(0,i.Z)("data-loader");var n=t(e.appState,e);this.state={url:n,data:g(n),staleData:null,retries:0}}static getDerivedStateFromProps(e,a){var r=t(e.appState,e);return a.url===r?null:{data:g(r),url:r}}componentDidMount(){this._load(this.state.url)}componentDidUpdate(e,t){t.url===this.state.url&&t.retries===this.state.retries||(this._cancel(),this._load(this.state.url))}componentWillUnmount(){this._cancel(),this.timeoutID&&clearTimeout(this.timeoutID)}render(){var t=this.props,{appState:a}=t,l=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(t,h),o=Object.assign({},l,{["data"+n]:this.state.staleData||this.state.data,["isStale"+n]:this.state.staleData!==this.state.data});return this.state.data&&!this.state.data.loading&&this.state.data.url===this.state.url&&(o["isStale"+n]=!1),r.createElement(p.m,{customLocation:a.customLocation},r.createElement(e,_({},o,b(a,o)||{})))}}return d.displayName="loadData("+(e.displayName||e.name)+")",d.propTypes={dataProgressInfo:l().func.isRequired,dataProgressUnload:l().func.isRequired,addToast:l().func.isRequired,appState:l().object.isRequired},(0,o.$j)(f,Object.assign({dataProgressInfo:u.fF,dataProgressUnload:u.ks,addToast:u.fz},y))(d)}}},19963:(e,t,a)=>{a.d(t,{Z:()=>r});const r=e=>t=>(t.preventDefault(),t.stopPropagation(),e(t))},81667:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(67294),n=(0,a(76371).Z)({"tag-sqc":"Accession_style__tag-sqc___bf"});const l=e=>{var{withTitle:t,accession:a,title:l}=e;return r.createElement("div",null,""!==l&&t?r.createElement("span",null," ",l||"Accession",":"):null,"Job ID"===l?r.createElement("span",{className:n("tag-sqc")}," ",a):a)}},13072:(e,t,a)=>{a.d(t,{Z:()=>m}),a(64043),a(22462);var r=a(67294),n=a(45007),l=a(2191),o=a(3817),s=a(87616),i=a(76371),c=a(82806),u=a(75560),d=(0,i.Z)(c.Z,u.Z);const m=(0,n.$j)(void 0,{updateJob:s.gK,deleteJob:s.CC,goToCustomLocation:s.xb,keepJobAsLocal:s.nh})((e=>{var{withTitle:t,forStatus:a,status:n,localID:s,deleteJob:i,goToCustomLocation:c,keepJobAsLocal:u,versionMismatch:m,attributes:p,sequence:h,MoreActions:_}=e;return r.createElement("nav",{className:d("buttons",{centered:a})},t&&"Actions: ",r.createElement(l.Z,{title:r.createElement("div",null,r.createElement("b",null,"Delete job"),": This will remove the stored data from your browser. Remember that search results are only retained on our servers for 7 days")},r.createElement(o.Z,{type:a?"inline":"secondary",icon:"icon-trash",onClick:()=>{null==i||i({metadata:{localID:s}}),null==c||c({description:{main:{key:"result"},result:{type:"InterProScan"}}})},"aria-label":"Delete Results"},!a&&r.createElement("span",null,"Delete Results"))),"finished"===n&&r.createElement(l.Z,{title:r.createElement("div",null,r.createElement("b",null,"Save results in Browser"),": If you save the results of this search in your browser, you will be able to view it here even after it is deleted from our servers or when you are offline.")},r.createElement(o.Z,{type:a?"inline":"secondary",icon:"icon-save",onClick:()=>null==u?void 0:u(s),"aria-label":"Save results in Browser"},!a&&r.createElement("span",null,"Save results in Browser"))),m&&r.createElement(l.Z,{title:r.createElement("div",null,r.createElement("b",null,"Execute the job again"),": We detected the current results were executed with a previous version of InterProScan. Click in the button to create a new job with the most recent version.")},r.createElement(o.Z,{type:"hollow",icon:"icon-history",onClick:()=>{var e={};(null==p?void 0:p.applications)&&(e.applications="string"==typeof p.applications?[p.applications]:p.applications),null==c||c({description:{main:{key:"search"},search:{type:"sequence",value:((h||"").match(/(.{1,60})/g)||[]).join("\n")}},search:e})},"aria-label":"Execute the job again",textColor:"var(--colors-light-txt)"})),_||null)}))},5138:(e,t,a)=>{a.r(t),a.d(t,{IPScanStatus:()=>le,default:()=>ie,getIProScanURL:()=>re}),a(752),a(73964),a(76265),a(268),a(64043),a(61514),a(76801),a(65137);var r=a(67294),n=a(8575),l=a(10838),o=a(21105),s=a(63294),i=a(87616),c=a(45007),u=a(19119),d=a(9327),m=a(29643),p=a(53506),h=a(41089),_=a(96576),v=a(2191),f=a(60047),g=a(15039),b=a(26940),y=a(3817),E=a(99132),S=a(76371),w=a(82806),Z=(0,S.Z)(w.Z,{icon:"RefreshButton_style__icon___a3"}),D="Manually refresh job information";const I=(0,c.$j)(void 0,{updateJobStatus:i.L2})((e=>{var{updateJobStatus:t}=e,a=(0,r.useRef)(null);return r.createElement(y.Z,{"aria-label":D,onClick:()=>{a.current&&(a.current.animate&&a.current.animate({transform:["rotate(0)","rotate(360deg)"]},{duration:500,iterations:2}),t())}},r.createElement(v.Z,{title:D},r.createElement("span",{className:Z("icon","icon-common"),"data-icon":"",ref:a})))}));var T=a(73935),C=a(45697),P=a.n(C),j=a(3509),N=a(16786),k=a(29239),x=a(76853),O=document.getElementById("modal-root"),R=(0,j.D)(k.Z,N.Z,{"modal-bg":"Modal_style__modal-bg___ea",modal:"Modal_style__modal___ce","close-modal":"Modal_style__close-modal___c2"}),M=e=>{var{show:t=!1,children:a,closeModal:n=x.Z}=e;if(!t)return null;var l=r.createElement(r.Fragment,null,r.createElement("div",{className:R("modal-bg")}),r.createElement("div",{className:R("modal"),"data-reveal":!0,"aria-labelledby":"modalTitle",role:"dialog"},a,r.createElement("button",{className:R("close-modal"),"aria-label":"Close",onClick:n},"×")));return(0,T.createPortal)(l,O)};M.propTypes={show:P().bool,children:P().any,closeModal:P().func};const J=M,q=(0,c.$j)(void 0,{deleteJob:i.CC})((e=>{var{show:t,closeModal:a,jobs:n,from:l,deleteJob:o}=e;return r.createElement(J,{show:t,closeModal:a},r.createElement("h2",{id:"modalTitle"},"Clear all InterProScan jobs"),n&&n.length?r.createElement(r.Fragment,null,r.createElement("p",null,"You are about to permanently remove ",n.length," InterProScan jobs that were loaded from ",l,"."),r.createElement("div",{style:{textAlign:"right"}},r.createElement(y.Z,{onClick:()=>{for(var e of n)o({metadata:{localID:e.localID}});a()}},"Delete"))):r.createElement("p",null,"There are not jobs loaded from ",l," to delete."))}));var L=a(18457),A=a(19963),F=a(74482),U=a(98296),z=a(85869),K=a(65455);const W=e=>{var{fileContent:t}=e;return t?(e=>{var t,a;return"crossReferences"in((null===(t=null==e?void 0:e.results)||void 0===t?void 0:t[0])||{})&&"openReadingFrames"in((null===(a=null==e?void 0:e.results)||void 0===a?void 0:a[0])||{})})(t)?r.createElement(K.Z,{type:"info",showIcon:!0,icon:"icon-dna"},r.createElement("b",null,"Nucleotide Sequence"),r.createElement("p",null,"We have detected this file as an InterProScan search result using a sequence of ",r.createElement("b",null,"nucleotides"),".")):null:r.createElement(z.Z,{inline:!0})},$=(0,c.$j)(void 0,{importJobFromData:i.x6})((e=>{var t,{show:a,closeModal:n,fileContent:l,fileName:o,importJobFromData:s}=e,i=null;return l&&"object"==typeof(t=l)&&"results"in t&&"interproscan-version"in t&&(i=l),r.createElement(J,{show:a,closeModal:n},r.createElement("h2",{id:"modalTitle"},"InterProScan File"),i?r.createElement(r.Fragment,null,r.createElement("p",null,"Loading file: ",r.createElement("code",null,o)),r.createElement("p",null,"You are about to load the analysis of"," ",r.createElement("b",null,i.results.length," sequences")," with InterProScan version ",i["interproscan-version"]),r.createElement(U.Z,{ipScanVersion:l["interproscan-version"]}),r.createElement(W,{fileContent:i}),r.createElement("div",{style:{textAlign:"right"}},r.createElement(y.Z,{onClick:()=>{var e,t,a,r,l;i&&(e=i.results,t="imported_file-"+o,null,a=i["interproscan-version"],r=i.applications,s({metadata:{localID:l=(0,F.Z)("internal-"+Date.now()),localTitle:null,type:"InterProScan",remoteID:t,hasResults:e.some((e=>{var t;return(null===(t=null==e?void 0:e.matches)||void 0===t?void 0:t.length)>0})),entries:e.length},data:{localID:l,"interproscan-version":a,results:e,applications:r}}),n())}},"OK"))):r.createElement("p",null,"We couldn't load the file. Check its format and try again."))}));var Y=a(35395),B=(0,S.Z)(w.Z,{"import-result":"ImportResultSearch_style__import-result___d2","import-label":"ImportResultSearch_style__import-label___f4",dragging:"ImportResultSearch_style__dragging___aa","dragging-overlay":"ImportResultSearch_style__dragging-overlay___cd"},Y.Z),V="Import Result";const H=(0,c.$j)(void 0,{goToCustomLocation:i.xb})((e=>{var{goToCustomLocation:t}=e,[a,n]=(0,r.useState)(""),[l,o]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,m]=(0,r.useState)({}),[p,h]=(0,r.useState)(null),_=()=>{t({description:{main:{key:"result"},result:{type:"InterProScan",job:a}}})},v=e=>{if(e){m({}),h(e.name);var t=new FileReader;t.onload=()=>{(e=>{try{var t=JSON.parse(e);m(t)}catch(e){h(null),console.error("File couldn't be parsed as JSON")}u(!0)})(t.result)},t.readAsText(e)}},f=(0,A.Z)((()=>i(!0))),g=(0,A.Z)((()=>i(!1))),b=(0,A.Z)((e=>{var{dataTransfer:t}=e;if(t){var{files:[a]}=t;v(a),i(!1)}}));return r.createElement("div",{className:B("import-result",{dragging:s}),onDrop:b,onDrag:f,onDragStart:f,onDragEnd:g,onDragOver:f,onDragEnter:f,onDragExit:g,onDragLeave:g},r.createElement("label",{className:B("import-label"),htmlFor:"interproScanId"},"Import:"),r.createElement("input",{name:"interproScanId",type:"text",placeholder:"InterProScan ID",value:a,onChange:e=>{var t=e.target.value;try{(0,L.Z)({main:{key:"result"},result:{type:"InterProScan",job:t}}),o(!0)}catch(e){o(!1)}n(t)},onKeyUp:e=>{"Enter"===e.key&&l&&_()}}),r.createElement(y.Z,{disabled:!l,"aria-label":V+" from server with ID",onClick:_,icon:"icon-cloud-download-alt"}),r.createElement("label",{"aria-label":V+" from file",className:"vf-button "+B("icon","icon-common","vf-button","vf-button--primary","vf-button--sm"),"data-icon":""}," ",r.createElement("input",{type:"file",onChange:e=>{var t,{target:a}=e;v(null===(t=a.files)||void 0===t?void 0:t[0]),a.value=""},hidden:!0,accept:".json"})),r.createElement("div",{className:B("dragging-overlay")},"Drop your file here"),r.createElement($,{show:c,fileContent:d,fileName:p||"",closeModal:()=>u(!1)}))}));var X=a(13072),G=a(52727),Q=a(76382),ee=a(18933),te=(0,S.Z)(w.Z,Q.Z,ee.Z),ae=(0,o.Z)({loader:()=>a.e(1169).then(a.bind(a,25392)),loading:()=>null}),re=e=>{var{protocol:t,hostname:a,port:r,pathname:o}=G.default.root.website;return(0,n.format)({protocol:t,hostname:a,port:r,pathname:o+(0,l.Z)({main:{key:"result"},result:{type:"InterProScan",accession:e}})})},ne=()=>r.createElement(m.Z,{to:{description:{main:{key:"search"},search:{type:"sequence"}}},buttonType:"primary"},"Submit a new search");class le extends r.PureComponent{constructor(){var e;super(...arguments),e=this,this.state={show:!1,jobsToRemove:[],from:null},this.deleteAll=function(t){void 0===t&&(t="file");var{jobs:a}=e.props;e.setState({show:!0,from:t,jobsToRemove:a.filter((e=>"file"===t&&"imported file"===e.status||"server"===t&&(e.remoteID||"").startsWith("iprscan5")))})}}render(){var{jobs:e,search:t,defaultPageSize:a}=this.props,n=["localID","localTitle","times","entries"],l=[...e];(0,p.Z2)(l,t,n,{localID:(e,t)=>t.remoteID||e,localTitle:(e,t)=>e||(null==t?void 0:t.remoteID)||(null==t?void 0:t.localID)||"",times:e=>{var{created:t,importing:a,lastUpdate:r}=e;return new Date(t||a||r).toISOString()}}),l=(0,p.TL)(l,t,n,{localID:(e,t)=>t.remoteID||e,localTitle:(e,t)=>e||(null==t?void 0:t.remoteID)||(null==t?void 0:t.localID)||"",times:e=>{var{created:t,importing:a,lastUpdate:r}=e;return(0,d.WU)(new Date(t||a||r))}});var o=t.page_size||a;return l=l.splice(((Number(t.page)||1)-1)*Number(o),Number(o)),r.createElement("div",{className:te("vf-stack")},r.createElement("h3",{className:te("light")},"Your InterProScan Search Results"," ",r.createElement(f.Z,{rtdPage:"searchways.html#sequence-search-results"})),r.createElement("p",{className:te("info")},"Your InterProScan search results are shown below. Searches may take varying times to complete. You can navigate to other pages and once the search is finished, you will receive a notification. The results will be available for 7 days."),r.createElement("p",{className:te("info")},"Alternatively, you can import the results of an InterProScan run (in JSON format) into this page in order to view your search results interactively."),r.createElement(ae,{data:{name:"Your InterProScan searches",description:"The status of all the requested InterProScan searches"},processData:s.o7}),r.createElement("div",{className:te("button-bar")},r.createElement("div",{className:te("button-group")},r.createElement(ne,null),r.createElement(I,null)),r.createElement(H,null)),r.createElement(h.ZP,{dataTable:l,rowKey:"localID",contentType:"result",actualSize:e.length,query:t,showTableIcon:!1},r.createElement(h.Iv,null,r.createElement(b.Z,{label:"Clear All",icon:"icon-trash"},r.createElement("ul",null,r.createElement("li",null,r.createElement(y.Z,{type:"hollow",onClick:()=>this.deleteAll("file")},"Loaded from File")),r.createElement("li",null,r.createElement(y.Z,{type:"hollow",onClick:()=>this.deleteAll("server")},"Loaded from Servers"))))),r.createElement(h.sg,{dataKey:"localTitle",isSearchable:!0,isSortable:!0,renderer:(e,t)=>r.createElement(r.Fragment,null,r.createElement("span",{style:{marginRight:"1em"}},r.createElement(m.Z,{to:{description:{main:{key:"result"},result:{type:"InterProScan",job:t.remoteID||t.localID}}}},("∅"===e?null:e)||t.remoteID||t.localID)),t.remoteID&&!t.remoteID.startsWith("imported")&&r.createElement(g.Z,{textToCopy:re(t.remoteID),tooltipText:"Copy URL"}))},"Results"),r.createElement(h.sg,{dataKey:"entries",isSearchable:!0,isSortable:!0},"Sequences"),r.createElement(h.sg,{dataKey:"times",isSearchable:!0,isSortable:!0,renderer:e=>{var{created:t,importing:a,lastUpdate:n}=e,l=new Date(t||a||n);return r.createElement(v.Z,{title:(t?"Created":"Imported")+" on "+l.toLocaleDateString()+" at "+l.toLocaleTimeString()},r.createElement(_.Z,{date:l,noTitle:!0}))}},"Created"),r.createElement(h.sg,{dataKey:"status",headerClassName:te("table-header-center"),cellClassName:te("table-center"),renderer:(e,t)=>r.createElement(v.Z,{title:"Job "+e},("running"===e||"created"===e||"queued"===e||"submitted"===e)&&r.createElement("div",null,r.createElement(E.Z,null),r.createElement("div",null,"Searching")),"not found"===e||"failed"===e||"failure"===e||"error"===e?r.createElement("span",{style:{fontSize:"160%"},className:te("icon","icon-common","ico-notfound"),"data-icon":"x","aria-label":"Job failed or not found"}):null,["finished","imported file","saved in browser"].includes(e)&&r.createElement(m.Z,{to:{description:{main:{key:"result"},result:{type:"InterProScan",accession:t.remoteID}}}},r.createElement("span",{style:{fontSize:"160%"},className:te("icon","icon-common","finished"===e?"ico-confirmed":"icon-reviewed-data"),"data-icon":"","aria-label":"Job ready"})))},"Status"),r.createElement(h.sg,{dataKey:"localID",defaultKey:"actions",headerClassName:te("table-header-center"),cellClassName:te("table-center","font-ml"),renderer:(e,t)=>r.createElement(X.Z,{localID:e,forStatus:!0,status:t.status})},"Action")),r.createElement(q,{show:this.state.show,closeModal:()=>this.setState({show:!1}),jobs:this.state.jobsToRemove,from:this.state.from}))}}var oe=(e,t)=>t.remoteID&&e.remoteID?t.remoteID>e.remoteID?1:-1:1,se=(0,u.P1)((e=>Object.values(e.jobs||{}).map((e=>e.metadata)).sort(oe)),(e=>e.customLocation.search),(e=>e.settings.navigation.pageSize),((e,t,a)=>({jobs:e,search:t,defaultPageSize:a})));const ie=(0,c.$j)(se,{updateJobStatus:i.L2})(le)},33594:(e,t,a)=>{a.d(t,{Z:()=>m}),a(752),a(76265),a(76801);var r=a(67294),n=a(45007),l=a(87616),o=a(3817),s=a(76371),i=a(82806),c=a(93648),u=a(5931),d=(0,s.Z)(u.Z,i.Z,c.Z);const m=(0,n.$j)(void 0,{updateSequenceJobTitle:l.Pm,updateJobTitle:l.Rn})((e=>{var{type:t,accession:a,localTitle:n,payload:l,updateSequenceJobTitle:s,updateJobTitle:i,status:c,editable:u=!0}=e,[m,p]=(0,r.useState)(n||""),[h,_]=(0,r.useState)(!0),v=(0,r.useRef)(null);(0,r.useEffect)((()=>{var e;p(n||(null===(e=l.xref)||void 0===e?void 0:e[0].name)||"")}),[l,n]);var f=()=>{if(v.current){if(v.current.readOnly)v.current.focus();else if(""!==v.current.value){var e=v.current.value;"sequence"===t&&(l.xref[0].name=e,null==s||s(a,e)),"job"===t&&(l.localTitle=e,null==i||i(a,e)),p(e)}_(!v.current.readOnly)}};return r.createElement("section",{className:d("summary-row")},r.createElement("header",null,"Title"),r.createElement("section",null,r.createElement("input",{ref:v,className:d("title"),value:m,readOnly:h||!u,style:{width:Math.max(null==m?void 0:m.length,10)+"ch"},onChange:e=>p(e.target.value),onDoubleClick:()=>_(!u),onKeyUp:e=>{"Enter"===e.key&&f()},placeholder:"ø"}),u&&["finished","imported file","saved in browser"].includes(c||"")?r.createElement(o.Z,{type:"inline",onClick:f,icon:h?"icon-pencil-alt":"icon-save",title:h?"Rename":"Save"}):null))}))},12728:(e,t,a)=>{a.d(t,{Z:()=>m}),a(76801);var r=a(67294),n=a(2191),l=a(99132),o=a(76371),s=a(82806),i=a(93648),c=(0,o.Z)(s.Z,i.Z),u=e=>{var{status:t}=e;return r.createElement(n.Z,{title:"Job "+t},("running"===t||"queued"===t||"created"===t||"importing"===t||"submitted"===t)&&r.createElement(r.Fragment,null,r.createElement(l.Z,null),r.createElement("div",{className:c("status")},"Searching")),"not found"===t||"failure"===t||"error"===t?r.createElement(r.Fragment,null,r.createElement("span",{className:c("icon","icon-common","ico-notfound"),"data-icon":"x","aria-label":"Job failed or not found"})," ",t):null,["finished","imported file","saved in browser"].includes(t||"")&&r.createElement(r.Fragment,null,r.createElement("span",{className:c("icon","icon-common","ico-confirmed"),"data-icon":"","aria-label":"Job finished"})," ",t))},d=r.memo(u);d.displayName="StatusTooltip";const m=d},53506:(e,t,a)=>{a.d(t,{TL:()=>i,Z2:()=>s,ZP:()=>m}),a(752),a(76265),a(65137),a(64043),a(61514),a(60429);var r=a(67294),n=a(45007),l=a(19119),o=a(41089),s=function(e,t,a,r){void 0===r&&(r={});var n=function(a){var n=r[a]||(e=>""+e);(null==t?void 0:t.sort_by)===a&&e.sort(((e,t)=>n(e[a])>n(t[a])?1:-1)),(null==t?void 0:t.sort_by)==="-"+a&&e.sort(((e,t)=>n(e[a])>n(t[a])?-1:1))};for(var l of a)n(l)},i=function(e,t,a,r){void 0===r&&(r={});var n=[...e],l=function(e){if(null==t?void 0:t[e]){var a=r[e]||(e=>JSON.stringify(e).toLowerCase());n=n.filter((r=>-1!==String(a(r[e],r)).toLowerCase().indexOf(t[e].toLowerCase())))}};for(var o of a)l(o);return n},c=(0,l.P1)((e=>e.customLocation.search),(e=>e.settings.navigation.pageSize),((e,t)=>({search:e,pageSize:t}))),u=(0,n.$j)(c),d=e=>{var{data:t,renderers:a={},columnToString:n={},headerStyle:l={},cellStyle:c={},headerColumns:u={},headerClassName:d={},cellClassName:m={},search:p,pageSize:h}=e,_=Object.keys((null==t?void 0:t[0])||{}),v=t;v=i(v,p,_),s(v,p,_,n);var f=Number(null==p?void 0:p.page_size)||h||20,g=Number(null==p?void 0:p.page)||1;return v=v.slice((g-1)*f,g*f),r.createElement(o.ZP,{actualSize:t.length,dataTable:v,query:p},r.createElement(o.xw,null),_.map((e=>r.createElement(o.sg,{key:e,dataKey:e,renderer:a[e]||(e=>e),isSearchable:!0,isSortable:!0,headerStyle:Object.assign(Object.assign({},l["*"]||{}),l[e]||{}),cellStyle:Object.assign(Object.assign({},c["*"]||{}),c[e]||{}),headerClassName:(d["*"]||"")+" "+(d[e]||""),cellClassName:(m["*"]||"")+" "+(m[e]||"")},u[e]||e))))};const m=e=>{var t=u(d);return r.createElement(t,Object.assign({},e))}},96576:(e,t,a)=>{a.d(t,{Z:()=>u}),a(73964),a(752),a(51090),a(76265);var r,n=a(67294),l=a(9327),o=a(75490),s=a(36957),i=function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)};class c extends n.PureComponent{constructor(e){super(e),r.set(this,0),this._ref=n.createRef()}componentDidMount(){return e=this,t=void 0,r=function*(){if(!this.props.noUpdate)for(yield(0,o._v)(this._delay),yield(0,o.Os)();this._ref.current;)this._ref.current.textContent=(0,l.WU)(this.props.date),yield(0,o._v)(this._delay),yield(0,o.Os)()},new((a=void 0)||(a=Promise))((function(n,l){function o(e){try{i(r.next(e))}catch(e){l(e)}}function s(e){try{i(r.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}i((r=r.apply(e,t||[])).next())}));var e,t,a,r}get _delay(){return function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?n.call(e,a):n?n.value=a:t.set(e,a)}(this,r,(i(this,r,"f")||0)+function(e,t,a){void 0===e&&(e=0),void 0===t&&(t=1);var r=Math.random()*(t-e)+e;return r}(0,6e4),"f"),i(this,r,"f")}render(){var e,{date:t,title:a,noTitle:r}=this.props;return r||(e=a||(0,s.iS)(t)),n.createElement("time",{dateTime:(0,s.ji)(t),title:e,ref:this._ref},(0,l.WU)(t))}}r=new WeakMap;const u=c},36957:(e,t,a)=>{a.d(t,{cz:()=>n,iS:()=>o,ji:()=>s,wX:()=>l});var r=["January","February","March","April","May","June","July","August","September","October","November","December"],n=e=>{var t=new Date(e);return(e=>{if(e>3&&e<21)return e+"th";switch(e%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}})(t.getDate())+" "+r[t.getMonth()]+" "+t.getFullYear()},l=e=>e.getDate()+" "+r[e.getMonth()]+" "+e.getFullYear(),o=e=>(e.getDate()<10?"0":"")+e.getDate()+"/"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"/"+e.getFullYear(),s=e=>(e.getDate()<10?"0":"")+e.getDate()+"-"+(e.getMonth()+1<10?"0":"")+(e.getMonth()+1)+"-"+e.getFullYear()+" "+(e.getHours()<10?"0":"")+e.getHours()+":"+(e.getMinutes()<10?"0":"")+e.getMinutes()+":"+(e.getSeconds()<10?"0":"")+e.getSeconds()},75560:(e,t,a)=>{a.d(t,{Z:()=>r});const r={button:"Actions_style__button___bc",buttons:"Actions_style__buttons___aa",centered:"Actions_style__centered___c3",group:"Actions_style__group___a8",icon:"Actions_style__icon___bf","download-option":"Actions_style__download-option___d0"}},76382:(e,t,a)=>{a.d(t,{Z:()=>r});const r={"button-bar":"Status_style__button-bar___d2","button-group":"Status_style__button-group___bf",info:"Status_style__info___fd"}},93648:(e,t,a)=>{a.d(t,{Z:()=>r});const r={title:"Summary_style__title___a9",status:"Summary_style__status___e9"}},5931:(e,t,a)=>{a.d(t,{Z:()=>r});const r={"summary-row":"styles_summary__summary-row___b3","summary-grid":"styles_summary__summary-grid___b5"}},29239:(e,t,a)=>{a.d(t,{Z:()=>r});const r={label:"styles_theme-interpro__label___ce",special:"styles_theme-interpro__special___ed",button:"styles_theme-interpro__button___ca",primary:"styles_theme-interpro__primary___ba",menu:"styles_theme-interpro__menu___a8",active:"styles_theme-interpro__active___fc",tag:"styles_theme-interpro__tag___e6",disabled:"styles_theme-interpro__disabled___b8",warning:"styles_theme-interpro__warning___aa","local-masthead":"styles_theme-interpro__local-masthead___fd","switch-paddle":"styles_theme-interpro__switch-paddle___ac","white-color":"styles_theme-interpro__white-color___b3"}}}]);
//# sourceMappingURL=4847.module.4847.4dc.js.map