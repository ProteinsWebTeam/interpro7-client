"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[6252],{51679:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=Date.now||function(){return+new Date},o={},n=1;e.core={effect:{Animate:{requestAnimationFrame:function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame,e=!!t;if(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString())&&(e=!1),e)return function(e,i){t(e,i)};var i={},o=1,n=null,s=+new Date;return function(t,e){var l=o++;return i[l]=t,null===n&&(n=setInterval((function(){var t=+new Date,e=i;for(var o in i={},e)e.hasOwnProperty(o)&&(e[o](t),s=t);t-s>2500&&(clearInterval(n),n=null)}),1e3/60)),l}}(),stop:function(t){var e=null!=o[t];return e&&(o[t]=null),e},isRunning:function(t){return null!=o[t]},start:function(t,s,l,a,r,h){var c=i(),_=c,d=0,m=0,f=n++;if(h||(h=document.body),f%20==0){var u={};for(var p in o)u[p]=!0;o=u}var g=function(n){var u=!0!==n,p=i();if(!o[f]||s&&!s(f))return o[f]=null,void(l&&l(60-m/((p-c)/1e3),f,!1));if(u)for(var v=Math.round((p-_)/16.666666666666668)-1,b=0;b<Math.min(v,4);b++)g(!0),m++;a&&(d=(p-c)/a)>1&&(d=1);var x=r?r(d):d;!1!==t(x,p,u)&&1!==d||!u?u&&(_=p,e.core.effect.Animate.requestAnimationFrame(g,h)):(o[f]=null,l&&l(60-m/((p-c)/1e3),f,1===d||null==a))};return o[f]=!0,e.core.effect.Animate.requestAnimationFrame(g,h),f}}}}},30947:function(t,e,i){var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=i(31128),s=function(){function t(t,e){var i=this;if(this.options={},this.browserHasPerspectiveProperty=!1,this.browserHasTransformProperty=!0,this.eventHandlers=[],!t)throw new Error("No Content Element specified!");if(this.content=t,this.container=t.parentNode,!this.container)throw new Error("No Parent Container for Content! Please wrap Content Element in a Container.");this.options=o({},this.options,e),this.scroller=new n.Scroller((function(t,e,o){i.render(t,e,o)}),e);var s=document.createElement("div"),l=this.getVendorPrefix();this.content.style[l+"TransformOrigin"]="left top",this.transformProperty=l+"Transform",this.browserHasTransformProperty=void 0!==s.style[this.transformProperty];var a=l+"Perspective";this.browserHasPerspectiveProperty=void 0!==s.style[a],this.bindEvents(),this.reflow()}return t.prototype.getVendorPrefix=function(){var t,e=document.documentElement.style;return window.opera&&"[object Opera]"===Object.prototype.toString.call(window.opera)?t="presto":"MozAppearance"in e?t="gecko":"WebkitAppearance"in e?t="webkit":"string"==typeof navigator.cpuClass&&(t="trident"),{trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[t]},t.prototype.render=function(t,e,i){this.browserHasPerspectiveProperty?this.content.style[this.transformProperty]="translate3d("+-t+"px,"+-e+"px,0) scale("+i+")":this.browserHasTransformProperty?this.content.style[this.transformProperty]="translate("+-t+"px,"+-e+"px) scale("+i+")":(this.content.style.marginLeft=t?-t/i+"px":"",this.content.style.marginTop=e?-e/i+"px":"",this.content.style.zoom=i||"")},t.prototype.reflow=function(){this.scroller.setDimensions(this.container.clientWidth,this.container.clientHeight,this.content.offsetWidth,this.content.offsetHeight);var t=this.container.getBoundingClientRect();this.scroller.setPosition(t.left+this.container.clientLeft,t.top+this.container.clientTop)},t.prototype.bindEvents=function(){var t=this;if(this.eventHandlers.push({event:"resize",handler:function(){return t.reflow()},forElem:window}),"ontouchstart"in window)this.eventHandlers.push({event:"touchstart",handler:function(e){e.touches[0]&&e.touches[0].target&&e.touches[0].target.tagName.match(/input|textarea|select/i)||(t.reflow(),t.scroller.doTouchStart(e.touches,e.timeStamp))},forElem:this.container},{event:"touchmove",handler:function(e){e.preventDefault(),t.scroller.doTouchMove(e.touches,e.timeStamp,e.scale)},forElem:this.container},{event:"touchend",handler:function(e){return t.scroller.doTouchEnd(e.timeStamp)},forElem:this.container},{event:"touchcancel",handler:function(e){return t.scroller.doTouchEnd(e.timeStamp)},forElem:this.container});else{var e=!1;this.eventHandlers.push({event:"mousedown",handler:function(i){i.target.tagName.match(/input|textarea|select/i)||(t.scroller.doTouchStart([{pageX:i.pageX,pageY:i.pageY}],i.timeStamp),e=!0,t.reflow(),i.preventDefault())},forElem:this.container},{event:"mousemove",handler:function(i){e&&(t.scroller.doTouchMove([{pageX:i.pageX,pageY:i.pageY}],i.timeStamp),e=!0)},forElem:document},{event:"mouseup",handler:function(i){e&&(t.scroller.doTouchEnd(i.timeStamp),e=!1)},forElem:document},{event:"mousewheel",handler:function(e){t.options.zooming&&(t.scroller.doMouseZoom(e.wheelDelta,e.timeStamp,e.pageX,e.pageY),e.preventDefault())},forElem:this.container})}return this.eventHandlers.forEach((function(t){t.forElem.addEventListener(t.event,t.handler,!1)}))},t.prototype.getScroller=function(){return this.scroller},t.prototype.destroy=function(){return this.eventHandlers.forEach((function(t){t.forElem.removeEventListener(t.event,t.handler,!1)}))},t}();e.EasyScroller=s},31128:function(t,e,i){var o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},o.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=i(51679),s=function(){function t(t,e){this.__isSingleTouch=!1,this.__isTracking=!1,this.__didDecelerationComplete=!1,this.__isGesturing=!1,this.__isDragging=!1,this.__isDecelerating=!1,this.__isAnimating=!1,this.__interruptedAnimation=!1,this.__initialTouchLeft=null,this.__initialTouchTop=null,this.__initialTouches=null,this.__lastScale=1,this.__enableScrollX=!0,this.__enableScrollY=!0,this.__clientLeft=0,this.__clientTop=0,this.__clientWidth=0,this.__clientHeight=0,this.__contentWidth=0,this.__contentHeight=0,this.__snapWidth=100,this.__snapHeight=100,this.__refreshHeight=null,this.__refreshActive=!1,this.__refreshActivate=null,this.__refreshDeactivate=null,this.__refreshStart=null,this.__zoomLevel=1,this.__zoomLevelStart=this.__zoomLevel,this.__scrollLeft=0,this.__scrollTop=0,this.__maxScrollLeft=0,this.__maxScrollTop=0,this.__scheduledLeft=0,this.__scheduledTop=0,this.__scheduledZoom=0,this.__lastTouchLeft=null,this.__lastTouchTop=null,this.__lastTouchMove=null,this.__positions=null,this.__minDecelerationScrollLeft=null,this.__minDecelerationScrollTop=null,this.__maxDecelerationScrollLeft=null,this.__maxDecelerationScrollTop=null,this.__decelerationVelocityX=null,this.__decelerationVelocityY=null,this.__callback=function(t,e,i){},this.__zoomComplete=function(){},this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,zoomLevel:1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:function(){},penetrationDeceleration:.03,penetrationAcceleration:.08},this.__callback=t,this.options=o({},this.options,e),e.zoomLevel&&e.zoomLevel>=this.options.minZoom&&e.zoomLevel<=this.options.maxZoom&&(this.__zoomLevel=e.zoomLevel,this.__zoomLevelStart=this.__zoomLevel)}return t.prototype.easeOutCubic=function(t){return Math.pow(t-1,3)+1},t.prototype.easeInOutCubic=function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},t.prototype.setDimensions=function(t,e,i,o){t===+t&&(this.__clientWidth=t),e===+e&&(this.__clientHeight=e),i===+i&&(this.__contentWidth=i),o===+o&&(this.__contentHeight=o),this.__computeScrollMax(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0)},t.prototype.setPosition=function(t,e){this.__clientLeft=t||0,this.__clientTop=e||0},t.prototype.setSnapSize=function(t,e){this.__snapWidth=t,this.__snapHeight=e},t.prototype.activatePullToRefresh=function(t,e,i,o){this.__refreshHeight=t,this.__refreshActivate=e,this.__refreshDeactivate=i,this.__refreshStart=o},t.prototype.triggerPullToRefresh=function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},t.prototype.finishPullToRefresh=function(){this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0)},t.prototype.getValues=function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel}},t.prototype.getScrollMax=function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},t.prototype.zoomTo=function(t,e,i,o,s){if(!this.options.zooming)throw new Error("Zooming is not enabled!");s&&(this.__zoomComplete=s),this.__isDecelerating&&(n.core.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1);var l=this.__zoomLevel;null==i&&(i=this.__clientWidth/2),null==o&&(o=this.__clientHeight/2),t=Math.max(Math.min(t,this.options.maxZoom),this.options.minZoom),this.__computeScrollMax(t);var a=(i+this.__scrollLeft)*t/l-i,r=(o+this.__scrollTop)*t/l-o;a>this.__maxScrollLeft?a=this.__maxScrollLeft:a<0&&(a=0),r>this.__maxScrollTop?r=this.__maxScrollTop:r<0&&(r=0),this.__publish(a,r,t,e)},t.prototype.zoomBy=function(t,e,i,o,n){this.zoomTo(this.__zoomLevel*t,e,i,o,n)},t.prototype.scrollTo=function(t,e,i,o){if(this.__isDecelerating&&(n.core.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1),null!=o&&o!==this.__zoomLevel){if(!this.options.zooming)throw new Error("Zooming is not enabled!");t*=o,e*=o,this.__computeScrollMax(o)}else o=this.__zoomLevel;this.options.scrollingX?this.options.paging?t=Math.round(t/this.__clientWidth)*this.__clientWidth:this.options.snapping&&(t=Math.round(t/this.__snapWidth)*this.__snapWidth):t=this.__scrollLeft,this.options.scrollingY?this.options.paging?e=Math.round(e/this.__clientHeight)*this.__clientHeight:this.options.snapping&&(e=Math.round(e/this.__snapHeight)*this.__snapHeight):e=this.__scrollTop,t=Math.max(Math.min(this.__maxScrollLeft,t),0),e=Math.max(Math.min(this.__maxScrollTop,e),0),t===this.__scrollLeft&&e===this.__scrollTop&&(i=!1),this.__isTracking||this.__publish(t,e,o,i)},t.prototype.scrollBy=function(t,e,i){var o=this.__isAnimating?this.__scheduledLeft:this.__scrollLeft,n=this.__isAnimating?this.__scheduledTop:this.__scrollTop;this.scrollTo(o+(t||0),n+(e||0),i)},t.prototype.doMouseZoom=function(t,e,i,o){var n=t>0?.97:1.03;return this.zoomTo(this.__zoomLevel*n,!1,i-this.__clientLeft,o-this.__clientTop)},t.prototype.doTouchStart=function(t,e){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);var i,o;this.__interruptedAnimation=!0,this.__isDecelerating&&(n.core.effect.Animate.stop(this.__isDecelerating),this.__isDecelerating=!1,this.__interruptedAnimation=!0),this.__isAnimating&&(n.core.effect.Animate.stop(this.__isAnimating),this.__isAnimating=!1,this.__interruptedAnimation=!0);var s=1===t.length;s?(i=t[0].pageX,o=t[0].pageY):(i=Math.abs(t[0].pageX+t[1].pageX)/2,o=Math.abs(t[0].pageY+t[1].pageY)/2),this.__initialTouchLeft=i,this.__initialTouchTop=o,this.__initialTouches=t,this.__zoomLevelStart=this.__zoomLevel,this.__lastTouchLeft=i,this.__lastTouchTop=o,this.__lastTouchMove=e,this.__lastScale=1,this.__enableScrollX=!s&&this.options.scrollingX,this.__enableScrollY=!s&&this.options.scrollingY,this.__isTracking=!0,this.__didDecelerationComplete=!1,this.__isDragging=!s,this.__isSingleTouch=s,this.__positions=[]},t.prototype.doTouchMove=function(t,e,i){if(null==t.length)throw new Error("Invalid touch list: "+t);if(e instanceof Date&&(e=e.valueOf()),"number"!=typeof e)throw new Error("Invalid timestamp value: "+e);if(this.__isTracking){var o,n;2===t.length?(o=Math.abs(t[0].pageX+t[1].pageX)/2,n=Math.abs(t[0].pageY+t[1].pageY)/2,!i&&this.options.zooming&&(i=this.__getScale(this.__initialTouches,t))):(o=t[0].pageX,n=t[0].pageY);var s=this.__positions;if(this.__isDragging){var l=o-this.__lastTouchLeft,a=n-this.__lastTouchTop,r=this.__scrollLeft,h=this.__scrollTop,c=this.__zoomLevel;if(null!=i&&this.options.zooming){var _=c;if(c=c/this.__lastScale*i,_!==(c=Math.max(Math.min(c,this.options.maxZoom),this.options.minZoom))){var d=o-this.__clientLeft,m=n-this.__clientTop;r=(d+r)*c/_-d,h=(m+h)*c/_-m,this.__computeScrollMax(c)}}if(this.__enableScrollX){r-=l*this.options.speedMultiplier;var f=this.__maxScrollLeft;(r>f||r<0)&&(this.options.bouncing?r+=l/2*this.options.speedMultiplier:r=r>f?f:0)}if(this.__enableScrollY){h-=a*this.options.speedMultiplier;var u=this.__maxScrollTop;(h>u||h<0)&&(this.options.bouncing?(h+=a/2*this.options.speedMultiplier,this.__enableScrollX||null==this.__refreshHeight||(!this.__refreshActive&&h<=-this.__refreshHeight?(this.__refreshActive=!0,this.__refreshActivate&&this.__refreshActivate()):this.__refreshActive&&h>-this.__refreshHeight&&(this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate()))):h=h>u?u:0)}s.length>60&&s.splice(0,30),s.push(r,h,e),this.__publish(r,h,c)}else{var p=this.options.locking?3:0,g=Math.abs(o-this.__initialTouchLeft),v=Math.abs(n-this.__initialTouchTop);this.__enableScrollX=this.options.scrollingX&&g>=p,this.__enableScrollY=this.options.scrollingY&&v>=p,s.push(this.__scrollLeft,this.__scrollTop,e),this.__isDragging=(this.__enableScrollX||this.__enableScrollY)&&(g>=5||v>=5),this.__isDragging&&(this.__interruptedAnimation=!1)}this.__lastTouchLeft=o,this.__lastTouchTop=n,this.__lastTouchMove=e,this.__lastScale=i}},t.prototype.doTouchEnd=function(t){if(t instanceof Date&&(t=t.valueOf()),"number"!=typeof t)throw new Error("Invalid timestamp value: "+t);if(this.__isTracking){if(this.__isTracking=!1,this.__isDragging)if(this.__isDragging=!1,this.__isSingleTouch&&this.options.animating&&t-this.__lastTouchMove<=100){for(var e=this.__positions,i=e.length-1,o=i,n=i;n>0&&e[n]>this.__lastTouchMove-100;n-=3)o=n;if(o!==i){var s=e[i]-e[o],l=this.__scrollLeft-e[o-2],a=this.__scrollTop-e[o-1];this.__decelerationVelocityX=l/s*(1e3/60),this.__decelerationVelocityY=a/s*(1e3/60);var r=this.options.paging||this.options.snapping?4:1;Math.abs(this.__decelerationVelocityX)>r||Math.abs(this.__decelerationVelocityY)>r?this.__refreshActive||this.__startDeceleration(t):this.options.scrollingComplete()}else this.options.scrollingComplete()}else t-this.__lastTouchMove>100&&this.options.scrollingComplete();this.__isDecelerating||(this.__refreshActive&&this.__refreshStart?(this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()):((this.__interruptedAnimation||this.__isDragging)&&this.options.scrollingComplete(),this.scrollTo(this.__scrollLeft,this.__scrollTop,!0,this.__zoomLevel),this.__refreshActive&&(this.__refreshActive=!1,this.__refreshDeactivate&&this.__refreshDeactivate()))),this.__positions.length=0}},t.prototype.__publish=function(t,e,i,o){var s=this,l=this.__isAnimating;if(l&&(n.core.effect.Animate.stop(l),this.__isAnimating=!1),o&&this.options.animating){this.__scheduledLeft=t,this.__scheduledTop=e,this.__scheduledZoom=i;var a=this.__scrollLeft,r=this.__scrollTop,h=this.__zoomLevel,c=t-a,_=e-r,d=i-h;this.__isAnimating=n.core.effect.Animate.start((function(t,e,i){i&&(s.__scrollLeft=a+c*t,s.__scrollTop=r+_*t,s.__zoomLevel=h+d*t,s.__callback&&s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel))}),(function(t){return s.__isAnimating===t}),(function(t,e,i){e===s.__isAnimating&&(s.__isAnimating=!1),(s.__didDecelerationComplete||i)&&s.options.scrollingComplete(),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null))}),this.options.animationDuration,l?this.easeOutCubic:this.easeInOutCubic)}else this.__scheduledLeft=this.__scrollLeft=t,this.__scheduledTop=this.__scrollTop=e,this.__scheduledZoom=this.__zoomLevel=i,this.__callback&&this.__callback(t,e,i),this.options.zooming&&(this.__computeScrollMax(),this.__zoomComplete&&(this.__zoomComplete(),this.__zoomComplete=null))},t.prototype.__computeScrollMax=function(t){void 0===t&&(t=this.__zoomLevel),this.__maxScrollLeft=Math.max(this.__contentWidth*t-this.__clientWidth,0),this.__maxScrollTop=Math.max(this.__contentHeight*t-this.__clientHeight,0)},t.prototype.__startDeceleration=function(t){var e=this;if(this.options.paging){var i=Math.max(Math.min(this.__scrollLeft,this.__maxScrollLeft),0),o=Math.max(Math.min(this.__scrollTop,this.__maxScrollTop),0),s=this.__clientWidth,l=this.__clientHeight;this.__minDecelerationScrollLeft=Math.floor(i/s)*s,this.__minDecelerationScrollTop=Math.floor(o/l)*l,this.__maxDecelerationScrollLeft=Math.ceil(i/s)*s,this.__maxDecelerationScrollTop=Math.ceil(o/l)*l}else this.__minDecelerationScrollLeft=0,this.__minDecelerationScrollTop=0,this.__maxDecelerationScrollLeft=this.__maxScrollLeft,this.__maxDecelerationScrollTop=this.__maxScrollTop;var a=this.options.snapping?4:.001;this.__isDecelerating=n.core.effect.Animate.start((function(t,i,o){e.__stepThroughDeceleration(o)}),(function(){var t=Math.abs(e.__decelerationVelocityX)>=a||Math.abs(e.__decelerationVelocityY)>=a;return t||(e.__didDecelerationComplete=!0),t}),(function(t,i,o){e.__isDecelerating=!1,e.__didDecelerationComplete&&e.options.scrollingComplete(),e.scrollTo(e.__scrollLeft,e.__scrollTop,e.options.snapping)}))},t.prototype.__stepThroughDeceleration=function(t){var e=this.__scrollLeft+this.__decelerationVelocityX,i=this.__scrollTop+this.__decelerationVelocityY;if(!this.options.bouncing){var o=Math.max(Math.min(this.__maxDecelerationScrollLeft,e),this.__minDecelerationScrollLeft);o!==e&&(e=o,this.__decelerationVelocityX=0);var n=Math.max(Math.min(this.__maxDecelerationScrollTop,i),this.__minDecelerationScrollTop);n!==i&&(i=n,this.__decelerationVelocityY=0)}if(t?this.__publish(e,i,this.__zoomLevel):(this.__scrollLeft=e,this.__scrollTop=i),this.options.paging||(this.__decelerationVelocityX*=.95,this.__decelerationVelocityY*=.95),this.options.bouncing){var s=0,l=0,a=this.options.penetrationDeceleration,r=this.options.penetrationAcceleration;e<this.__minDecelerationScrollLeft?s=this.__minDecelerationScrollLeft-e:e>this.__maxDecelerationScrollLeft&&(s=this.__maxDecelerationScrollLeft-e),i<this.__minDecelerationScrollTop?l=this.__minDecelerationScrollTop-i:i>this.__maxDecelerationScrollTop&&(l=this.__maxDecelerationScrollTop-i),0!==s&&(s*this.__decelerationVelocityX<=0?this.__decelerationVelocityX+=s*a:this.__decelerationVelocityX=s*r),0!==l&&(l*this.__decelerationVelocityY<=0?this.__decelerationVelocityY+=l*a:this.__decelerationVelocityY=l*r)}},t.prototype.__getDistance=function(t,e){var i=e.pageX-t.pageX,o=e.pageY-t.pageY;return Math.sqrt(i*i+o*o)},t.prototype.__getScale=function(t,e){return t.length>=2&&e.length>=2?this.__getDistance(e[0],e[1])/this.__getDistance(t[0],t[1]):1},t}();e.Scroller=s},82565:(t,e,i)=>{function o(t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i])}Object.defineProperty(e,"__esModule",{value:!0}),o(i(30947)),o(i(31128))},46252:(t,e,i)=>{i.d(e,{Z:()=>_});var o=i(82565);class n{constructor(t,e={}){this.value=t,this.width=parseInt(e.width,10)||100,"W"===this.value&&(this.width+=30*this.width/100),this.height=parseInt(e.height,10)||100,this.color=e.color||"#000",this.fontSize=e.fontSize||138}draw(t,e,i,o,n,s){const l=e/this.height,a=i/this.width,r=t.font;t.transform(a,0,0,l,o,n),t.fillStyle=s||this.color,t.textAlign="center",t.font=`bold ${this.fontSize}px Arial`,t.fillText(this.value,0,0),t.setTransform(1,0,0,1,0,0),t.fillStyle="#000000",t.font=r}}const s=function(){this.grey="#7a7a7a";const t=(t,e)=>{let i=".",o=0,n=null,s=null;const l={".":20,h:11,"+":3,"-":2,o:2,p:2};for(const[a,r]of Object.entries(e))r>=t&&(n=l[a]||1,s=l[i]||1,n<s?(i=a,o=r):n===s&&r>o&&(i=a,o=e[a]));return i};this.check_PG=function(t,e,i){return i[t].P="#ff1",i[t].G="#ff7f11",1},this.check_R=function(t,e,i){i[t].R=this.grey;const o="#F99",n=["Q","K","R"];for(const s of n)if(e[.85][t]===s)return i[t].R=o,1;return"+"===e["0.60"][t]||"R"===e["0.60"][t]||"K"===e["0.60"][t]?(i[t].R=o,1):1},this.check_Q=function(t,e,i){i[t].Q=this.grey;const o="#9F9",n=["Q","T","K","R"];if("b"===e["0.50"][t]||"E"===e["0.50"][t]||"Q"===e["0.50"][t])return i[t].Q=o,1;for(const s of n)if(e[.85][t]===s)return i[t].Q=o,1;return"+"===e["0.60"][t]||"K"===e["0.60"][t]||"R"===e["0.50"][t]?(i[t].Q=o,1):1},this.check_N=function(t,e,i){i[t].N=this.grey;return"N"===e["0.50"][t]||"D"===e[.85][t]?(i[t].N="#9F9",1):1},this.check_K=function(t,e,i){i[t].K=this.grey;const o="#F99",n=["K","R","Q"];if("+"===e["0.60"][t]||"R"===e["0.60"][t]||"K"===e["0.60"][t])return i[t].K=o,1;for(const s of n)if(e[.85][t]===s)return i[t].K=o,1;return 1},this.check_E=function(t,e,i){i[t].E=this.grey;const o="#F99",n=["D","E"];if("+"===e["0.60"][t]||"R"===e["0.60"][t]||"K"===e["0.60"][t])return i[t].E=o,1;for(const s of n)if(e[.85][t]===s)return i[t].E=o,1;return"b"===e["0.50"][t]||"E"===e["0.50"][t]||"Q"===e["0.50"][t]?(i[t].E=o,1):1},this.check_D=function(t,e,i){i[t].D=this.grey;const o="#F99",n=["D","E","N"];if("+"===e["0.60"][t]||"R"===e["0.60"][t]||"K"===e["0.60"][t])return i[t].D=o,1;for(const s of n)if(e[.85][t]===s)return i[t].D=o,1;return"-"===e["0.50"][t]||"E"===e["0.60"][t]||"D"===e["0.60"][t]?(i[t].D=o,1):1},this.check_ACFILMVW=function(t,e,i){const o=["A","C","F","L","I","M","V","W"],n=["A","C","F","H","I","L","M","V","W","Y","P","Q","h"];for(const s of o){i[t][s]=this.grey;for(const o of n)e["0.60"][t]===o&&(i[t][s]="#99F")}return 1},this.check_ST=function(t,e,i){i[t].S=this.grey,i[t].T=this.grey;const o=["A","C","F","H","I","L","M","V","W","Y","P","Q"];if("a"===e["0.50"][t]||"S"===e["0.50"][t]||"T"===e["0.50"][t])return i[t].S="#9F9",i[t].T="#9F9",1;for(const n of o)if(e[.85][t]===n)return i[t].S="#9F9",i[t].T="#9F9",1},this.check_HY=function(t,e,i){i[t].H=this.grey,i[t].Y=this.grey;const o=["A","C","F","H","I","L","M","V","W","Y","P","Q","h"],n="#9FF";if("h"===e["0.60"][t])return i[t].H=n,i[t].Y=n,1;for(const s of o)if(e[.85][t]===s)return i[t].H=n,i[t].Y=n,1;return 1},this.color_map=function(e){const i=["0.50","0.60","0.80","0.85"],o={W:1,L:1,V:1,I:1,M:1,A:1,F:1,C:1,Y:1,H:1,P:1},n={Q:1,N:1},s={K:1,R:1,H:1},l={S:1,T:1},a={E:1,D:1},r={},h=[];let c=[],_={},d=null;for(const h of e)for(const e of i){_={p:0,o:0,"-":0,"+":0,h:0};for(const t of h)c=t.split(":"),_[c[0]]=parseFloat(c[1],10),n[c[0]]?_.p+=parseFloat(c[1],10):l[c[0]]?_.o+=parseFloat(c[1],10):a[c[0]]?_["-"]+=parseFloat(c[1],10):(s[c[0]]&&(_["+"]+=parseFloat(c[1],10)),o[c[0]]&&(_.h+=parseFloat(c[1],10)));d=t(e,_),r[e]||(r[e]=[]),r[e].push(d)}for(let t=0;t<e.length;t++)h[t]={},this.check_D(t,r,h),this.check_R(t,r,h),this.check_Q(t,r,h),this.check_N(t,r,h),this.check_K(t,r,h),this.check_E(t,r,h),this.check_HY(t,r,h),this.check_ACFILMVW(t,r,h),this.check_ST(t,r,h),this.check_PG(t,r,h);return h}},l=function(t,e={}){this.column_width=e.column_width||34,this.height=e.height||300,this.data=e.data||null,this.debug=e.debug||null,this.scale_height_enabled=e.height_toggle||null,e.zoom_buttons&&"disabled"===e.zoom_buttons?this.zoom_enabled=null:this.zoom_enabled=!0,this.colorscheme=e.colorscheme||"default",this.display_ali_map=0,this.alphabet=e.data.alphabet||"dna",this.dom_element=e.dom_element||document.getElementsByName("body")[0],this.called_on=e.called_on||t,this.start=e.start||1,this.end=e.end||this.data.height_arr.length,this.zoom=parseFloat(e.zoom)||.4,this.default_zoom=this.zoom,this.active_sites_sources=e.active_sites_sources||null,this.show_active_sites=!1,this.active_sites=[],this.multiple_tracks=!0,this.data.processing&&/^observed|weighted/.test(this.data.processing)?(this.show_inserts=0,this.info_content_height=286):(this.show_inserts=1,this.info_content_height=256),this.column_hover=-1,this.column_clicked=-1,e.scaled_max?this.data.max_height=e.data.max_height_obs||this.data.max_height||2:this.data.max_height=e.data.max_height_theory||this.data.max_height||2,this.dna_colors={A:"#cbf751",C:"#5ec0cc",G:"#ffdf59",T:"#b51f16",U:"#b51f16"},this.aa_colors={A:"#F96",C:"#099",D:"#F00",E:"#C03",F:"#0F0",G:"#f2f20c",H:"#603",I:"#C93",K:"#630",L:"#F93",M:"#C9C",N:"#366",P:"#09F",Q:"#66C",R:"#900",S:"#00F",T:"#0FF",V:"#FC3",W:"#6C6",Y:"#060"},this.colors=this.dna_colors,"aa"===this.alphabet&&(this.colors=this.aa_colors),this.canvas_width=5e3;let i=null,l=null,a=null,r=null;for(i in"aa"===this.alphabet&&(l=this.data.probs_arr,l&&(r=new s,this.cmap=r.color_map(l))),this.letters={},this.colors)this.colors.hasOwnProperty(i)&&(a={color:this.colors[i]},this.letters[i]=new n(i,a));this.scrollme=null,this.previous_target=0,this.rendered=[],this.previous_zoom=0;const h=(t,e,i,o,n,s,l,a)=>{let r="#fff";a?(n>.1?r="#d7301f":n>.05?r="#fc8d59":n>.03&&(r="#fdcc8a"),t.fillStyle=r,t.fillRect(e,i+15,o,10),r="#fff",s>9?r="#d7301f":s>7?r="#fc8d59":s>4&&(r="#fdcc8a"),t.fillStyle=r,t.fillRect(e,i+30,o,10)):i+=30,r="#fff",l<.75?r="#2171b5":l<.85?r="#6baed6":l<.95&&(r="#bdd7e7"),t.fillStyle=r,t.fillRect(e,i,o,10)},c=(t,e,i)=>{t.beginPath(),t.moveTo(0,e),t.lineTo(i,e),t.lineWidth=1,t.strokeStyle="#999",t.stroke()},_=(t,e,i,o,n)=>{n=n||"#999",t.beginPath(),t.moveTo(e,i),t.lineTo(e,i+o),t.lineWidth=1,t.strokeStyle=n,t.stroke()},d=(t,e,i,o,n,s)=>{n=n||"rgba(100, 100, 100, 0.2)",s=s||"rgba(100, 100, 100, 0.8)",t.fillStyle=n,t.strokeStyle=s,t.fillRect(e,i,o,10),t.strokeRect(e,i,o,10)},m=(t,e,i,o,n,s)=>{s=s||"rgba(100, 100, 100, 0.8)",t.beginPath(),t.moveTo(e,i),t.lineTo(o,n),t.lineWidth=1,t.strokeStyle=s,t.stroke()},f=(t,e,i,o,n,s,l,a)=>{t.font=`${n}px Arial`,t.fillStyle=l,t.fillRect(e,i-10,s,14),t.textAlign="center",t.fillStyle=a,t.fillText(o,e+s/2,i)},u=(t,e,i,o,n,s)=>{let l="#fff",a="#555";n>.1?(l="#d7301f",a="#fff"):n>.05?l="#fc8d59":n>.03&&(l="#fdcc8a"),f(t,e,i-20,n,s,o,l,a),n>.03&&_(t,e+o,i-30,-30-i,l)},p=(t,e,i,o,n,s)=>{let l="#fff",a="#555";n>9?(l="#d7301f",a="#fff"):n>7?l="#fc8d59":n>4&&(l="#fdcc8a"),f(t,e,i,n,s,o,l,a)},g=(t,e,i,o,n,s,l)=>{let a=i-4,r="#fff",h="#555";l&&(a=i-35),n<.75?(r="#2171b5",h="#fff"):n<.85?r="#6baed6":n<.95&&(r="#bdd7e7"),f(t,e,a,n,s,o,r,h)},v=(t,e,i,o,n,s,l)=>{t.font=`${s}px Arial`,t.textAlign=l?"right":"center",t.fillStyle="#666",t.fillText(n,e+o/2,i)},b=(t,e,i,o,n)=>{let s=t.querySelector(`#canv_${o}`);return s||(s=document.createElement("canvas"),s.id=`canv_${o}`,s.classList.add("canvas_logo"),s.style.left=n*o+"px",s.setAttribute("width",i),s.setAttribute("height",e),t.innerHTML=`\n        <canvas\n          className="canvas_logo"\n          id="canv_${o}"\n          height="${e}"\n          width="${i}"\n          style="left: ${n*o}px;"\n        ></canvas>\n      `,s=t.querySelector(`#canv_${o}`)),s.setAttribute("width",i),s.setAttribute("height",e),s};this.render=function(t={}){if(!this.data)return;let e=t.zoom||this.zoom,i=t.target||1;const n=this.dom_element.parentNode.clientWidth;let s=1,l=null,a=null;if(this.previous_target=i,t.start&&(this.start=t.start),t.end&&(this.end=t.end),e<=.1?e=.1:e>=1&&(e=1),this.zoom=e,l=this.end||this.data.height_arr.length,a=this.start||1,l=l>this.data.height_arr.length?this.data.height_arr.length:l,l=l<a?a:l,a=a>l?l:a,a=a>1?a:1,this.y=this.height-20,this.max_width=this.column_width*(l-a+1),n>this.max_width&&(e=1,this.zoom_enabled=!1),this.zoom=e,this.zoomed_column=this.column_width*e,this.total_width=this.zoomed_column*(l-a+1),e<1)for(;this.total_width<n&&(this.zoom+=.1,this.zoomed_column=this.column_width*this.zoom,this.total_width=this.zoomed_column*(l-a+1),this.zoom_enabled=!1,!(e>=1)););i>this.total_width&&(i=this.total_width),this.dom_element.setAttribute("width",this.total_width),this.dom_element.style.width=this.total_width;const r=Math.ceil(this.total_width/this.canvas_width);if(this.columns_per_canvas=Math.ceil(this.canvas_width/this.zoomed_column),this.previous_zoom!==this.zoom){for(const t of this.dom_element.getElementsByTagName("canvas"))t.remove();this.previous_zoom=this.zoom,this.rendered=[]}this.canvases=[],this.contexts=[];for(let t=0;t<r;t++){const o=this.columns_per_canvas*t+a;let n=o+this.columns_per_canvas-1;n>l&&(n=l);const r=(n-o+1)*this.zoomed_column;r>s&&(s=r);const h=s*t,c=h+r;if(i<c+c/2&&i>h-h/2&&1!==this.rendered[t]){if(this.canvases[t]=b(this.dom_element,this.height,r,t,s),this.contexts[t]=this.canvases[t].getContext("2d"),this.contexts[t].setTransform(1,0,0,1,0,0),this.contexts[t].clearRect(0,0,r,this.height),this.contexts[t].fillStyle="#ffffff",this.contexts[t].fillRect(0,0,c,this.height),this.zoomed_column>12){let i=parseInt(10*e,10);i=i>10?10:i,this.debug&&this.render_with_rects(o,n,t,1),this.render_with_text(o,n,t,i)}else this.render_with_rects(o,n,t);this.rendered[t]=1}}if(!this.scrollme){const t=this.called_on.getElementsByClassName("logo_graphic")[0];this.scrollme=new o.EasyScroller(t,{scrollingX:1,scrollingY:0,eventTarget:this.called_on})}1!==i&&this.scrollme.reflow()},this.render_x_axis_label=function(){let t="Model Position";this.display_ali_map&&(t="Alignment Column");for(const t of this.called_on.getElementsByClassName("logo_xaxis"))t.remove();const e=document.createElement("div");e.classList.add("logo_xaxis");const i=document.createElement("p");i.classList.add("xaxis_text"),i.innerHTML=t,e.appendChild(i),this.called_on.insertBefore(e,this.called_on.getElementsByClassName("logo_container")[0])},this.render_y_axis_label=function(){for(const t of this.called_on.getElementsByClassName("logo_yaxis"))t.remove();for(const t of this.called_on.getElementsByClassName("logo_xaxis")){const e=document.createElement("canvas");e.classList.add("logo_yaxis"),e.height=302,e.width=55,t.appendChild(e);let i=null,o="Information Content (bits)";i=e.getContext("2d"),i.beginPath(),i.moveTo(55,1),i.lineTo(40,1),i.moveTo(55,this.info_content_height),i.lineTo(40,this.info_content_height),i.moveTo(55,this.info_content_height/2),i.lineTo(40,this.info_content_height/2),i.lineWidth=1,i.strokeStyle="#666",i.stroke(),i.fillStyle="#666",i.textAlign="right",i.font="bold 10px Arial",i.textBaseline="top",i.fillText(parseFloat(this.data.max_height).toFixed(1),38,0),i.textBaseline="middle",i.fillText(parseFloat(this.data.max_height/2).toFixed(1),38,this.info_content_height/2),i.fillText("0",38,this.info_content_height),"score"===this.data.height_calc&&(o="Score (bits)"),i.save(),i.translate(5,this.height/2-20),i.rotate(-Math.PI/2),i.textAlign="center",i.font="normal 12px Arial",i.fillText(o,1,0),i.restore(),i.fillText("occupancy",55,this.info_content_height+7),this.show_inserts&&(i.fillText("ins. prob.",50,280),i.fillText("ins. len.",46,296))}},this.render_x_axis_label(),this.render_y_axis_label(),this.render_with_text=function(t,e,i,o){let n=0,s=t,l=null;e+3<=this.end&&(e+=3);for(let a=t;a<=e;a++){if(this.data.mmline&&1===this.data.mmline[a-1])this.contexts[i].fillStyle="#cccccc",this.contexts[i].fillRect(n,10,this.zoomed_column,this.height-40);else{const t=this.data.height_arr[a-1],e=[];if(t){let o=0;const s=t.length;let l=null;a===this.column_clicked&&(this.contexts[i].fillStyle="#ffdede",this.contexts[i].fillRect(n,0,this.zoomed_column,this.height),this.contexts[i].strokeStyle="#ff8888",this.contexts[i].strokeRect(n,0,this.zoomed_column,this.height)),a===this.column_hover&&(this.contexts[i].fillStyle="#ffeeee",this.contexts[i].fillRect(n,0,this.zoomed_column,this.height));for(let i=0;i<s;i++){const s=t[i].split(":",2),l=n+this.zoomed_column/2;let a=null;if(s[1]>.01){a=parseFloat(s[1])/this.data.max_height;const t=this.info_content_height-2-o,n=(this.info_content_height-2)*a;e[i]=[n,this.zoomed_column,l,t],o+=n}}for(let o=s;o>=0;o--)e[o]&&this.letters[t[o][0]]&&(l="consensus"===this.colorscheme?this.cmap[a-1][t[o][0]]||"#7a7a7a":null,this.letters[t[o][0]].draw(this.contexts[i],e[o][0],e[o][1],e[o][2],e[o][3],l))}}l=this.display_ali_map?this.data.ali_map[a-1]:s,this.zoom<.7?a%5==0&&this.draw_column_divider({contextNum:i,x:n,fontsize:10,column_num:l,ralign:!0}):this.draw_column_divider({contextNum:i,x:n,fontsize:o,column_num:l}),g(this.contexts[i],n,this.height,this.zoomed_column,this.data.delete_probs[a-1],o,this.show_inserts),_(this.contexts[i],n,this.height-15,5),this.show_inserts&&(u(this.contexts[i],n,this.height,this.zoomed_column,this.data.insert_probs[a-1],o),p(this.contexts[i],n,this.height-5,this.zoomed_column,this.data.insert_lengths[a-1],o),_(this.contexts[i],n,this.height-45,5),_(this.contexts[i],n,this.height-30,5)),this.show_active_sites&&this.render_active_sites(i,a,n),n+=this.zoomed_column,s++}this.show_inserts&&(c(this.contexts[i],this.height-30,this.total_width),c(this.contexts[i],this.height-45,this.total_width)),c(this.contexts[i],this.height-15,this.total_width),c(this.contexts[i],0,this.total_width)},this.draw_column_divider=function(t){const e=t.ralign?t.x+this.zoomed_column:t.x,i=t.ralign?t.x+2:t.x;_(this.contexts[t.contextNum],e,this.height-30,-30-this.height,"#dddddd"),_(this.contexts[t.contextNum],e,0,5),v(this.contexts[t.contextNum],i,10,this.zoomed_column,t.column_num,t.fontsize,t.ralign)},this.render_with_rects=function(t,e,i,o){let n=0,s=t,l=null,a=10;for(let r=t;r<=e;r++){if(this.data.mmline&&1===this.data.mmline[r-1])this.contexts[i].fillStyle="#ccc",this.contexts[i].fillRect(n,10,this.zoomed_column,this.height-40);else{const t=this.data.height_arr[r-1];let e=0;const s=t.length;for(let l=0;l<s;l++){const s=t[l].split(":",2);if(s[1]>.01){const t=parseFloat(s[1])/this.data.max_height,l=n,a=(this.info_content_height-2)*t,h=this.info_content_height-2-e-a;let c=null;c="consensus"===this.colorscheme?this.cmap[r-1][s[0]]||"#7a7a7a":this.colors[s[0]],o?(this.contexts[i].strokeStyle=c,this.contexts[i].strokeRect(l,h,this.zoomed_column,a)):(this.contexts[i].fillStyle=c,this.contexts[i].fillRect(l,h,this.zoomed_column,a)),e+=a}}}this.zoom<.2?a=20:this.zoom<.3&&(a=10),r%a==0&&(_(this.contexts[i],n+this.zoomed_column,this.height-30,parseFloat(this.height),"#ddd"),_(this.contexts[i],n+this.zoomed_column,0,5),l=this.display_ali_map?this.data.ali_map[r-1]:s,v(this.contexts[i],n-2,10,this.zoomed_column,l,10,!0)),h(this.contexts[i],n,this.height-42,this.zoomed_column,this.data.insert_probs[r-1],this.data.insert_lengths[r-1],this.data.delete_probs[r-1],this.show_inserts),this.show_inserts?c(this.contexts[i],this.height-45,this.total_width):c(this.contexts[i],this.height-15,this.total_width),c(this.contexts[i],0,this.total_width),this.show_active_sites&&this.render_active_sites(i,r,n),n+=this.zoomed_column,s++}},this.render_active_sites=function(t,e,i){let o=1;for(let n=0;n<this.active_sites.length;n++){const s=this.active_sites[n].controller.whatShouldBeDraw(e);if(!s)continue;const l=this.aa_colors[s.base];"BLOCK"===s.type?d(this.contexts[t],i+1,10+14*o,this.zoomed_column-2,l):"LINE"===s.type&&m(this.contexts[t],i,10+4*o+10*(o+.5),i+this.zoomed_column,10+4*o+10*(o+.5),l),this.multiple_tracks&&o++}},this.toggle_visibility=function(t){"none"!==t.style.display&&t.style.display?t.style.display="none":t.style.display="block"},this.toggle_colorscheme=function(t){const e=this.current_column();t?this.colorscheme="default"===t?"default":"consensus":"default"===this.colorscheme?this.colorscheme="consensus":this.colorscheme="default",this.rendered=[],this.scrollme.reflow(),this.scrollToColumn(e+10),this.scrollToColumn(e),this.render()},this.toggle_scale=function(t){const e=this.current_column();t?this.data.max_height="obs"===t?this.data.max_height_obs:this.data.max_height_theory:this.data.max_height===this.data.max_height_obs?this.data.max_height=this.data.max_height_theory:this.data.max_height=this.data.max_height_obs,this.rendered=[];for(const t of document.getElementsByClassName("logo_yaxis"))t.remove();this.render_y_axis_label(),this.scrollme.reflow(),this.scrollToColumn(e+1),this.scrollToColumn(e),this.render()},this.toggle_ali_map=function(t){const e=this.current_column();t?this.display_ali_map="model"===t?0:1:1===this.display_ali_map?this.display_ali_map=0:this.display_ali_map=1,this.render_x_axis_label(),this.rendered=[],this.scrollme.reflow(),this.scrollToColumn(e+1),this.scrollToColumn(e),this.render()},this.current_column=function(){const t=this.scrollme.scroller.getValues().left,e=this.column_width*this.zoom,i=t/e,o=this.called_on.getElementsByClassName("logo_container")[0].clientWidth/e/2;return Math.ceil(i+o)},this.change_zoom=function(t){let e=.3;t.target?e=t.target:t.distance&&(e=(parseFloat(this.zoom)-parseFloat(t.distance)).toFixed(1),"+"===t.direction&&(e=(parseFloat(this.zoom)+parseFloat(t.distance)).toFixed(1))),e>1?e=1:e<.1&&(e=.1);const i=this.called_on.getElementsByClassName("logo_graphic")[0],o=this.called_on.getElementsByClassName("logo_container")[0];if(i.clientWidth*e/this.zoom>o.clientWidth)if(t.column){this.zoom=e,this.render({zoom:this.zoom}),this.scrollme.reflow();const i=this.coordinatesFromColumn(t.column);this.scrollme.scroller.scrollTo(i-t.offset)}else{const t=this.current_column();this.zoom=e,this.render({zoom:this.zoom}),this.scrollme.reflow(),this.scrollToColumn(t)}return this.zoom},this.columnFromCoordinates=function(t){return Math.ceil(t/(this.column_width*this.zoom))},this.coordinatesFromColumn=function(t){return(t-1)*(this.column_width*this.zoom)+this.column_width*this.zoom/2},this.scrollToColumn=function(t,e){const i=this.called_on.getElementsByClassName("logo_container")[0].clientWidth/2,o=this.coordinatesFromColumn(t);this.scrollme.scroller.scrollTo(o-i,0,e)},this.refresh=function(){this.rendered=[],this.scrollme.reflow(),this.render()}},a=function(t,e={}){const i=document.createElement("div");i.classList.add("logo_graphic");const o=document.createElement("div");o.classList.add("logo_container");const n=document.createElement("div");if(n.classList.add("logo_divider"),t.appendChild(o),o.appendChild(i),t.appendChild(n),null===e.data)return;e.dom_element=i,e.called_on=t;const s=document.createElement("fieldset"),a=document.createElement("label");a.htmlFor="position",a.innerHTML="Model column",s.appendChild(a);const r=document.createElement("input");r.setAttribute("type","text"),r.id="position",r.classList.add("logo_position"),s.appendChild(r);const h=document.createElement("button");h.classList.add("button"),h.classList.add("logo_change"),h.innerHTML="Go",s.appendChild(h);const c=document.createElement("form");c.classList.add("logo_form"),c.addEventListener("submit",(t=>t.preventDefault)),c.appendChild(s);const _=document.createElement("div");_.classList.add("logo_controls"),c.appendChild(_);const d=document.createElement("span");d.classList.add("close"),d.innerHTML="x";const m=document.createElement("div");m.classList.add("logo_settings"),m.appendChild(d),_.appendChild(m);const f=new l(t,e);if(f.render(e),f.zoom_enabled){const t=document.createElement("button");t.classList.add("button"),t.classList.add("logo_zoomout"),t.innerHTML="-",t.addEventListener("click",(t=>{t.preventDefault(),f.change_zoom({distance:.1,direction:"-"})}));const e=document.createElement("button");e.classList.add("button"),e.classList.add("logo_zoomin"),e.innerHTML="+",e.addEventListener("click",(t=>{t.preventDefault(),f.change_zoom({distance:.1,direction:"+"})})),_.appendChild(t),_.appendChild(e)}if(f.scale_height_enabled&&f.data.max_height_obs<f.data.max_height_theory){let t="",e="";const i="",o="";f.data.max_height_obs===f.data.max_height?t="checked":e="checked";const n=`<fieldset><legend>Scale</legend><label><input type="radio" name="scale" class="logo_scale" value="obs" ${t}/>Maximum Observed ${o}</label></br><label><input type="radio" name="scale" class="logo_scale" value="theory" ${e}/>Maximum Theoretical ${i}</label></fieldset>`;m.innerHTML+=n}if("score"!==f.data.height_calc&&"aa"===f.data.alphabet&&f.data.probs_arr){let t=null,e=null;"default"===f.colorscheme?t="checked":e="checked",m.innerHTML+=`\n      <fieldset><legend>Color Scheme</legend>\n        <label><input type="radio" name="color" class="logo_color" value="default" ${t}/>Default</label></br>\n        <label><input type="radio" name="color" class="logo_color" value="consensus" ${e}/>Consensus Colours</label>\n      </fieldset>\n    `}if(f.data.ali_map){let t=null,e=null;0===f.display_ali_map?t="checked":e="checked";const i=`<fieldset><legend>Coordinates</legend><label><input type="radio" name="coords" class="logo_ali_map" value="model" ${t}/>Model</label></br><label><input type="radio" name="coords" class="logo_ali_map" value="alignment" ${e}/>Alignment</label></fieldset>`;if(m.innerHTML+=i,null!==f.active_sites_sources&&"object"==typeof f.active_sites_sources){let t='<fieldset><legend>ActiveSites</legend><label>Source: <select name="member_db" class="logo_ali_map">';for(const e of Object.keys(f.active_sites_sources))t+=`<option value="${e}">${e}</option> `;t+='</select></label> </br><label>Accession number:   <input type="text" name="family_accession" class="logo_ali_map" value=""/></label><br/><button id="active_sites">Get Active Sites</button></fieldset>',m.innerHTML+=t}}if(m.children.length){const t=document.createElement("button");t.innerHTML="Settings",t.classList.add("logo_settings_switch"),t.classList.add("button"),_.appendChild(t),_.appendChild(m)}c.appendChild(_),t.appendChild(c);for(const e of["logo_settings_switch","close"])for(const i of t.getElementsByClassName(e))i.addEventListener("click",(t=>{t.preventDefault(),f.toggle_visibility(m)}));for(const t of _.getElementsByClassName("logo_reset"))t.addEventListener("click",(t=>{t.preventDefault(),f.change_zoom({target:f.default_zoom})}));for(const t of s.getElementsByClassName("logo_change"))t.addEventListener("click",(t=>t.preventDefault()));for(const t of _.getElementsByClassName("logo_scale"))t.addEventListener("change",(function(){f.toggle_scale(this.value)}));for(const t of _.getElementsByClassName("logo_color"))t.addEventListener("change",(function(){f.toggle_colorscheme(this.value)}));for(const t of _.getElementsByClassName("logo_ali_map"))t.addEventListener("change",(function(){f.toggle_ali_map(this.value)}));for(const t of s.getElementsByClassName("logo_position"))t.addEventListener("change",(function(t){this.value.match(/^\d+$/m)&&f.scrollToColumn(this.value,1)}));return i.addEventListener("dblclick",(function(t){f.zoom<1?f.change_zoom({target:1,offset:t.pageX-this.parentNode.offsetLeft,column:f.columnFromCoordinates(parseInt(t.pageX-this.offsetLeft,10))}):f.change_zoom({target:.3,offset:t.pageX-this.parentNode.offsetLeft,column:f.columnFromCoordinates(parseInt(t.pageX-this.offsetLeft,10))})})),e.column_info&&i.addEventListener("click",(e=>{const i=document.createElement("table");i.classList.add("logo_col_info"),i.classList.add("logo_col_hmm");const o=f;let n="<tr>",s="";const l=parseInt(e.offsetX,10),a=o.columnFromCoordinates(l);let r=[],h=0,c="Probability";o.column_clicked=a,o.refresh(),f.data.height_calc&&"score"===f.data.height_calc?(c="Score",r=f.data.height_arr[a-1].slice(0).reverse()):r=f.data.probs_arr[a-1].slice(0).reverse(),h=Math.ceil(r.length/5);for(let t=0;t<h;t++)n+=h>1&&t<h-1?`<th>Residue</th><th class="odd">${c}</th>`:`<th>Residue</th><th>${c}</th>`;n+="</tr>",i.innerHTML=n;for(let t=0;t<5;t++){s+="<tr>";let e=t;for(;r[e];){const t=r[e].split(":",2);let i="";"default"===f.colorscheme&&(i=`${f.alphabet}_${t[0]}`),s+=h>1&&e<15?`<td class="color"><div></div>${t[0]}</td><td class="odd">${t[1]}</td>`:`<td class="color}"><div></div>${t[0]}</td><td>${t[1]}</td>`,e+=5}s+="</tr>"}i.innerHTML+=s;const _=document.createElement("div");_.id="logo_column_info",_.innerHTML=`<div style="text-align: center;"><span>Model Column:${a} &nbsp;</span>\n      <span>Occupancy: ${f.data.delete_probs[a-1]}  &nbsp;</span>\n      <span>Insert Probability: ${f.data.insert_probs[a-1]} &nbsp;</span>\n      <span>Insert Length: ${f.data.insert_lengths[a-1]}  &nbsp;</span></div>`,_.appendChild(i);const d=t.querySelector("#logo_column_info");d&&d.remove(),t.appendChild(_)})),i.addEventListener("mousemove",(t=>{const e=f,i=parseInt(t.offsetX,10),o=e.columnFromCoordinates(i);e.column_hover!==o&&(e.column_hover=o,e.refresh())})),f};class r extends HTMLElement{static get observedAttributes(){return["logo"]}constructor(...t){super(),this.attachShadow({mode:"open"});let e=document.createElement("style");e.textContent=".logo {\n  /*border: 5px;*/\n  position: relative;\n  /*margin: auto;*/\n  /*width: 95%;*/\n}\n.logo form {\n  /*margin: 0.3em 55px;*/\n}\n.logo_container {\n  position: relative;\n  height: 300px;\n  overflow: hidden;\n  margin-left: 55px;\n  border: 1px solid #999;\n}\n\n.logo_graphic {\n  position: absolute;\n  height: 300px;\n  background-color: #e4f0c4;\n  background-image: -webkit-gradient(\n    linear,\n    0 100%,\n    100% 0,\n    color-stop(0.25, rgba(255, 255, 255, 0.2)),\n    color-stop(0.25, transparent),\n    color-stop(0.5, transparent),\n    color-stop(0.5, rgba(255, 255, 255, 0.2)),\n    color-stop(0.75, rgba(255, 255, 255, 0.2)),\n    color-stop(0.75, transparent),\n    to(transparent)\n  );\n  background-image: -webkit-linear-gradient(\n    45deg,\n    rgba(255, 255, 255, 0.2) 25%,\n    transparent 25%,\n    transparent 50%,\n    rgba(255, 255, 255, 0.2) 50%,\n    rgba(255, 255, 255, 0.2) 75%,\n    transparent 75%,\n    transparent\n  );\n  background-image: -moz-linear-gradient(\n    45deg,\n    rgba(255, 255, 255, 0.2) 25%,\n    transparent 25%,\n    transparent 50%,\n    rgba(255, 255, 255, 0.2) 50%,\n    rgba(255, 255, 255, 0.2) 75%,\n    transparent 75%,\n    transparent\n  );\n  background-image: -ms-linear-gradient(\n    45deg,\n    rgba(255, 255, 255, 0.2) 25%,\n    transparent 25%,\n    transparent 50%,\n    rgba(255, 255, 255, 0.2) 50%,\n    rgba(255, 255, 255, 0.2) 75%,\n    transparent 75%,\n    transparent\n  );\n  background-image: -o-linear-gradient(\n    45deg,\n    rgba(255, 255, 255, 0.2) 25%,\n    transparent 25%,\n    transparent 50%,\n    rgba(255, 255, 255, 0.2) 50%,\n    rgba(255, 255, 255, 0.2) 75%,\n    transparent 75%,\n    transparent\n  );\n  background-image: linear-gradient(\n    45deg,\n    rgba(255, 255, 255, 0.2) 25%,\n    transparent 25%,\n    transparent 50%,\n    rgba(255, 255, 255, 0.2) 50%,\n    rgba(255, 255, 255, 0.2) 75%,\n    transparent 75%,\n    transparent\n  );\n  -webkit-background-size: 50px 50px;\n  -moz-background-size: 50px 50px;\n  background-size: 50px 50px;\n  cursor: pointer;\n}\n.logo_xaxis {\n  display: block;\n  /*margin-left: 40px;*/\n}\n.xaxis_text {\n  width: 10em;\n  margin: 1em auto;\n}\n.logo_yaxis {\n  position: absolute;\n  draggable: true;\n}\n.logo_wrapper {\n  background: #eee;\n  padding: 0 1em;\n  margin: 1em 0;\n}\n.canvas_logo {\n  position: absolute;\n  top: 0;\n}\n.logo_divider {\n  background: rgba(256, 0, 0, 0.1);\n  position: absolute;\n  top: 0;\n  height: 300px;\n  width: 1px;\n  left: 50%;\n  z-index: 5;\n}\n.logo_col_info {\n  /*float: left;*/\n  /*margin: 0.3em 0.3em 0.3em 1em;*/\n  /*padding: 0.3em;*/\n  /*border: 1px solid #ccc;*/\n  /*display: table;*/\n  /*border-radius: 5px;*/\n}\n.logo_col_hmm {\n  width: 70%;\n  margin: 0 auto;\n  border: 1px #ccc solid;\n}\n.logo_col_hmm tr {\n  background-color: #eee;\n}\n.logo_col_hmm tr td {\n  padding: 0.1rem;\n}\n\n.logo_col_info div {\n  float: left;\n  width: 0.6em;\n  height: 1.4em;\n  margin-left: 1em;\n  margin-right: 0.5em;\n}\n\n.logo_settings {\n  display: none;\n  z-index: 6;\n  position: relative;\n  background: #fff;\n  margin: 1em;\n  padding: 0;\n  border: 2px solid #ccc;\n}\n.logo_settings_switch {\n}\n.logo_scale {\n}\n.logo_ali_map {\n}\n.logo_zoomout {\n}\n.logo_zoomin {\n}\n.logo_color {\n}\n.logo_form {\n  margin-left: 39px;\n}\n.logo_form fieldset {\n  border: 1px solid #cccccc;\n  border-radius: 5px;\n  display: inline-block;\n  margin: 0.3em 1em;\n  padding: 0.3em;\n}\n\n.logo_form label {\n  display: inline-block;\n  margin-right: 1em;\n}\n\n.logo_form input {\n  display: inline-block;\n  width: inherit;\n  margin: 0 1em 0 0;\n}\n\n.logo_position {\n}\n.logo_change {\n}\n.logo_controls {\n  position: absolute;\n  left: 3.1em;\n  top: 0;\n}\n.button {\n  border: 1px solid #999;\n  padding: 0.2em 0.3em;\n}\n.close {\n  float: right;\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 20px;\n  color: #000000;\n  text-shadow: 0 1px 0 #ffffff;\n  opacity: 0.2;\n  padding-right: 5px;\n  cursor: pointer;\n}\n.aa_A div {\n  background: #ff9966;\n}\n.aa_B div {\n  background: #fff;\n}\n.aa_C div {\n  background: #009999;\n}\n.aa_D div {\n  background: #ff0000;\n}\n.aa_E div {\n  background: #cc0033;\n}\n.aa_F div {\n  background: #00ff00;\n}\n.aa_G div {\n  background: #f2f20c;\n}\n.aa_H div {\n  background: #660033;\n}\n.aa_I div {\n  background: #cc9933;\n}\n.aa_J div {\n  background: #fff;\n}\n.aa_K div {\n  background: #663300;\n}\n.aa_L div {\n  background: #ff9933;\n}\n.aa_M div {\n  background: #cc99cc;\n}\n.aa_N div {\n  background: #336666;\n}\n.aa_O div {\n  background: #fff;\n}\n.aa_P div {\n  background: #0099ff;\n}\n.aa_Q div {\n  background: #6666cc;\n}\n.aa_R div {\n  background: #990000;\n}\n.aa_S div {\n  background: #0000ff;\n}\n.aa_T div {\n  background: #00ffff;\n}\n.aa_U div {\n  background: #fff;\n}\n.aa_V div {\n  background: #ffcc33;\n}\n.aa_W div {\n  background: #66cc66;\n}\n.aa_X div {\n  background: #fff;\n}\n.aa_Y div {\n  background: #006600;\n}\n.aa_Z div {\n  background: #fff;\n}\n.dna_A div {\n  background: #cbf751;\n}\n.dna_C div {\n  background: #5ec0cc;\n}\n.dna_G div {\n  background: #ffdf59;\n}\n.dna_T,\ndiv .dna_U div {\n  background: #b51f16;\n}\n",this.shadowRoot.appendChild(e)}showLogo(){this.logoElement=document.createElement("div"),this.shadowRoot.appendChild(this.logoElement);const t=this.getAttribute("logo");t&&(this.logo=new a(this.logoElement,{data:JSON.parse(t),height_toggle:!0,column_info:!0}))}connectedCallback(){}disconnectedCallback(){}attributeChangedCallback(t,e,i){"logo"===t&&e!==i&&(this.logoElement&&this.logoElement.remove(),this.showLogo())}}const h=r,c=()=>{customElements.define("skylign-component",h)};window.customElements?c():document.addEventListener("WebComponentsReady",(()=>{c()}));const _=h}}]);
//# sourceMappingURL=6252.module.6252.7a0.js.map