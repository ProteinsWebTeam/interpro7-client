"use strict";(self.webpackChunkinterpro7_client=self.webpackChunkinterpro7_client||[]).push([[163],{55814:(e,t,n)=>{n.d(t,{Z:()=>u}),n(752),n(76265);var l=n(67294),r=n(76853),a=n(2191),o=n(3817),i=n(76371),c=n(82806),s=(0,i.Z)(c.Z);const u=e=>{var{element:t,tooltip:n,className:i,dataIcon:c,disabled:u=!1,onFullScreenHook:d=r.Z,onExitFullScreenHook:m=r.Z}=e,[p,_]=(0,l.useState)(null),[v,h]=(0,l.useState)(!1),f=()=>{null===document.fullscreenElement&&(h(!1),m())};if((0,l.useEffect)((()=>(document.addEventListener("fullscreenchange",f),()=>document.removeEventListener("fullscreenchange",f))),[]),(0,l.useEffect)((()=>{_("string"==typeof t?document.getElementById(t):t)}),[t]),!p)return null;var E=i||s("margin-bottom-none","icon","icon-common"),y=c||(v?"icon-fullscreen-collapse":"icon-fullscreen");return l.createElement(a.Z,{title:n},l.createElement(o.Z,{type:"inline",onClick:()=>{v?("exitFullscreen"in document?document.exitFullscreen():"webkitExitFullscreen"in document?document.webkitExitFullscreen():"mozExitFullScreen"in document?document.mozExitFullScreen():"msExitFullscreen"in document&&document.msExitFullscreen(),m()):(e=>"requestFullscreen"in e?e.requestFullscreen():"webkitRequestFullscreen"in e?e.webkitRequestFullscreen():"mozRequestFullScreen"in e?e.mozRequestFullScreen():"msRequestFullscreen"in e?e.msRequestFullscreen():void 0)(p).then((()=>d())),h(!v)},icon:y,title:n,className:E,disabled:u}))}},6226:(e,t,n)=>{n.d(t,{Z:()=>s});var l=n(67294),r=n(45007),a=n(19119),o=n(87616),i=n(2191),c=(0,a.P1)((e=>e.settings.ui),(e=>({isPIPEnabled:!!e.isPIPEnabled})));const s=(0,r.$j)(c,{changeSettingsRaw:o.Ft})((e=>{var{isPIPEnabled:t,changeSettingsRaw:n,className:r}=e,a=(t?"Disable":"Enable")+" The Picture In Picture functionality";return l.createElement(i.Z,{title:a},l.createElement("button",{className:r,onClick:()=>{n("ui","isPIPEnabled",!t)},"data-icon":"",title:a,style:{color:t?void 0:"#bbb"}}))}))},59500:(e,t,n)=>{n.d(t,{Z:()=>m}),n(73964),n(752),n(76265);var l=n(67294),r=n(45007),a=n(19119),o=n(47583),i=n(76371),c=n(82806),s=(0,i.Z)({wrapper:"PictureInPicturePanel_style__wrapper___c5",content:"PictureInPicturePanel_style__content___e7","control-bar":"PictureInPicturePanel_style__control-bar___c7",controls:"PictureInPicturePanel_style__controls___b2","is-stuck":"PictureInPicturePanel_style__is-stuck___c4","structure-viewer-select":"PictureInPicturePanel_style__structure-viewer-select___f5","structure-icon":"PictureInPicturePanel_style__structure-icon___fe","is-minimized":"PictureInPicturePanel_style__is-minimized___b9","structure-viewer-ref":"PictureInPicturePanel_style__structure-viewer-ref___be"},c.Z),u={root:null,rootMargin:"0px",threshold:Array.from(Array(10)).map(((e,t)=>(t+1)/10))},d=(0,a.P1)((e=>e.settings.ui),(e=>({isPIPEnabled:!!e.isPIPEnabled})));const m=(0,r.$j)(d)((e=>{var{className:t,hideBar:n=!1,OtherControls:r={bottom:null,top:null},OtherButtons:a=null,onChangingMode:i=(()=>null),isPIPEnabled:c=!0,children:d}=e,[m,p]=(0,l.useState)(!1),[_,v]=(0,l.useState)(!1),h=(0,l.useRef)(null),f=null;return(0,l.useEffect)((()=>{var e,t,n,l;e=void 0,t=void 0,l=function*(){return yield(0,o.oS)()},new((n=void 0)||(n=Promise))((function(r,a){function o(e){try{c(l.next(e))}catch(e){a(e)}}function i(e){try{c(l.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((l=l.apply(e,t||[])).next())}))}),[]),(0,l.useEffect)((()=>{if(null==h?void 0:h.current){var e=h.current;(f=new IntersectionObserver((t=>{var n;p(((null===(n=null==e?void 0:e.getBoundingClientRect())||void 0===n?void 0:n.y)||0)<0&&t[0].intersectionRatio<.4),i()}),u)).observe(e)}return()=>{f&&f.disconnect()}}),[h]),l.createElement("div",{ref:h,className:s("wrapper")},l.createElement("div",{className:s(t,"content",{"is-stuck":m&&c,"is-minimized":_})},!m&&l.createElement("div",{className:s("controls")},r.top),d,l.createElement("div",{className:s("control-bar",{hide:n})},r.bottom,l.createElement("div",{className:s("controls")},m&&c&&r.top,a,m&&c&&l.createElement("button",{"data-icon":_?"":"",title:"Minimize",onClick:()=>v(!_),className:s("control-icon","icon","icon-common")})))))}))},13105:(e,t,n)=>{n.d(t,{Z:()=>m}),n(73964),n(752),n(76265),n(60429);var l=n(67294),r=n(45007),a=n(19119),o=n(29643),i=n(55402),c=n(21105),s=n(87616);var u=(0,c.Z)({loader:()=>Promise.all([n.e(5270),n.e(8759)]).then(n.bind(n,8074)),loading:null}),d=(0,a.P1)((e=>e.settings.ui.structureViewer),(e=>({userActivatedVisible:e||!1})));const m=(0,r.$j)(d,{changeSettingsRaw:s.Ft},null,{forwardRef:!0})((e=>{var{id:t,userActivatedVisible:n,changeSettingsRaw:r}=e,[a,c]=(0,l.useState)(n),s=(0,l.useRef)(null);return(0,l.useEffect)((()=>{var e,t,n,l;(e=void 0,t=void 0,n=void 0,l=function*(){var e,t,n,l;c(!(yield(e=void 0,t=void 0,n=void 0,l=function*(){var e;if(!window.navigator)return!1;if("connection"in navigator&&"4g"!==(null===(e=navigator.connection)||void 0===e?void 0:e.effectiveType))return!0;if(window.innerWidth<650)return!0;try{if("getBattery"in navigator&&"function"==typeof navigator.getBattery){var t=yield navigator.getBattery();return!t.isCharging&&t.level<.15}}catch(e){}return!1},new(n||(n=Promise))((function(r,a){function o(e){try{c(l.next(e))}catch(e){a(e)}}function i(e){try{c(l.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((l=l.apply(e,t||[])).next())})))))},new(n||(n=Promise))((function(r,a){function o(e){try{c(l.next(e))}catch(e){a(e)}}function i(e){try{c(l.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((l=l.apply(e,t||[])).next())}))).catch(console.error)}),[]),a?l.createElement(u,Object.assign({},e)):l.createElement("div",{className:"ViewerOnDemand_style__wrapper___ae"},l.createElement("button",{className:"ViewerOnDemand_style__inner-wrapper___c3",onClick:()=>{var e;(null===(e=s.current)||void 0===e?void 0:e.checked)&&r("ui","structureViewer",!0),c(!0)}},l.createElement("div",{className:"ViewerOnDemand_style__background___e3"},l.createElement(i.Z,{src:"//www.ebi.ac.uk/thornton-srv/databases/cgi-bin/pdbsum/getimg.pl?source=pdbsum&pdb_code="+t+"&file=traces.jpg",alt:"structure with accession "+t})),l.createElement("div",{className:"ViewerOnDemand_style__text___af"},l.createElement("p",null,"click or tap this area to display the interactive structure viewer"),l.createElement("p",null,l.createElement("label",{htmlFor:"cb_reminder"},"Remember this next time?"," ",l.createElement("input",{type:"checkbox",ref:s,id:"cb_reminder",onClick:e=>e.stopPropagation()})),l.createElement("small",null,"This can be reversed in the"," ",l.createElement(o.Z,{to:{description:{other:["settings"]}}},"Settings")," ","page")))))}))},32884:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L}),n(86544),n(752),n(76265);var l=n(67294),r=n(34287),a=n(19119),o=n(8575),i=n(29643),c=n(63147),s=n(55814),u=n(59500),d=n(6226),m=n(85869),p=n(65455),_=n(3817),v=n(13105),h=n(56302),f=n.n(h),E=n(10838),y=(0,a.P1)((e=>e.settings.api),((e,t)=>(null==t?void 0:t.proteinAccession)||""),((e,t)=>{if(!t)return null;var{protocol:n,hostname:l,port:r,root:a}=e;return(0,o.format)({protocol:n,hostname:l,port:r,pathname:a+(0,E.Z)({main:{key:"protein"},protein:{db:"uniprot",accession:t}})})}));const g=(0,r.Z)(y)((e=>{var t,{alphaFoldSequence:n,alphaFoldCreationDate:r,data:a}=e,{loading:o,payload:i}=a||{},[c,s]=(0,l.useState)(!1);if(!n||o)return l.createElement(m.Z,{inline:!0});var u=(null===(t=null==i?void 0:i.metadata)||void 0===t?void 0:t.sequence)||"";return n===u?null:l.createElement(p.Z,{type:"warning"},l.createElement("div",null,l.createElement("b",null,"AlphaFold Prediction Mismatch"),l.createElement("p",null,"The AlphaFold prediction displayed below was generated on"," ",new Date(r||"").toLocaleDateString()," using a sequence that has since been updated in the UniProt database. Please note that the displayed prediction may not accurately represent the current structure of the protein due to the sequence mismatch."),l.createElement(_.z,{type:"secondary",onClick:()=>s(!c),style:{width:"10rem"}},c?"Hide":"Show"," Diff"),c&&l.createElement("div",{style:{overflow:"scroll",maxWidth:"min(65vw,60em)"}},l.createElement(f(),{oldValue:n,newValue:u,splitView:!1,leftTitle:"AlphaFold / Uniprot",hideLineNumbers:!0}))))}));var w=n(76371),b=n(44166),P=n(82806),Z=n(20933),S=(0,w.Z)({"af-container":"Model_style__af-container___e6","panel-component":"Model_style__panel-component___f0","panel-legends":"Model_style__panel-legends___ed","protein-list":"Model_style__protein-list___b7",information:"Model_style__information___b2",legend:"Model_style__legend___fd",header:"Model_style__header___a0",footer:"Model_style__footer___c5","alphafold-model":"Model_style__alphafold-model___ec","structure-viewer-split":"Model_style__structure-viewer-split___ee"},Z.Z,b.Z,P.Z),N=[{category:"Very High",range:"pLDDT > 90",color:"#0053d6"},{category:"Confident",range:"90 > pLDDT > 70",color:"#65cbf3"},{category:"Low",range:"70 > pLDDT > 50",color:"#ffdb13"},{category:"Very Low",range:"pLDDT < 50",color:"#ff7d45"}],k=e=>(0,a.P1)((e=>e.settings.alphafold),((e,t)=>{var n,l,r,a=(null===(r=null===(l=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.payload)||void 0===l?void 0:l[0])||void 0===r?void 0:r.uniprotAccession)||"";return(null==t?void 0:t.proteinAcc)||a}),((t,n)=>{var{protocol:l,hostname:r,port:a,root:i,query:c}=t,s=(0,o.format)({protocol:l,hostname:r,port:a,pathname:e?i+"api/prediction/"+n:i+"entry/"+n,query:c});return e?s:{modelUrl:s}}));const F=(0,r.Z)({getUrl:k(!0),mapStateToProps:k(!1)})((e=>{var t,n,{proteinAcc:r,hasMultipleProteins:a,onModelChange:o,modelId:h,modelUrl:f,data:E,selections:y,parentElement:w,isSplitScreen:b,onSplitScreenChange:P}=e,[Z,k]=(0,l.useState)(!1),[F,C]=(0,l.useState)(!1);if((0,l.useEffect)((()=>{Z&&requestAnimationFrame((()=>k(!1)))}),[Z]),(0,l.useEffect)((()=>{y||k(!0)}),[y]),null==E?void 0:E.loading)return l.createElement(m.Z,null);if(0===((null==E?void 0:E.payload)||[]).length)return l.createElement("div",null,l.createElement("h3",null,"Structure prediction"),l.createElement("p",null,"There is no structural model associated to ",r,"."));var x=(null==E?void 0:E.payload)||[],[A]=null===h?x.slice(0,1):x.filter((e=>e.entryId===h)),I="new-structure-model-viewer";return l.createElement("div",{className:S("alphafold-model")},!b&&l.createElement(l.Fragment,null,l.createElement("h3",null,"AlphaFold structure prediction",x.length>1||a?"s":""),l.createElement("p",null,"The protein structure below has been predicted by"," ",l.createElement(i.Z,{href:"//deepmind.com/"},"DeepMind")," with AlphaFold (",l.createElement(i.Z,{href:"//www.nature.com/articles/s41586-021-03819-2"},"Jumper, J et al. 2021"),"). For more information and additional features, please visit this sequence's page at ",l.createElement(i.Z,{href:f},"AlphaFold DB"),".")),a&&!b?l.createElement(p.Z,{type:"info"},"This entry matches several proteins with structure predictions. Use the table below the structure viewer to select another protein."):null,l.createElement(g,{proteinAccession:r,alphaFoldSequence:null===(t=null==x?void 0:x[0])||void 0===t?void 0:t.uniprotSequence,alphaFoldCreationDate:null===(n=null==x?void 0:x[0])||void 0===n?void 0:n.modelCreatedDate}),l.createElement("div",{className:S("af-container")},!b&&l.createElement("div",{className:S("panel-legends")},l.createElement("h5",null,"Information"),l.createElement("ul",{className:S("information")},l.createElement("li",null,l.createElement("span",{className:S("header")},"Protein"),l.createElement(i.Z,{to:{description:{main:{key:"protein"},protein:{db:"uniprot",accession:A.uniprotAccession}}}},A.uniprotAccession),l.createElement("span",{className:S("footer")},"View on"," ",l.createElement(i.Z,{href:f,className:S("ext"),target:"_blank"},"AlphaFold DB")," ","or"," ",l.createElement(c.RY,{id:A.uniprotAccession,className:S("ext"),target:"_blank"},"UniProtKB"),l.createElement("br",null),"Find similar structures with"," ",l.createElement(i.Z,{href:"https://search.foldseek.com/search?accession="+A.uniprotAccession+"&source=AlphaFoldDB",className:S("ext"),target:"_blank"},"Foldseek"))),l.createElement("li",null,l.createElement("span",{className:S("header")},"Organism"),l.createElement("i",null,A.organismScientificName)),x.length>1?l.createElement("li",null,l.createElement("span",{className:S("header")},"Prediction"),l.createElement("select",{value:h||"",className:S("protein-list"),onChange:e=>o(e.target.value),onBlur:e=>o(e.target.value)},x.map((e=>l.createElement("option",{key:e.entryId},e.entryId))))):""),l.createElement("h5",null,"Model confidence"),l.createElement("ul",{className:S("legend")},N.map((e=>l.createElement("li",{key:e.category},l.createElement("span",{style:{backgroundColor:e.color}}," ")," ",e.category," (",e.range,")"))))),l.createElement("div",{className:S("panel-component")},l.createElement(u.Z,{className:S({"structure-viewer-split":b}),"data-testid":"structure-3d-viewer",OtherButtons:l.createElement("div",{style:{display:b?"none":"block"},className:S("button-bar")},l.createElement(i.Z,{className:S("control"),href:A.pdbUrl,download:(r||"download")+".model.pdb"},l.createElement("span",{className:S("icon","icon-common","icon-download"),"data-icon":""})," PDB file"),l.createElement(i.Z,{className:S("control"),href:A.cifUrl,download:(r||"download")+".model.cif"},l.createElement("span",{className:S("icon","icon-common","icon-download"),"data-icon":""})," mmCIF file"),l.createElement(_.Z,{type:"inline",icon:"icon-redo",className:S("control"),onClick:()=>k(!0),title:"Reset image"}),l.createElement(s.Z,{className:S("icon","icon-common","control"),tooltip:"Split full screen",dataIcon:"icon-columns",element:w,onFullScreenHook:()=>null==P?void 0:P(!0),onExitFullScreenHook:()=>null==P?void 0:P(!1)})," ",l.createElement(s.Z,{className:S("icon","icon-common","control"),tooltip:"View the structure in full screen mode",element:F?I:null})," ",l.createElement(d.Z,{className:S("icon","icon-common","control")}))},l.createElement(v.Z,{id:"fullSequence",url:A.cifUrl,elementId:I,ext:"mmcif",theme:"af",shouldResetViewer:Z,selections:y,onStructureLoaded:()=>{C(!0)}})))))}));n(64043),n(61514),n(60429);var C=n(2191),x=n(41089),A=(0,w.Z)(b.Z,P.Z),I=e=>(0,a.P1)((e=>e.settings.api),(e=>e.customLocation.description),(e=>e.customLocation.search),((t,n,l)=>{var{protocol:r,hostname:a,port:i,root:c}=t;if("entry"===n.main.key){var s,u={main:{key:"protein",numberOfFilters:1},protein:{db:n.protein.db||"UniProt"},entry:{isFilter:!0,db:n.entry.db,accession:n.entry.accession}};return s=e?Object.assign(Object.assign({},l),{has_model:!0}):{has_model:!0},(0,o.format)({protocol:r,hostname:a,port:i,pathname:c+(0,E.Z)(u),query:s})}return null})),V=(0,a.P1)((e=>e.customLocation.description),(e=>e.customLocation.search),((e,t)=>({description:e,search:t})));const D=(0,r.Z)({getUrl:I(!0),mapStateToProps:V})((e=>{var t,n,r,a,{data:o,isStale:c,search:s,onProteinChange:u}=e;return(null==o?void 0:o.loading)?l.createElement(m.Z,null):l.createElement("div",null,l.createElement(x.ZP,{dataTable:(null===(t=null==o?void 0:o.payload)||void 0===t?void 0:t.results.map((e=>e.metadata)))||[],contentType:"protein",loading:null==o?void 0:o.loading,ok:null==o?void 0:o.ok,status:null==o?void 0:o.status,actualSize:(null===(n=null==o?void 0:o.payload)||void 0===n?void 0:n.count)||0,query:s,nextAPICall:null===(r=null==o?void 0:o.payload)||void 0===r?void 0:r.next,previousAPICall:null===(a=null==o?void 0:o.payload)||void 0===a?void 0:a.previous,currentAPICall:null==o?void 0:o.url,isStale:c},l.createElement(x.xw,null),l.createElement(x.Rj,{loading:null==o?void 0:o.loading},"Search proteins"),l.createElement(x.sg,{dataKey:"accession",cellClassName:"nowrap",renderer:(e,t)=>l.createElement(l.Fragment,null,l.createElement(i.Z,{to:{description:{main:{key:"protein"},protein:{db:t.source_database,accession:e}},search:{}},className:A("acc-row")},e),"reviewed"===t.source_database?l.createElement(l.Fragment,null," ",l.createElement(C.Z,{title:"Reviewed by UniProtKB curators"},l.createElement("span",{className:A("icon","icon-common"),"data-icon":"","aria-label":"reviewed"}))):null)}),l.createElement(x.sg,{dataKey:"name",renderer:(e,t)=>l.createElement(i.Z,{to:{description:{main:{key:"protein"},protein:{db:t.source_database,accession:t.accession}},search:{}},className:A("acc-row")},e)},"Name"),l.createElement(x.sg,{dataKey:"source_organism",renderer:e=>{var{fullName:t,taxId:n}=e;return l.createElement(i.Z,{to:{description:{main:{key:"taxonomy"},taxonomy:{db:"uniprot",accession:""+n}}}},t)}},"Species"),l.createElement(x.sg,{dataKey:"length",headerClassName:A("text-right"),cellClassName:A("text-right"),renderer:e=>e.toLocaleString()},"Length"),l.createElement(x.sg,{dataKey:"",headerClassName:A("text-right"),cellClassName:A("text-right"),renderer:(e,t)=>l.createElement(_.z,{type:"secondary",onClick:()=>u(t.accession)},"Show prediction")})))}));var R=n(32246),q=n(29522),M=(0,w.Z)(b.Z,P.Z,q.Z);const L=(0,r.Z)({getUrl:I(!1),mapStateToProps:V})((e=>{var t,{data:n,description:r}=e,a=r[r.main.key].accession,o=r.main.key.toLowerCase(),i=(0,l.useRef)(null),[c,s]=(0,l.useState)(null),[u,d]=(0,l.useState)(""),[p,_]=(0,l.useState)(null),[v,h]=(0,l.useState)(!1);if((0,l.useEffect)((()=>{var e,t;"entry"===o?((null===(e=null==n?void 0:n.payload)||void 0===e?void 0:e.count)||0)>0&&d((null===(t=null==n?void 0:n.payload)||void 0===t?void 0:t.results[0].metadata.accession)||""):d(a)}),[a,n]),null==n?void 0:n.loading)return l.createElement(m.Z,null);var f="entry"===o&&((null===(t=null==n?void 0:n.payload)||void 0===t?void 0:t.count)||0)>1;return l.createElement("div",{className:M("vf-stack","vf-stack-400",{"split-view":v}),ref:i},u&&l.createElement(F,{proteinAcc:u,hasMultipleProteins:f,onModelChange:e=>{_(e)},modelId:p,selections:c,parentElement:i.current,isSplitScreen:v,onSplitScreenChange:e=>h(e)}),"entry"===o?l.createElement(D,{onProteinChange:e=>{var t;d(e),_(null),null===(t=i.current)||void 0===t||t.scrollIntoView()}}):l.createElement("div",{"data-testid":"alphafold-protvista",className:M("protvista-container")},l.createElement(R.Z,{protein:u,onChangeSelection:e=>{s(e)},isSplitScreen:v})))}))},20933:(e,t,n)=>{n.d(t,{Z:()=>l});const l={"button-bar":"ViewerAndEntries_button-bar__button-bar___bb",control:"ViewerAndEntries_button-bar__control___e3"}},29522:(e,t,n)=>{n.d(t,{Z:()=>l});const l={"structure-viewer":"ViewerAndEntries_style__structure-viewer___f0","structure-viewer-select":"ViewerAndEntries_style__structure-viewer-select___ca","as-link":"ViewerAndEntries_style__as-link___ff","split-view":"ViewerAndEntries_style__split-view___c0","protvista-container":"ViewerAndEntries_style__protvista-container___c4",wrapper:"ViewerAndEntries_style__wrapper___e8"}}}]);
//# sourceMappingURL=163.module.alphafold-model-subpage.20d.js.map